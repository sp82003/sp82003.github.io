// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
/*

 ====================================================================
 jsPDF - PDF Document creation from JavaScript
 Version 1.3.4 Built on 2017-04-10T14:14:44.483Z
                           CommitID cf4827d221

 Copyright (c) 2010-2016 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
               2010 Aaron Spike, https://github.com/acspike
               2012 Willow Systems Corporation, willow-systems.com
               2012 Pablo Hess, https://github.com/pablohess
               2012 Florian Jenett, https://github.com/fjenett
               2013 Warren Weckesser, https://github.com/warrenweckesser
               2013 Youssef Beddad, https://github.com/lifof
               2013 Lee Driscoll, https://github.com/lsdriscoll
               2013 Stefan Slonevskiy, https://github.com/stefslon
               2013 Jeremy Morel, https://github.com/jmorel
               2013 Christoph Hartmann, https://github.com/chris-rock
               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
               2014 James Makes, https://github.com/dollaruw
               2014 Diego Casorran, https://github.com/diegocr
               2014 Steven Spungin, https://github.com/Flamenco
               2014 Kenneth Glassey, https://github.com/Gavvers

 Licensed under the MIT License

 Contributor(s):
    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
    kim3er, mfo, alnorth, Flamenco

 ====================================================================
 jsPDF AcroForm Plugin
 Copyright (c) 2016 Alexander Weidt, https://github.com/BiggA94

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF addHTML PlugIn
 Copyright (c) 2014 Diego Casorran

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF addImage plugin
 Copyright (c) 2012 Jason Siefken, https://github.com/siefkenj/
               2013 Chris Dowling, https://github.com/gingerchris
               2013 Trinh Ho, https://github.com/ineedfat
               2013 Edwin Alejandro Perez, https://github.com/eaparango
               2013 Norah Smith, https://github.com/burnburnrocket
               2014 Diego Casorran, https://github.com/diegocr
               2014 James Robb, https://github.com/jamesbrobb

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF Cell plugin
 Copyright (c) 2013 Youssef Beddad, youssef.beddad@gmail.com
               2013 Eduardo Menezes de Morais, eduardo.morais@usp.br
               2013 Lee Driscoll, https://github.com/lsdriscoll
               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
               2014 James Hall, james@parall.ax
               2014 Diego Casorran, https://github.com/diegocr

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF fromHTML plugin. BETA stage. API subject to change. Needs browser
 Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
               2014 Diego Casorran, https://github.com/diegocr
               2014 Daniel Husar, https://github.com/danielhusar
               2014 Wolfgang Gassler, https://github.com/woolfg
               2014 Steven Spungin, https://github.com/flamenco

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF JavaScript plugin
 Copyright (c) 2013 Youssef Beddad, youssef.beddad@gmail.com

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

  ====================================================================
 jsPDF PNG PlugIn
 Copyright (c) 2014 James Robb, https://github.com/jamesbrobb

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF split_text_to_size plugin - MIT license.
 Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
               2014 Diego Casorran, https://github.com/diegocr

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF total_pages plugin
 Copyright (c) 2013 Eduardo Menezes de Morais, eduardo.morais@usp.br

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 adler32cs
 Copyright (c) 2012 chick307 <chick307@gmail.com>

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
         Deflate.js - https://github.com/gildas-lormeau/zip.js
         Copyright (c) 2013 Gildas Lormeau. All rights reserved.

         Redistribution and use in source and binary forms, with or without
         modification, are permitted provided that the following conditions are met:

         1. Redistributions of source code must retain the above copyright notice,
         this list of conditions and the following disclaimer.

         2. Redistributions in binary form must reproduce the above copyright
         notice, this list of conditions and the following disclaimer in
         the documentation and/or other materials provided with the distribution.

         3. The names of the authors may not be used to endorse or promote products
         derived from this software without specific prior written permission.

         THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,
         INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
         FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,
         INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,
         INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
         LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
         OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
         LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
         NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
         EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

 ====================================================================
 html2canvas 0.5.0-beta3 <http://html2canvas.hertzen.com>
 Copyright (c) 2016 Niklas von Hertzen

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 base64-arraybuffer
 https://github.com/niklasvh/base64-arraybuffer

 Copyright (c) 2012 Niklas von Hertzen

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 PNG.js
 Copyright (c) 2011 Devon Govett

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 Extracted from pdf.js
 https://github.com/andreasgal/pdf.js

 Copyright (c) 2011 Mozilla Foundation

 Contributors: Andreas Gal <gal@mozilla.com>
               Chris G Jones <cjones@mozilla.com>
               Shaon Barman <shaon.barman@gmail.com>
               Vivien Nicolas <21@vingtetun.org>
               Justin D'Arcangelo <justindarc@gmail.com>
               Yury Delendik

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 String.prototype.trimLeft, String.prototype.trimRight are
 adapted from Chapter 5 Strings and Regular Expressions by
 Steven Levithan in the book High Performance JavaScript by
 Nicholas C. Zakas Copyright 2010 Yahoo!, Inc.,
 978-0-596-80279-0

 License: "In general, you may use the code in this book in
 your programs and documentation. You do not need to contact
 us for permission unless youâ€™re reproducing a significant
 portion of the code. For example, writing a program that uses
 several chunks of code from this book does not require
 permission."
 https://www.safaribooksonline.com/library/view/high-performance-javascript/9781449382308/pr02s12.html

 ====================================================================
 jsPDF Annotations PlugIn
 Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF Autoprint Plugin

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF Canvas PlugIn
 Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF Context2D PlugIn Copyright (c) 2014 Steven Spungin (TwelveTone LLC) steven@twelvetone.tv

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF Outline PlugIn
 Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF standard_fonts_metrics plugin
 Copyright (c) 2012 Willow Systems Corporation,
 willow-systems.com

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF SVG plugin Copyright (c) 2012 Willow Systems
 Corporation, willow-systems.com

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF XMP metadata plugin
 Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 CssColors
 Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license
*/
require({cache:{"dijit/ProgressBar":function(){define("require dojo/_base/declare dojo/dom-class dojo/_base/lang dojo/number ./_Widget ./_TemplatedMixin dojo/text!./templates/ProgressBar.html".split(" "),function(A,z,u,x,v,p,m,y){return z("dijit.ProgressBar",[p,m],{progress:"0",value:"",maximum:100,places:0,indeterminate:!1,label:"",name:"",templateString:y,_indeterminateHighContrastImagePath:A.toUrl("./themes/a11y/indeterminate_progress.gif"),postMixInProperties:function(){this.inherited(arguments);
this.params&&"value"in this.params||(this.value=this.indeterminate?Infinity:this.progress)},buildRendering:function(){this.inherited(arguments);this.indeterminateHighContrastImage.setAttribute("src",this._indeterminateHighContrastImagePath.toString());this.update()},_setDirAttr:function(m){var p="rtl"==m.toLowerCase();u.toggle(this.domNode,"dijitProgressBarRtl",p);u.toggle(this.domNode,"dijitProgressBarIndeterminateRtl",this.indeterminate&&p);this.inherited(arguments)},update:function(m){x.mixin(this,
m||{});m=this.internalProgress;var p=this.domNode,v=1;this.indeterminate?p.removeAttribute("aria-valuenow"):(-1!=String(this.progress).indexOf("%")?(v=Math.min(parseFloat(this.progress)/100,1),this.progress=v*this.maximum):(this.progress=Math.min(this.progress,this.maximum),v=this.maximum?this.progress/this.maximum:0),p.setAttribute("aria-valuenow",this.progress));p.setAttribute("aria-labelledby",this.labelNode.id);p.setAttribute("aria-valuemin",0);p.setAttribute("aria-valuemax",this.maximum);this.labelNode.innerHTML=
this.report(v);u.toggle(this.domNode,"dijitProgressBarIndeterminate",this.indeterminate);u.toggle(this.domNode,"dijitProgressBarIndeterminateRtl",this.indeterminate&&!this.isLeftToRight());m.style.width=100*v+"%";this.onChange()},_setValueAttr:function(m){this._set("value",m);Infinity==m?this.update({indeterminate:!0}):this.update({indeterminate:!1,progress:m})},_setLabelAttr:function(m){this._set("label",m);this.update()},_setIndeterminateAttr:function(m){this._set("indeterminate",m);this.update()},
report:function(m){return this.label?this.label:this.indeterminate?"\x26#160;":v.format(m,{type:"percent",places:this.places,locale:this.lang})},onChange:function(){}})})},"esri/geometry/geometryEngineAsync":function(){define("require exports esri/kernel module esri/geometry/Geometry esri/geometry/Polygon esri/geometry/Polyline esri/geometry/Point esri/geometry/Extent esri/geometry/Multipoint esri/workers/WorkerClient esri/arcade/polyfill/promiseUtils".split(" "),function(A,z,u,x,v,p,m,y,P,I,B,e){function c(a){if(void 0===
y.fromJson){if(void 0!==a.x&&void 0!==a.y)return new y(a);if(void 0!==a.paths)return new m(a);if(void 0!==a.rings)return new p(a);if(void 0!==a.points)return new I(a);if(void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax)return new P(a)}else{if(void 0!==a.x&&void 0!==a.y)return y.fromJson(a);if(void 0!==a.paths)return m.fromJson(a);if(void 0!==a.rings)return p.fromJson(a);if(void 0!==a.points)return I.fromJson(a);if(void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax)return P.fromJson(a)}}
function l(a,f){var d;if(null==a||void 0===a||"number"===typeof a)return a;var h=a.toString();if(""===h)return null;if(2==f){if(d=J[h],void 0!==d)return d}else if(0==f){d=q[h];if(void 0!==d)return d;d=E[a];if(void 0!==d)return d}else if(3==f&&(d=q[h],void 0!==d))return d;if(1==f&&(d=E[a],void 0!==d))return d;if(!0===/^\d+$/.test(h))return parseInt(h);throw Error("Unrecognised Unit Type");}function k(a){if(void 0!==a&&null!==a)switch(a){case "loxodrome":return 1;case "great-elliptic":return 2;case "normal-section":return 3;
case "shape-preserving":return 4}return 0}function a(a){if(null===a||void 0===a)return null;if(t)switch(a.type){case "point":return{x:a.x,y:a.y,z:a.z,m:a.m};case "multipoint":return{points:a.points,hasZ:a.hasZ,hasM:a.hasM};case "polyline":return{paths:a.paths,hasZ:a.hasZ,hasM:a.hasM};case "polygon":return{rings:a.rings,hasZ:a.hasZ,hasM:a.hasM};case "extent":return{xmin:a.xmin,ymin:a.ymin,xmax:a.xmax,ymax:a.ymax,zmin:a.zmin,zmax:a.zmax,mmin:a.mmin,mmax:a.mmax}}else switch(a.type){case "point":return{x:a.x,
y:a.y};case "multipoint":return{points:a.points};case "polyline":return{paths:a.paths};case "polygon":return{rings:a.rings};case "extent":return{xmin:a.xmin,ymin:a.ymin,xmax:a.xmax,ymax:a.ymax}}return null}function n(a,d){if(null===a)return null;a=c(a);t?a.set("spatialReference",d):a.setSpatialReference(d);return a}function f(a){return null==a||void 0===a?null:-1!=a.wkid&&null!==a.wkid&&void 0!==a.wkid?{wkid:a.wkid}:""!==a.wkt&&void 0!==a.wkt&&null!==a.wkt?{wkt:a.wkt}:null}function h(d,h,k){return e.create(function(q,
c){var e=h.spatialReference;F.a({action:d,geoma:a(h),geomb:a(k),spatialReference:f(h.spatialReference)}).then(function(a){0===a.status?c(Error(a.error.message)):q(n(a.result,e))},function(a){c(a)})})}function w(d,h,k){return e.create(function(q,c){F.a({action:d,geoma:a(h),geomb:a(k),spatialReference:f(h.spatialReference)}).then(function(a){0===a.status?c(Error(a.error.message)):q(a.result)},function(a){c(a)})})}var t=0==u.version.indexOf("4."),d;(function(a){a[a.Linear=0]="Linear";a[a.Angular=1]=
"Angular";a[a.Area=2]="Area";a[a.LinearOrAngular=3]="LinearOrAngular"})(d||(d={}));var q={feet:9002,kilometers:9036,meters:9001,miles:9035,"nautical-miles":9030,yards:9096},J={acres:109402,ares:109463,hectares:109401,"square-feet":109405,"square-kilometers":109414,"square-meters":109404,"square-miles":109413,"square-yards":109442},E={degrees:9102,radians:9101},L=function(){function a(){this.c=!0;this.i=null}a.prototype.A=function(a){var d=this;this.i=new B;this.i.setWorker(this.l(),function(){d.c=
!1;a()})};a.prototype.l=function(){return A.B?A.B("./geometryenginewebworker"):x.id.replace(/\/[^\/]*$/ig,"/")+"./geometryenginewebworker"};return a}(),F=function(){function a(){}a.a=function(d){return e.create(function(f,h){a.h.push({task:d,d:{resolve:f,reject:h}});a.f()})};a.f=function(){if(0<a.h.length){for(var d=null,f=0;f<a.b.length;f++)if(!1===a.b[f].c){d=a.b[f];break}null===d&&a.b.length<a.g&&(f=new L,a.b.push(f),f.A(function(){a.f()}));if(null!==d){var h=this.h.shift();d.c=!0;d.i.postMessage(h.task).then(function(f){d.c=
!1;try{h.d.resolve(f)}catch(G){}a.f()},function(f){d.c=!1;try{h.d.reject(f)}catch(G){}a.f()})}}};a.b=[];a.h=[];a.g=4;return a}();return function(){function d(){}d._removeAllWorkers=function(){F.b=[]};d._setMaxWorkers=function(a){d._removeAllWorkers();F.g=a};d._getMaxWorkers=function(){return F.g};d._getNumWorkers=function(){return F.b.length};d.extendedSpatialReferenceInfo=function(a){return e.create(function(d,h){F.a({action:"extendedspatialreferenceinfo",spatialReference:f(a)}).then(function(a){0===
a.status?h(Error(a.error.message)):d(a.result)},function(a){h(a)})})};d.equals=function(a,d){return null===a&&null!==d||null===d&&null!==a?!1:w("equals",a,d)};d.intersects=function(a,d){if(null===a||null===d)throw Error("Illegal Argument Exception");return w("intersects",a,d)};d.touches=function(a,d){if(null===a||null===d)throw Error("Illegal Argument Exception");return w("touches",a,d)};d.within=function(a,d){if(null===a||null===d)throw Error("Illegal Argument Exception");return w("within",a,d)};
d.disjoint=function(a,d){if(null===a||null===d)throw Error("Illegal Argument Exception");return w("disjoint",a,d)};d.overlaps=function(a,d){if(null===a||null===d)throw Error("Illegal Argument Exception");return w("overlaps",a,d)};d.crosses=function(a,d){if(null===a||null===d)throw Error("Illegal Argument Exception");return w("crosses",a,d)};d.contains=function(a,d){if(null===a||null===d)throw Error("Illegal Argument Exception");return w("contains",a,d)};d.isSimple=function(a){return w("issimple",
a,null)};d.clip=function(a,d){return h("clip",a,d)};d.simplify=function(d){return e.create(function(h,k){var q=d.spatialReference;F.a({action:"simplify",geoma:a(d),spatialReference:f(d.spatialReference)}).then(function(a){0===a.status?k(Error(a.error.message)):h(n(a.result,q))},function(a){k(a)})})};d.rotate=function(d,h,k){return e.create(function(q,c){var e=d.spatialReference;if(void 0===k||null===k)switch(d.type){case "point":k=d;break;case "extent":k=t?d.get("center"):d.getCenter();break;default:k=
t?d.get("extent").get("center"):d.getExtent().getCenter()}F.a({action:"rotate",geoma:a(d),spatialReference:f(d.spatialReference),angle:h,rotpt:a(k)}).then(function(a){0===a.status?c(Error(a.error.message)):q(n(a.result,e))},function(a){c(a)})})};d.flipHorizontal=function(d,h){return e.create(function(k,q){var c=d.spatialReference;if(void 0===h||null===h)switch(d.type){case "point":h=d;break;case "extent":h=t?d.get("center"):d.getCenter();break;default:h=t?d.get("extent").get("center"):d.getExtent().getCenter()}F.a({action:"fliph",
geoma:a(d),spatialReference:f(d.spatialReference),flippt:a(h)}).then(function(a){0===a.status?q(Error(a.error.message)):k(n(a.result,c))},function(a){q(a)})})};d.flipVertical=function(d,h){return e.create(function(k,q){var c=d.spatialReference;if(void 0===h||null===h)switch(d.type){case "point":h=d;break;case "extent":h=t?d.get("center"):d.getCenter();break;default:h=t?d.get("extent").get("center"):d.getExtent().getCenter()}F.a({action:"flipv",geoma:a(d),spatialReference:f(d.spatialReference),flippt:a(h)}).then(function(a){0===
a.status?q(Error(a.error.message)):k(n(a.result,c))},function(a){q(a)})})};d.distance=function(d,h,k){return e.create(function(q,c){F.a({action:"distance",geoma:a(d),geomb:a(h),spatialReference:f(d.spatialReference),distanceunits:l(k,3)}).then(function(a){0===a.status?c(Error(a.error.message)):q(a.result)},function(a){c(a)})})};d.relate=function(d,h,k){return e.create(function(q,c){F.a({action:"relate",geoma:a(d),geomb:a(h),relation:k,spatialReference:f(d.spatialReference)}).then(function(a){0===
a.status?c(Error(a.error.message)):q(a.result)},function(a){c(a)})})};d.nearestCoordinate=function(d,h,k){return e.create(function(q,c){var e=d.spatialReference;F.a({action:"nearestcoord",geoma:a(d),geomb:a(h),spatialReference:f(d.spatialReference),testinterior:void 0===k?!0:k}).then(function(a){0===a.status?c(Error(a.error.message)):(a.result.coordinate=n(a.result.coordinate,e),q(a.result))},function(a){c(a)})})};d.nearestVertex=function(d,h){return e.create(function(k,q){var c=d.spatialReference;
F.a({action:"nearestvertex",geoma:a(d),geomb:a(h),spatialReference:f(d.spatialReference)}).then(function(a){0===a.status?q(Error(a.error.message)):(a.result.coordinate=n(a.result.coordinate,c),k(a.result))},function(a){q(a)})})};d.nearestVertices=function(d,h,k,q){return e.create(function(c,e){var t=d.spatialReference;F.a({action:"nearestvertices",geoma:a(d),geomb:a(h),spatialReference:f(d.spatialReference),searchradius:k,maxreturn:q}).then(function(a){if(0===a.status)e(Error(a.error.message));else{for(var d=
0;d<a.result.length;d++)a.result[d].coordinate=n(a.result[d].coordinate,t);c(a.result)}},function(a){e(a)})})};d.cut=function(d,h){return e.create(function(k,q){var c=d.spatialReference;F.a({action:"cut",geoma:a(d),geomb:a(h),spatialReference:f(d.spatialReference)}).then(function(a){if(0===a.status)q(Error(a.error.message));else{for(var d=0;d<a.result.length;d++)a.result[d]=n(a.result[d],c);k(a.result)}},function(a){q(a)})})};d.generalize=function(d,h,k,q){return e.create(function(c,e){var t=d.spatialReference;
F.a({action:"generalize",geoma:a(d),maxdeviation:h,removedegenerateparts:k,maxdeviationunit:l(q,3),spatialReference:f(d.spatialReference)}).then(function(a){0===a.status?e(Error(a.error.message)):c(n(a.result,t))},function(a){e(a)})})};d.densify=function(d,h,k){return e.create(function(q,c){var e=d.spatialReference;F.a({action:"densify",geoma:a(d),maxsegmentlength:h,maxsegmentlengthunit:l(k,3),spatialReference:f(d.spatialReference)}).then(function(a){0===a.status?c(Error(a.error.message)):q(n(a.result,
e))},function(a){c(a)})})};d.geodesicDensify=function(d,h,k,q){void 0===q&&(q=0);return e.create(function(c,e){var t=d.spatialReference;F.a({action:"geodensify",geoma:a(d),maxsegmentlength:h,maxsegmentlengthunit:l(k,3),spatialReference:f(d.spatialReference),curveType:q}).then(function(a){0===a.status?e(Error(a.error.message)):c(n(a.result,t))},function(a){e(a)})})};d.intersect=function(a,f){return a instanceof v?h("intersect",a,f):d.u(a,f)};d.u=function(d,h){return e.create(function(k,q){for(var c=
[],e=0;e<d.length;e++)c.push(a(d[e]));var t=h.spatialReference;F.a({action:"intersectmany",geom:a(h),geometries:c,spatialReference:f(h.spatialReference)}).then(function(a){if(0===a.status)q(Error(a.error.message));else{for(var d=0;d<a.result.length;d++)a.result[d]=n(a.result[d],t);k(a.result)}},function(a){q(a)})})};d.difference=function(a,f){return a instanceof v?h("difference",a,f):d.s(a,f)};d.s=function(d,h){return e.create(function(k,q){for(var c=[],e=0;e<d.length;e++)c.push(a(d[e]));var t=h.spatialReference;
F.a({action:"differencemany",geom:a(h),geometries:c,spatialReference:f(h.spatialReference)}).then(function(a){if(0===a.status)q(Error(a.error.message));else{for(var d=0;d<a.result.length;d++)a.result[d]=n(a.result[d],t);k(a.result)}},function(a){q(a)})})};d.symmetricDifference=function(a,f){return a instanceof v?h("symdifference",a,f):d.w(a,f)};d.w=function(d,h){return e.create(function(k,q){for(var c=[],e=0;e<d.length;e++)c.push(a(d[e]));var t=h.spatialReference;F.a({action:"symdifferencemany",geom:a(h),
geometries:c,spatialReference:f(h.spatialReference)}).then(function(a){if(0===a.status)q(Error(a.error.message));else{for(var d=0;d<a.result.length;d++)a.result[d]=n(a.result[d],t);k(a.result)}},function(a){q(a)})})};d.union=function(d,h){void 0===h&&(h=null);return e.create(function(k,q){var c=[];if(null===d)k(null);else if(d instanceof v&&(d=[d],null!==h&&d.push(h)),0===d.length)k(null);else{for(var e=0;e<d.length;e++)c.push(a(d[e]));var t=d[0].spatialReference;F.a({action:"unionmany",geometries:c,
spatialReference:f(t)}).then(function(a){0===a.status?q(Error(a.error.message)):k(n(a.result,t))},function(a){q(a)})}})};d.buffer=function(h,k,q,c){void 0===c&&(c=!1);if(h instanceof v)return e.create(function(d,c){var e=h.spatialReference;F.a({action:"buffer",geoma:a(h),spatialReference:f(h.spatialReference),distance:k,unit:l(q,3),geodesic:!1,geodesicmaxdeviation:NaN,geodesiccurvetype:0}).then(function(a){0===a.status?c(Error(a.error.message)):d(n(a.result,e))},function(a){c(a)})});if("[object Array]"!==
Object.prototype.toString.call(k)){for(var t=[],w=0;w<h.length;w++)t.push(k);k=t}if(k.length!=h.length){if(0==k.length)throw Error("Illegal Argument Exception");for(var t=[],E=0,w=0;w<h.length;w++)void 0===k[w]?t.push(E):(t.push(k[w]),E=k[w]);k=t}return d.j(h,k,q,!1,c,"geodesic",NaN)};d.geodesicBuffer=function(h,q,c,t,w,E){if(h instanceof v)return e.create(function(d,e){void 0===w&&(w=NaN);var E=h.spatialReference;F.a({action:"buffer",geoma:a(h),spatialReference:f(h.spatialReference),distance:q,unit:l(c,
0),geodesic:!0,geodesicmaxdeviation:w,geodesiccurvetype:k(t)}).then(function(a){0===a.status?e(Error(a.error.message)):d(n(a.result,E))},function(a){e(a)})});if("[object Array]"!==Object.prototype.toString.call(q)){for(var J=[],L=0;L<h.length;L++)J.push(q);q=J}if(q.length!=h.length){if(0==q.length)throw Error("Illegal Argument Exception");for(var J=[],m=0,L=0;L<h.length;L++)void 0===q[L]?J.push(m):(J.push(q[L]),m=q[L]);q=J}return d.j(h,q,c,!0,t,w,E)};d.j=function(d,h,q,c,t,w,E){return e.create(function(e,
J){var L=[];void 0===E&&(E=NaN);if(null===d)e(null);else if(0===d.length)e(null);else{for(var m=0;m<d.length;m++)L.push(a(d[m]));q=c?l(q,0):l(q,3);var O=d[0].spatialReference;F.a({action:"buffermany",geometries:L,spatialReference:f(O),distances:h,tounionresults:t,unit:q,geodesic:c,geodesicmaxdeviation:E,geodesiccurvetype:k(w)}).then(function(a){if(0===a.status)J(Error(a.error.message));else{for(var d=0;d<a.result.length;d++)a.result[d]=n(a.result[d],O);e(a.result)}},function(a){J(a)})}})};d.convexHull=
function(h,k){void 0===k&&(k=!1);return h instanceof v?e.create(function(d,k){var q=h.spatialReference;F.a({action:"convexhull",geoma:a(h),spatialReference:f(h.spatialReference)}).then(function(a){0===a.status?k(Error(a.error.message)):d(n(a.result,q))},function(a){k(a)})}):d.o(h,k)};d.o=function(d,f){return e.create(function(h,k){for(var q=[],c=0;c<d.length;c++)q.push(a(d[c]));var e=0<d.length?d[0].spatialReference:null;F.a({action:"convexhullmany",geometries:q,merge:f}).then(function(a){if(0===
a.status)k(Error(a.error.message));else{for(var d=0;d<a.result.length;d++)a.result[d]=n(a.result[d],e);h(a.result)}},function(a){k(a)})})};d.offset=function(h,k,q,c,t,w){var E=0;if(null!=c&&void 0!=c)switch(c){case "round":E=0;break;case "bevel":E=1;break;case "miter":E=2;break;case "square":E=3}return h instanceof v?e.create(function(d,c){var e=h.spatialReference;F.a({action:"offset",geoma:a(h),spatialReference:f(h.spatialReference),distance:k,joins:E,bevelratio:t,flattenerror:w,offsetunit:l(q,3)}).then(function(a){0===
a.status?c(Error(a.error.message)):d(n(a.result,e))},function(a){c(a)})}):d.v(h,k,q,E,t,w)};d.v=function(d,h,k,q,c,t){return e.create(function(e,w){for(var E=[],J=0;J<d.length;J++)E.push(a(d[J]));var L=0<d.length?d[0].spatialReference:null;F.a({action:"offsetmany",geometries:E,spatialReference:f(L),distance:h,joins:q,bevelratio:c,offsetunit:l(k,3),flattenerror:t}).then(function(a){if(0===a.status)w(Error(a.error.message));else{for(var d=0;d<a.result.length;d++)a.result[d]=n(a.result[d],L);e(a.result)}},
function(a){w(a)})})};d.planarArea=function(d,h){return e.create(function(k,q){F.a({action:"area",geoma:a(d),unit:l(h,2),spatialReference:f(d.spatialReference)}).then(function(a){0===a.status?q(Error(a.error.message)):k(a.result)},function(a){q(a)})})};d.planarLength=function(d,h){return e.create(function(k,q){F.a({action:"length",geoma:a(d),unit:l(h,3),spatialReference:f(d.spatialReference)}).then(function(a){0===a.status?q(Error(a.error.message)):k(a.result)},function(a){q(a)})})};d.geodesicArea=
function(d,h,q){return e.create(function(c,e){F.a({action:"geodesicarea",geoma:a(d),unit:l(h,2),geodesiccurvetype:k(q),spatialReference:f(d.spatialReference)}).then(function(a){0===a.status?e(Error(a.error.message)):c(a.result)},function(a){e(a)})})};d.geodesicLength=function(d,h,q){return e.create(function(c,e){F.a({action:"geodesiclength",geoma:a(d),unit:l(h,0),geodesiccurvetype:k(q),spatialReference:f(d.spatialReference)}).then(function(a){0===a.status?e(Error(a.error.message)):c(a.result)},function(a){e(a)})})};
return d}()})},"esri/workers/WorkerClient":function(){define("dojo/Evented dojo/_base/declare dojo/Deferred dojo/_base/lang dojo/request ../sniff ../kernel ../urlUtils require".split(" "),function(A,z,u,x,v,p,m,y,P){var I=window.Blob||window.webkitBlob||window.mozBlob,B=window.URL||window.webkitURL||window.mozURL;A=z([A],{declaredClass:"esri.workers.WorkerClient",worker:null,returnDeferreds:!1,_queue:null,constructor:function(e,c,l){this._isIE=p("ie");this.returnDeferreds=!!l;this._queue={};this._acceptMessage=
x.hitch(this,this._acceptMessage);this._errorMessage=x.hitch(this,this._errorMessage);e&&this.setWorker(e,x.hitch(this,function(k){this.worker=k;c(k)}))},setWorker:function(e,c){if(e instanceof Array){var l=e;e=l.shift()}var k=this._getUrl(e),k=y.normalize(k);e=!y.hasSameOrigin(k,location.href);var a;if(!1===k)return console.log("Can not resolve worker path"),!1;this.worker&&(a=this.worker,a.removeEventListener("message",this._acceptMessage,!1),a.removeEventListener("error",this._errorMessage,!1),
a.terminate(),a=null);if(e){e=this._getUrl("./mutableWorker",!0);try{this._getRemoteText(e,x.hitch(this,function(a){a=B.createObjectURL(new I([a],{type:"text/javascript"}));c(this._createWorker(a,k))}))}catch(n){try{e=y.getProxyUrl(e).path+"?"+encodeURI(e),this._useProxy=!0,c(this._createWorker(e,l))}catch(f){return console.log("Can not create worker"),!1}}}else setTimeout(x.hitch(this,function(){c(this._createWorker(k,l))}),0)},_createWorker:function(e,c){e=new Worker(e);e.addEventListener("message",
this._acceptMessage,!1);e.addEventListener("error",this._errorMessage,!1);this.worker=e;c&&this.importScripts(c);return e},postMessage:function(e,c){if(e instanceof Array||"object"!=typeof e)e={data:e};var l=Math.floor(64E9*Math.random()).toString(36);e.msgId=l;l=this._queue[l]=new u;this.worker?(c?this.worker.postMessage(e,c):this.worker.postMessage(e),this.emit("start-message",{target:this,message:e})):l.reject({message:"No worker was set."});return this.returnDeferreds?l:l.promise||l},terminate:function(){var e=
Object.keys(this._queue);this.worker&&this.worker.terminate();for(var c=e.length-1;0<=c;c--)this._queue[e[c]].cancel("terminated"),delete this._queue[e[c]]},addWorkerCallback:function(e,c){var l=this._getUrl(e,!0);!1===l?(c=new u,c.reject({message:"Could not load text from "+e})):(c=this.postMessage({action:"add-callback",url:l,cbName:c||"main"}),c.then(x.hitch(this,function(k){k.target=this;this.emit("callback-added",k)})));return c},importScripts:function(e){Array.isArray(e)||(e=[e]);e=e.map(function(c){c=
this._getUrl(c,!0);this._useProxy&&!y.hasSameOrigin(c,location.href)&&(c=y.getProxyUrl(c).path+"?"+encodeURI(c));return c},this);e=this.postMessage({action:"import-script",url:e});e.then(x.hitch(this,function(c){c.target=this;this.emit("scripts-imported",c)}));return e},_acceptMessage:function(e){var c=e.data,l=c.msgId;if(c.status&&"debug"==c.status)console[c.showAs||"debug"](c);else if(l&&l in this._queue){var k=this._queue[l];"progress"==c.status?k.progress(e.data):("error"==c.status?k.reject(e.data):
k.resolve(e.data),delete this._queue[l])}this.emit("message",{message:e.data,event:e,target:this})},_errorMessage:function(e){this.onerror||this.onError?this.onerror?this.onerror(e):this.onError(e):console.log("Worker Error: "+e.message+"\nIn "+e.filename+" on "+e.lineno)},_getUrl:function(e,c){if(!e)return console.error("can not resolve empty path"),!1;e.match(/\.js$/)||(e+=".js");e=P.toUrl(e);return c?y.getAbsoluteUrl(e):e},_getRemoteText:function(e,c){(e=this._getUrl(e))&&v.get(e,{sync:!1,handleAs:"text",
headers:{"X-Requested-With":"","Content-Type":"text/plain"}}).then(function(e){c(e)})},_startBlobWorker:function(){var e=this._xdSource;e||(e=this._getUrl("./mutableWorker"),e=new I(["if(!self._mutable){importScripts('"+e+"');}"],{type:"text/javascript"}),e=this._xdSource=B.createObjectURL(e));try{return new Worker(e)}catch(c){return console.log(c.message),!1}}});p("extend-esri")&&x.setObject("workers.WorkerClient",A,m);return A})},"esri/tasks/BufferParameters":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/json dojo/has ../kernel ../geometry/Polygon ../geometry/jsonUtils".split(" "),
function(A,z,u,x,v,p,m,y){A=A(null,{declaredClass:"esri.tasks.BufferParameters",geometries:null,outSpatialReference:null,bufferSpatialReference:null,distances:null,unit:null,unionResults:!1,geodesic:!1,toJson:function(){var p={unit:this.unit,unionResults:this.unionResults,geodesic:this.geodesic},v=this.distances,B=this.outSpatialReference,e=this.bufferSpatialReference,c=u.map(this.geometries,function(a){a="extent"===a.type?m.fromExtent(a):a;return a.toJson()},this),l=this.geometries;if(l&&0<l.length){var k=
"extent"===l[0].type?"esriGeometryPolygon":y.getJsonType(l[0]);p.geometries=x.toJson({geometryType:k,geometries:c});p.inSR=l[0].spatialReference.wkid?l[0].spatialReference.wkid:x.toJson(l[0].spatialReference.toJson())}v&&(p.distances=v.join(","));B&&(p.outSR=B.wkid?B.wkid:x.toJson(B.toJson()));e&&(p.bufferSR=e.wkid?e.wkid:x.toJson(e.toJson()));return p}});v("extend-esri")&&z.setObject("tasks.BufferParameters",A,p);return A})},"jimu/dijit/SearchDistance":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/SearchDistance.html dojo/Evented dojo/_base/lang jimu/utils jimu/dijit/CheckBox esri/tasks/GeometryService jimu/dijit/formSelect dijit/form/NumberTextBox".split(" "),
function(A,z,u,x,v,p,m,y,P,I){return A([z,u,x,p],{baseClass:"jimu-dijit-searchdistance",templateString:v,lastMeters:0,tip:"",distance:0,unit:"",postMixInProperties:function(){this.inherited(arguments);this.nls=m.clone(window.jimuNls.units);this.tip||(this.tip=window.jimuNls.searchDistance.applySearchDistance)},postCreate:function(){this.inherited(arguments);this.cbx=new P({label:this.tip,onChange:m.hitch(this,this._onCbxChanged)});this.cbx.placeAt(this.cbxDiv);this.reset();this.setDistance(this.distance);
this.setUnit(this.unit);this.lastMeters=this.getMeters()},enable:function(){this.cbx.check()},disable:function(){this.cbx.uncheck()},isEnabled:function(){return this.cbx.getValue()},reset:function(){this.numberTextBox.set("value",0);this.unitSelect.set("value","MILES")},getData:function(){return{status:this.getStatus(),isEnabled:this.isEnabled(),distance:this.getDistance(),unit:this.getUnit(),bufferUnit:this.getUnitToBuffer(),meters:this.getMeters()}},getStatus:function(){var m;this.isEnabled()?(m=
this.getDistance(),m=0<m?1:0===m?0:-1):m=0;return m},getMeters:function(){var m=0,e=this.getStatus();if(0<e){var e=this.getDistance(),c=this.getUnit();"MILES"===c?m=1609.344*e:"KILOMETERS"===c?m=1E3*e:"FEET"===c?m=.3048*e:"METERS"===c?m=e:"YARDS"===c?m=.9144*e:"NAUTICAL_MILES"===c&&(m=1852*e);m=parseFloat(m.toFixed(3))}else 0===e?m=0:0>e&&(m=-1);return m},setDistance:function(m){"number"===typeof m&&0<=m&&this.numberTextBox.set("value",m)},setUnit:function(m){m&&"string"===typeof m&&this.unitSelect.set("value",
m)},tryShowValidationError:function(){this.numberTextBox.validate()||y.showValidationErrorTipForFormDijit(this.numberTextBox)},getDistance:function(){return this.numberTextBox.validate()?this.numberTextBox.get("value"):(y.showValidationErrorTipForFormDijit(this.numberTextBox),-1)},getUnit:function(){return this.unitSelect.get("value")},getUnitToBuffer:function(){var m="";switch(this.unitSelect.get("value")){case "MILES":m=I.UNIT_STATUTE_MILE;break;case "KILOMETERS":m=I.UNIT_KILOMETER;break;case "FEET":m=
I.UNIT_FOOT;break;case "METERS":m=I.UNIT_METER;break;case "YARDS":m=I.UNIT_INTERNATIONAL_YARD;break;case "NAUTICAL_MILES":m=I.UNIT_NAUTICAL_MILE}return m},_onCbxChanged:function(){this.cbx.getValue()?(this.numberTextBox.set("disabled",!1),this.unitSelect.set("disabled",!1)):(this.numberTextBox.set("disabled",!0),this.unitSelect.set("disabled",!0));this._emitEvent()},_onNumberTextBoxChanged:function(){this._emitEvent()},_onUnitSelectChanged:function(){this._emitEvent()},_emitEvent:function(){var m=
this.getData();m.meters!==this.lastMeters&&(this.lastMeters=m.meters,this.emit("change",m))}})})},"jimu/dijit/FeatureSetChooserForMultipleLayers":function(){define("dojo/on dojo/sniff dojo/mouse dojo/query dojo/Evented dojo/_base/html dojo/_base/lang dojo/_base/array dojo/promise/all dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/FeatureSetChooserForMultipleLayers.html dijit/popup dijit/TooltipDialog jimu/utils jimu/dijit/DrawBox jimu/dijit/_FeatureSetChooserCore jimu/SelectionManager jimu/dijit/FeatureActionPopupMenu".split(" "),
function(A,z,u,x,v,p,m,y,P,I,B,e,c,l,k,a,n,f,h,w,t){return I([B,e,c,v],{baseClass:"jimu-multiple-layers-featureset-chooser",declaredClass:"jimu.dijit.FeatureSetChooserForMultipleLayers",templateString:l,drawBox:null,_instances:null,_tooltipDialogTimeoutId1:-1,_tooltipDialogClientX1:-1,_tooltipDialogTimeoutId2:-1,_tooltipDialogClientX2:-1,_tooltipTimeout:1E3,_currentGeoTypeInfo:null,_geoTypeInfos:null,map:null,updateSelection:!1,fullyWithin:!1,geoTypes:null,actions:null,postMixInProperties:function(){this.inherited(arguments);
this.nls=window.jimuNls.featureSetChooser;var a="POINT EXTENT POLYGON CIRCLE POLYLINE FREEHAND_POLYGON".split(" ");this.geoTypes&&0<this.geoTypes.length&&(this.geoTypes=y.filter(this.geoTypes,m.hitch(this,function(d){return 0<=a.indexOf(d)})));this.geoTypes&&0!==this.geoTypes.length||(this.geoTypes=["EXTENT"])},postCreate:function(){this.inherited(arguments);this._instances=[];this.popupMenu=t.getInstance();x(".select-text",this.domNode)[0].innerHTML=this.nls.select;x(".clear-text",this.domNode)[0].innerHTML=
window.jimuNls.common.clear;this._initTooltipDialogs();this._initDrawBox();this._geoTypeInfos=[];this.actions=[];0===this.geoTypes.length&&this.geoTypes.push("EXTENT");1===this.geoTypes.length?p.addClass(this.domNode,"single-geotype"):p.addClass(this.domNode,"multiple-geotypes");var a={POINT:["icon-select-by-point",this.nls.selectByPoint,this.drawBox.pointIcon],EXTENT:["icon-select-by-rect",this.nls.selectByRectangle,this.drawBox.extentIcon],POLYGON:["icon-select-by-polygon",this.nls.selectByPolygon,
this.drawBox.polygonIcon],CIRCLE:["icon-select-by-circle",this.nls.selectByCircle,this.drawBox.circleIcon],POLYLINE:["icon-select-by-line",this.nls.selectByLine,this.drawBox.polylineIcon],FREEHAND_POLYGON:["icon-select-by-freehand-polygon",this.nls.selectByFreehandPolygon,this.drawBox.freehandPolygonIcon]},f=-1;y.forEach("POINT EXTENT POLYGON CIRCLE POLYLINE FREEHAND_POLYGON".split(" "),m.hitch(this,function(d){var h=a[d];if(0<=this.geoTypes.indexOf(d)){var k={geoType:d,action:{iconClass:h[0],label:h[1],
data:{}},dom:h[2]},h={iconClass:h[0],label:h[1],data:{},onExecute:m.hitch(this,this._onDrawItemClicked,k)};this._geoTypeInfos.push(k);this.actions.push(h);"EXTENT"===d&&(f=this._geoTypeInfos.length-1)}}));this.own(A(this.btnSelect,"click",m.hitch(this,function(){n.simulateClickEvent(this._currentGeoTypeInfo.dom);this._hideDrawItems()})));0<=f?(this._setCurrentGeoInfo(this._geoTypeInfos[f]),p.addClass(this.geoTypeIcon,"icon-select-by-rect")):(this._setCurrentGeoInfo(this._geoTypeInfos[0]),p.addClass(this.geoTypeIcon,
this._geoTypeInfos[0].action.iconClass));this.deactivate()},_initTooltipDialogs:function(){var d=z("mac")?"\u2318":"Ctrl",f="- "+this.nls.newSelectionTip+" ("+this.nls.dragMouse+")",h="- "+this.nls.addSelectionTip+" (Shift+"+this.nls.dragBox+")",c="- "+this.nls.removeSelectionTip+" ("+d+"+"+this.nls.dragBox+")",e="- "+this.nls.newSelectionTip+" ("+this.nls.drawShap+")",t="- "+this.nls.addSelectionTip+" (Shift+"+this.nls.darw+")",n="- "+this.nls.removeSelectionTip+" ("+d+"+"+this.nls.darw+")",d=p.create("div",
{innerHTML:'\x3cdiv class\x3d"title"\x3e\x3c/div\x3e\x3cdiv class\x3d"item new-selection-item"\x3e\x3c/div\x3e\x3cdiv class\x3d"item add-selection-item"\x3e\x3c/div\x3e\x3cdiv class\x3d"item remove-selection-item"\x3e\x3c/div\x3e',"class":"dialog-content"}),w=x(".title",d)[0],l=x(".new-selection-item",d)[0],v=x(".add-selection-item",d)[0],y=x(".remove-selection-item",d)[0];this.tooltipDialog1=new a({content:d});p.addClass(this.tooltipDialog1.domNode,"jimu-multiple-layers-featureset-chooser-tooltipdialog");
this.own(A(this.btnSelect,"mousemove",m.hitch(this,function(a){this._tooltipDialogClientX1=a.clientX})));this.own(A(this.btnSelect,u.enter,m.hitch(this,function(){clearTimeout(this._tooltipDialogTimeoutId1);this._tooltipDialogTimeoutId1=-1;this._tooltipDialogTimeoutId1=setTimeout(m.hitch(this,function(){if(this.tooltipDialog1){var a=this._currentGeoTypeInfo.geoType;"EXTENT"===a?(l.innerHTML=f,v.innerHTML=h,y.innerHTML=c,w.innerHTML=this.nls.selectByRectangle):(l.innerHTML=e,v.innerHTML=t,y.innerHTML=
n,"POLYGON"===a?w.innerHTML=this.nls.selectByPolygon:"CIRCLE"===a?w.innerHTML=this.nls.selectByCircle:"POLYLINE"===a?w.innerHTML=this.nls.selectByLine:"FREEHAND_POLYGON"===a?w.innerHTML=this.nls.selectByFreehandPolygon:"POINT"===a&&(w.innerHTML=this.nls.selectByPoint));k.open({parent:this.getParent(),popup:this.tooltipDialog1,around:this.btnSelect,position:["below"]});0<=this._tooltipDialogClientX1&&(this.tooltipDialog1.domNode.parentNode.style.left=this._tooltipDialogClientX1+"px")}}),this._tooltipTimeout)})));
this.own(A(this.btnSelect,u.leave,m.hitch(this,function(){clearTimeout(this._tooltipDialogTimeoutId1);this._tooltipDialogTimeoutId1=-1;this._hideTooltipDialog(this.tooltipDialog1)})));d=p.create("div",{innerHTML:this.nls.unselectAllSelectionTip,"class":"dialog-content"});this.tooltipDialog2=new a({content:d});p.addClass(this.tooltipDialog2.domNode,"jimu-multiple-layers-featureset-chooser-tooltipdialog");this.own(A(this.btnClear,"mousemove",m.hitch(this,function(a){this._tooltipDialogClientX2=a.clientX})));
this.own(A(this.btnClear,u.enter,m.hitch(this,function(){clearTimeout(this._tooltipDialogTimeoutId2);this._tooltipDialogTimeoutId2=-1;this._tooltipDialogTimeoutId2=setTimeout(m.hitch(this,function(){this.tooltipDialog2&&(k.open({parent:this.getParent(),popup:this.tooltipDialog2,around:this.btnClear,position:["below"]}),0<=this._tooltipDialogClientX2&&(this.tooltipDialog2.domNode.parentNode.style.left=this._tooltipDialogClientX2+"px"))}),this._tooltipTimeout)})));this.own(A(this.btnClear,u.leave,m.hitch(this,
function(){clearTimeout(this._tooltipDialogTimeoutId2);this._tooltipDialogTimeoutId2=-1;this._hideTooltipDialog(this.tooltipDialog2)})))},_onArrowClicked:function(a){a.stopPropagation();a=p.position(a.target);this._showDrawItems(a)},_setCurrentGeoInfo:function(a){var d=this._currentGeoTypeInfo&&this._currentGeoTypeInfo.geoType;this._currentGeoTypeInfo&&p.removeClass(this.currentDrawItem,this._currentGeoTypeInfo.geoType);this._currentGeoTypeInfo=a;p.addClass(this.currentDrawItem,this._currentGeoTypeInfo.geoType);
this.isActive()?d!==this._currentGeoTypeInfo.geoType&&n.simulateClickEvent(this._currentGeoTypeInfo.dom):n.simulateClickEvent(this._currentGeoTypeInfo.dom)},_showDrawItems:function(a){this.popupMenu.setActions(this.actions);this.popupMenu.markAsSelected(this._currentGeoTypeInfo.action);this.popupMenu.show(a)},_hideDrawItems:function(){this.popupMenu.hide()},_onDrawItemClicked:function(a){this._hideDrawItems();this._setCurrentGeoInfo(a);p.removeClass(this.geoTypeIcon,"icon-select-by-point icon-select-by-circle icon-select-by-rect icon-select-by-polygon icon-select-by-line icon-select-by-freehand-polygon".split(" "));
switch(a.geoType){case "POLYGON":p.addClass(this.geoTypeIcon,"icon-select-by-polygon");break;case "CIRCLE":p.addClass(this.geoTypeIcon,"icon-select-by-circle");break;case "POLYLINE":p.addClass(this.geoTypeIcon,"icon-select-by-line");break;case "FREEHAND_POLYGON":p.addClass(this.geoTypeIcon,"icon-select-by-freehand-polygon");break;case "POINT":p.addClass(this.geoTypeIcon,"icon-select-by-point");break;default:p.addClass(this.geoTypeIcon,"icon-select-by-rect")}},_initDrawBox:function(){this.drawBox=
new f({map:this.map,showClear:!0,keepOneGraphic:!0,deactivateAfterDrawing:!1,geoTypes:this.geoTypes});this.own(A(this.drawBox,"user-clear",m.hitch(this,this._onDrawBoxUserClear)));this.own(A(this.drawBox,"draw-end",m.hitch(this,this._onDrawEnd)));this.own(A(this.drawBox,"draw-activate",m.hitch(this,function(){this.map.infoWindow.hide();p.addClass(this.currentDrawItem,"pressed");p.addClass(this.btnSelect,"selected")})));this.own(A(this.drawBox,"draw-deactivate",m.hitch(this,function(){p.removeClass(this.currentDrawItem,
"pressed");p.removeClass(this.btnSelect,"selected")})));this.own(A(this.btnClear,"click",m.hitch(this,function(){n.simulateClickEvent(this.drawBox.btnClear)})))},disable:function(){this.drawBox.disable();p.addClass(this.domNode,"disabled")},enable:function(){this.drawBox.enable();p.removeClass(this.domNode,"disabled")},isActive:function(){return this.drawBox.isActive()},activate:function(){if(!this.isActive()){var a=this._currentGeoTypeInfo;a||(a=this._geoTypeInfos[0]);this._setCurrentGeoInfo(a)}},
deactivate:function(){this.drawBox.deactivate()},setFeatureLayers:function(a){var d=y.filter(this._instances,m.hitch(this,function(d){return 0>a.indexOf(d.featureLayer)}));y.forEach(d,m.hitch(this,function(a){this._removeInstance(a)}));var f=y.map(this._instances,m.hitch(this,function(a){return a.featureLayer}));y.forEach(a,m.hitch(this,function(a){0>f.indexOf(a)&&this.addFeatureLayer(a)}))},addFeatureLayer:function(a){"esri.layers.FeatureLayer"!==a.declaredClass||this._findInstanceByLayer(a)||(a=
new h({map:this.map,featureLayer:a,drawBox:this.drawBox,updateSelection:this.updateSelection,fullyWithin:this.fullyWithin}),this._instances.push(a))},removeFeatureLayer:function(a){"esri.layers.FeatureLayer"===a.declaredClass&&(a=this._findInstanceByLayer(a))&&this._removeInstance(a)},setDisplayLayerVisibility:function(a,f){(a=w.getInstance().getDisplayLayer(a.id))&&(f?a.show():a.hide())},_removeInstance:function(a){if(a){var d=this._instances.indexOf(a);0<=d&&(a.destroy(),this._instances.splice(d,
1))}},_findInstanceByLayer:function(a){var d=null;y.some(this._instances,m.hitch(this,function(f){return f.featureLayer===a?(d=f,!0):!1}));return d},clear:function(a){y.forEach(this._instances,m.hitch(this,function(d){d.clear(a)}))},destroy:function(){this._hideTooltipDialog(this.tooltipDialog1);this._hideTooltipDialog(this.tooltipDialog2);y.forEach(this._instances,m.hitch(this,function(a){a.destroy()}));this._instances=[];this.drawBox&&this.drawBox.destroy();this.drawBox=null;this.inherited(arguments)},
_hideTooltipDialog:function(a){a&&k.close(a)},_onDrawBoxUserClear:function(){this.clear(!0);this.emit("user-clear")},_onDrawEnd:function(a,f,h,k,c,e){this.drawBox.clear();0<this._instances.length&&setTimeout(m.hitch(this,function(){if(0<this._instances.length){this.emit("loading");this.disable();var d=y.map(this._instances,m.hitch(this,function(a){return a.getFeatures()}));P(d).always(m.hitch(this,function(){this.enable();this._currentGeoTypeInfo&&n.simulateClickEvent(this._currentGeoTypeInfo.dom);
this.emit("unloading",a,f,h,k,c,e)}))}}),50)}})})},"jimu/dijit/_FeatureSetChooserCore":function(){define("dojo/on dojo/sniff dojo/Evented dojo/Deferred dojo/_base/lang dojo/_base/array dojo/_base/declare jimu/utils jimu/symbolUtils jimu/SelectionManager jimu/LayerInfos/LayerInfos esri/graphic esri/tasks/query esri/tasks/QueryTask esri/layers/FeatureLayer esri/symbols/jsonUtils esri/geometry/geometryEngine".split(" "),function(A,z,u,x,v,p,m,y,P,I,B,e,c,l,k,a,n){return m([u],{baseClass:"jimu-featureset-chooser-core",
_middleFeatureLayer:null,_isLoading:!1,_def:null,_isDestroyed:!1,_handles:null,selectionManager:null,layerInfosObj:null,layerInfo:null,map:null,featureLayer:null,drawBox:null,updateSelection:!1,fullyWithin:!1,constructor:function(f){v.mixin(this,f);this.layerInfosObj=B.getInstanceSync();this.selectionManager=I.getInstance();this.featureLayer.getSelectionSymbol()||this.selectionManager.setSelectionSymbol(this.featureLayer);f=y.getFeatureLayerDefinition(this.featureLayer);delete f.id;this._middleFeatureLayer=
new k({layerDefinition:f,featureSet:null},{id:"featureLayer_"+y.getRandomString()});f=null;var h=this._middleFeatureLayer.geometryType;"esriGeometryPoint"===h?f=P.getDefaultMarkerSymbol():"esriGeometryPolyline"===h?f=P.getDefaultLineSymbol():"esriGeometryPolygon"===h&&(f=a.fromJson({style:"esriSFSSolid",color:[79,129,189,77],type:"esriSFS",outline:{style:"esriSLSSolid",color:[54,93,141,255],width:1.5,type:"esriSLS"}}));this._middleFeatureLayer.setSelectionSymbol(f);f=A(this.drawBox,"user-clear",v.hitch(this,
this._onDrawBoxUserClear));h=A(this.drawBox,"draw-end",v.hitch(this,this._onDrawEnd));this._handles=[f,h];if(this.layerInfo=this.layerInfosObj.getLayerInfoById(this.featureLayer.id))f=A(this.layerInfo,"filterChanged",v.hitch(this,this._handleFilterChange)),this._handles.push(f)},hideMiddleFeatureLayer:function(){if(this._middleFeatureLayer){this._middleFeatureLayer.hide();var a=this.selectionManager.getDisplayLayer(this._middleFeatureLayer.id);a&&a.hide()}},showMiddleFeatureLayer:function(){if(this._middleFeatureLayer){this._middleFeatureLayer.show();
var a=this.selectionManager.getDisplayLayer(this._middleFeatureLayer.id);a&&a.show()}},clear:function(a){this.drawBox.clear();this._clearMiddleFeatureLayer();a&&this.selectionManager.clearSelection(this.featureLayer)},getFeatures:function(){var a=new x,h=v.hitch(this,function(){var f=this.syncGetFeatures();a.resolve(f)}),k=v.hitch(this,function(f){a.reject(f)});1===this._getDeferredStatus(this._def)?this._def.then(h,k):h();return a},syncGetFeatures:function(){return(this.updateSelection?this.featureLayer:
this._middleFeatureLayer).getSelectedFeatures()},isLoading:function(){return 1===this._getDeferredStatus(this._def)},_onLoading:function(){this.drawBox.deactivate();this.emit("loading")},_onUnloading:function(){this.emit("unloading")},_getDeferredStatus:function(a){var f=0;return f=a?a.isResolved()?2:a.isRejected()?-1:1:0},_onDrawEnd:function(a,h,c,e,d,q){if(this.isLoading())throw"should not draw when loading";if(this.featureLayer.visible){var f=new x;this._def=f;var t=k.SELECTION_NEW;e&&(t=k.SELECTION_ADD);
z("mac")?q&&(t=k.SELECTION_SUBTRACT):d&&(t=k.SELECTION_SUBTRACT);this.emit("loading");this._getFeaturesByGeometry(a.geometry).then(v.hitch(this,function(a){this.selectionManager.updateSelectionByFeatures(this.updateSelection?this.featureLayer:this._middleFeatureLayer,a,t);this._onUnloading();f.resolve(a)}),v.hitch(this,function(a){console.error(a);this._onUnloading();f.reject(a)}))}},_addTolerance:function(a){var f=2.54*this.map.getScale()/9600;return n.buffer(a,10*f,"meters")},_getFeaturesByGeometry:function(a){"point"!==
a.type&&"polyline"!==a.type||"esriGeometryPoint"!==this.featureLayer.geometryType||(a=this._addTolerance(a));var f=new x,n=[];if(this.featureLayer.getMap()&&this.featureLayer.mode!==k.MODE_SELECTION)a=this.selectionManager.getClientFeaturesByGeometry(this.featureLayer,a,this.fullyWithin),0<a.length&&(n=p.map(a,v.hitch(this,function(a){return new e(a.toJson())}))),f.resolve(n);else{n=new c;n.geometry=a;n.outSpatialReference=this.map.spatialReference;n.returnGeometry=!0;n.spatialRelationship=this.fullyWithin?
c.SPATIAL_REL_CONTAINS:c.SPATIAL_REL_INTERSECTS;(a=this.featureLayer.getDefinitionExpression())||(a="1\x3d1");if(this.layerInfo){var t=this.layerInfo.getFilter();t&&(a="("+a+") AND ("+t+")")}a&&(n.where=a);n.outFields=["*"];(new l(this.featureLayer.url)).execute(n).then(v.hitch(this,function(a){f.resolve(a.features)}),v.hitch(this,function(a){f.reject(a)}))}return f},_onDrawBoxUserClear:function(){this.clear()},_clearMiddleFeatureLayer:function(){this._middleFeatureLayer&&(this._middleFeatureLayer.clear(),
this.selectionManager.clearSelection(this._middleFeatureLayer))},_handleFilterChange:function(){var a=this.layerInfo.getFilter()||"1\x3d1",h=this.featureLayer.getSelectedFeatures(),e=this.featureLayer.objectIdField;if(h&&0<h.length){var t=p.map(h,function(a){return a.attributes[e]}),d=new c;d.where=e+" in ("+t.join(",")+") AND "+a;(new l(this.featureLayer.url)).executeForIds(d).then(v.hitch(this,function(a){p.forEach(h,function(d){0<=a.indexOf(d.attributes[e])?d.show():d.hide()});this.selectionManager._isLayerNeedDisplayLayer(this.featureLayer)&&
this.selectionManager._updateDisplayLayer(this.featureLayer,h,k.SELECTION_NEW);this.featureLayer.emit("selection-complete",{features:this.featureLayer.getSelectedFeatures()})}),v.hitch(this,function(a){console.error(a)}))}},destroy:function(){this._isDestroyed||(p.forEach(this._handles,v.hitch(this,function(a){a.remove()})),this._handles=null,this.clear());this._isDestroyed=!0}})})},"widgets/PublicNotification/Download_Avery":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang",
"dojo/Deferred"],function(A,z,u,x){return z(null,{constructor:function(){this._jspdf=this._initpdf()},save:function(v,p,m,y,P,I){var B=v.length,e,c=Date.now(),l,k=new x;P=u.mixin({canvas:{parentElem:P,elementName:"labelCanvas"}},m,y);P.guidance.labelBorderBlackPercent=this._conformToRange(P.guidance.labelBorderBlackPercent,0,100,50);P.guidance.gridBlackPercent=this._conformToRange(P.guidance.gridBlackPercent,0,100,50);y=y.useVectorFonts?null:1;m=m.numLabelsAcross*m.numLabelsDown;P.filenameRoot=p;
!P.useVectorFonts&&"undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob&&(e=function(){confirm("Continue?")});this._createPDFLabelDocSet(P,y,m,B,I,e,function(a){if(0>a||a>=B)return null;var k=A.filter(v[a],function(a){return a});++a;return k}).then(function(a){l=Date.now();console.log("Elapsed time: "+(l-c)/1E3+" sec.");k.resolve(a)});return k},_StageEnum:{START_ENV:1,FINISH_ENV:2,START_PAGE:3,FINISH_PAGE:4,START_COL:5,START_ROW:6,DRAW_LABEL:7},_createPDFLabelDocSet:function(v,p,m,y,u,x,B){return this._createPDFLabelDocSetContinuation(v,
p,m,y,1,0,u,x,B)},_createPDFLabelDocSetContinuation:function(v,p,m,y,P,I,B,e,c){var l=new x,k,a;k=-1+(p?Math.min(I+m*p,y):y);if(I>k)return l.resolve(!0),l;a=p?Math.ceil(y/(m*p)):1;this._createPDFLabelDoc(v,a,P,I,k,m,c).then(u.hitch(this,function(n){n?(B&&B.set({value:100*P/a}),setTimeout(u.hitch(this,function(){e&&P<a&&e();this._createPDFLabelDocSetContinuation(v,p,m,y,++P,k+1,B,e,c).then(function(a){l.resolve(a)})}),10)):(console.log("failure in _createPDFLabelDoc; terminate chain"),l.resolve(!1))}));
return l},_createPDFLabelDoc:function(v,p,m,y,P,I,B){var e=0,c=new x,l,k={},a=v.numLabelsDown,n=0,f=0,h;k.config=v;k.canvas=v.canvas;k.pageNum=0;k.totalPages=Math.ceil((P-y+1)/I);k.doc=this._createPDFBuilder();if(k.doc){l="function"===typeof v.useVectorFonts?v.useVectorFonts:v.useVectorFonts?u.hitch(this,this._drawUsingVector):u.hitch(this,this._drawUsingRaster);for(l(this._StageEnum.START_ENV,k);y<=P;++y)h=B(y),Array.isArray(h)&&0!==h.length&&(0===e%I?(0<e&&(l(this._StageEnum.FINISH_PAGE,k),k.doc.addPage()),
f=n=0,l(this._StageEnum.START_PAGE,k,k.pageNum++),l(this._StageEnum.START_COL,k,f)):0===e%a&&(l(this._StageEnum.START_COL,k,++f),n=0),l(this._StageEnum.START_ROW,k,n++),l(this._StageEnum.DRAW_LABEL,k,h),++e);l(this._StageEnum.FINISH_PAGE,k);l(this._StageEnum.FINISH_ENV,k);v.filenameRoot&&(v=v.filenameRoot+(1===p?".pdf":"_"+m+"_"+p+".pdf"),console.log("Saving "+v+"..."),k.doc.save(v),console.log("Saved "+v));c.resolve(!0);return c}c.resolve(!1)},_drawUsingVector:function(v,p,m){function y(m){var v=
p.config.labelWidthIn-3*p.config.insetIn;if(this._getTextWidthIn(p.doc,m)>v){do m=m.slice(0,-1);while(this._getTextWidthIn(p.doc,m)>v);m+="..."}return m}switch(v){case this._StageEnum.START_ENV:p.vector={fontHeightIn:p.config.fontSizePx/p.doc.internal.scaleFactor};p.vector.verticalFontGapIn=.2*p.vector.fontHeightIn;break;case this._StageEnum.START_PAGE:p.doc.setFont("sans-serif","normal");p.doc.setFontSize(p.config.fontSizePx);break;case this._StageEnum.FINISH_PAGE:this._drawFrame(p);break;case this._StageEnum.START_COL:p.vector.currentLabelLeftIn=
p.config.pageLeftIn+m*(p.config.labelWidthIn+p.config.horizGapIn);break;case this._StageEnum.START_ROW:p.vector.currentLabelTopIn=p.config.pageTopIn+m*(p.config.labelHeightIn+p.config.vertGapIn);break;case this._StageEnum.DRAW_LABEL:m=m.map(u.hitch(this,y)),v=p.vector.currentLabelTopIn+p.config.labelHeightIn/2,p.doc.text(m,p.vector.currentLabelLeftIn+p.config.insetIn,v+(2-m.length)/2*p.vector.fontHeightIn+(1-m.length)/2*p.vector.verticalFontGapIn)}},_drawUsingRaster:function(v,p,m){var y,u,x=dojo.locale&&
dojo.locale.substring(0,2)||"en";y=p.raster?p.raster.canvas:null;var B=p.raster?p.raster.canvasLabel:null;u=p.config.rasterResolutionPxPerIn;var e,c=/[\u0580-\u07FF]/;switch(v){case this._StageEnum.START_ENV:y=document.getElementById(p.canvas.elementName)||this._createCanvas(p.canvas.parentElem,p.canvas.elementName,p.config.pageWidthIn*u,p.config.pageHeightIn*u);B=document.getElementById(p.canvas.elementName+"_label")||this._createCanvas(p.canvas.parentElem,p.canvas.elementName+"_label",p.config.labelWidthIn*
u,p.config.labelHeightIn*u);p.raster={pageTopPx:p.config.pageTopIn*u,pageRightPx:p.config.pageRightIn*u,pageBottomPx:p.config.pageBottomIn*u,pageLeftPx:p.config.pageLeftIn*u,labelWidthPx:p.config.labelWidthIn*u,labelHeightPx:p.config.labelHeightIn*u,labelHorizGapPx:p.config.horizGapIn*u,labelVertGapPx:p.config.vertGapIn*u,marginPx:p.config.insetIn*u,fontHeightPx:p.config.fontSizePx*u/100*1.32};p.raster.verticalFontGapPx=.2*p.raster.fontHeightPx;p.raster.canvas=y;p.raster.canvasLabel=B;p.raster.ctx=
y.getContext("2d");p.raster.ctxLabel=B.getContext("2d");p.raster.ctxLabel.font="normal "+p.raster.fontHeightPx+"px sans-serif";break;case this._StageEnum.FINISH_ENV:p.canvas.parentElem.removeChild(y);p.raster.canvas=null;p.canvas.parentElem.removeChild(B);p.raster.canvasLabel=null;break;case this._StageEnum.FINISH_PAGE:m=y.toDataURL("image/png");p.doc.addImage(m,"png",0,0,8.5,11);p.raster.ctx.clearRect(0,0,y.width,y.height);this._drawFrame(p);break;case this._StageEnum.START_COL:p.raster.currentLabelLeftPx=
p.raster.pageLeftPx+m*(p.raster.labelWidthPx+p.raster.labelHorizGapPx);p.raster.currentLabelRightPx=p.raster.pageLeftPx+(m+1)*p.raster.labelWidthPx+m*p.raster.labelHorizGapPx;break;case this._StageEnum.START_ROW:p.raster.currentLabelTopPx=p.raster.pageTopPx+m*(p.raster.labelHeightPx+p.raster.labelVertGapPx);break;case this._StageEnum.DRAW_LABEL:v=p.raster.labelHeightPx/2;y=p.raster.marginPx;v=v+(2-m.length)/2*p.raster.fontHeightPx+(1-m.length)/2*p.raster.verticalFontGapPx;p.raster.ctxLabel.clearRect(0,
0,B.width,B.height);e=B.width-p.raster.marginPx-p.raster.marginPx;for(u=0;u<m.length;++u)0<=["ar","he"].indexOf(x)?y=B.width-p.raster.marginPx:c.test(m[u])&&(y=B.width-p.raster.marginPx-p.raster.ctxLabel.measureText(m[u]).getWidth()),p.raster.ctxLabel.fillText(m[u],y,v,e),v+=p.raster.verticalFontGapPx+p.raster.fontHeightPx;p.raster.ctx.drawImage(p.raster.canvasLabel,p.raster.currentLabelLeftPx,p.raster.currentLabelTopPx)}},_conformToRange:function(v,p,m,u){v=parseFloat(v);Number.isNaN(v)&&(v=u);return Math.max(p,
Math.min(m,v))},_createPDFBuilder:function(){return new this._jspdf({orientation:"portrait",unit:"in",format:"letter"})},_createCanvas:function(v,p,m,u){var y=document.createElement("canvas");y.id=p;y.style.display="none";y.style.visibility="hidden";y.width=m;y.height=u;v.appendChild(y);return y},_getTextWidthIn:function(v,p){return v.getStringUnitWidth(p)*v.internal.getFontSize()/v.internal.scaleFactor},_drawFrame:function(v){var p,m=new Date,u=dojo.locale&&dojo.locale.substring(0,2)||"en";p=v.config.pageTopIn-
.08;var x=v.config.pageHeightIn-v.config.pageBottomIn+v.config.guidance.noteFontSizePx/v.doc.internal.scaleFactor+.08;v.config.showGuidance&&(v.doc.setFont("sans-serif","italic"),v.doc.setFontSize(v.config.guidance.noteFontSizePx),(u=0<="da de en es et fi fr id it nb nl pt sr sv".split(" ").indexOf(u))&&v.doc.text(v.config.guidance.printSuggestion,v.config.pageLeftIn+.1,p),p=(v.config.useVectorFonts?"v":"r"+v.config.rasterResolutionPxPerIn)+"  "+v.pageNum+"/"+v.totalPages,u&&(p+=("  "+m.toLocaleDateString()+
" "+m.toLocaleTimeString()).replace(/\u200e/gi,"")),v.doc.text(p,v.config.pageLeftIn+.1,x),v.config.guidance.showGrid&&(v.doc.setLineWidth(.01),v.doc.setDrawColor((1-v.config.guidance.gridBlackPercent/100).toString()),this._drawMeasurementGrid(v.doc,v.config,v.config.guidance.leftIn,v.config.guidance.rightIn,.05,v.config.guidance.majorTickIn),this._drawMeasurementGrid(v.doc,v.config,v.config.guidance.leftIn,v.config.guidance.rightIn,.015,v.config.guidance.minorTickIn)),v.config.guidance.showLabelOutlines&&
(v.doc.setLineWidth(.01),v.doc.setDrawColor((1-v.config.guidance.labelBorderBlackPercent/100).toString()),this._drawLabelsGrid(v.doc,v.config.numLabelsAcross,v.config.numLabelsDown,v.config.pageLeftIn,v.config.pageTopIn,v.config.labelWidthIn,v.config.labelHeightIn,v.config.horizGapIn,v.config.vertGapIn)),v.doc.setDrawColor(0))},_drawLabelsGrid:function(v,p,m,u,x,z,B,e,c){var l,k;for(l=0;l<p;++l)for(k=0;k<m;++k)v.rect(u+l*(z+e),x+k*(B+c),z,B)},_drawMeasurementGrid:function(v,p,m,u,x,z){v.rect(p.pageLeftIn,
p.pageTopIn,p.pageWidthIn-p.pageLeftIn-p.pageRightIn,p.pageHeightIn-p.pageTopIn-p.pageBottomIn);this._drawVertGridTickLines(v,0,p.pageWidthIn,p.pageTopIn,x,z);this._drawVertGridTickLines(v,0,p.pageWidthIn,p.pageHeightIn-p.pageBottomIn,-x,z);this._drawHorizGridTickLines(v,0,p.pageHeightIn,Math.max(m,p.pageLeftIn),x,z);this._drawHorizGridTickLines(v,0,p.pageHeightIn,p.pageWidthIn-Math.max(u,p.pageRightIn),-x,z)},_drawVertGridTickLines:function(v,p,m,u,x,z){for(;p<=m;p+=z)this._drawPDFLine(v,p,u,p,u+
x)},_drawHorizGridTickLines:function(v,p,m,u,x,z){for(;p<=m;p+=z)this._drawPDFLine(v,u,p,u+x,p)},_drawPDFLine:function(v,p,m,u,x){v.lines([[u-p,x-m]],p,m)},_initpdf:function(){var v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(){function e(c){this.value=c}function c(c){function k(f,n){try{var h=c[f](n),d=h.value;d instanceof e?Promise.resolve(d.value).then(function(a){k("next",
a)},function(a){k("throw",a)}):a(h.done?"return":"normal",h.value)}catch(q){a("throw",q)}}function a(a,c){switch(a){case "return":n.resolve({value:c,done:!0});break;case "throw":n.reject(c);break;default:n.resolve({value:c,done:!1})}(n=n.next)?k(n.key,n.arg):f=null}var n,f;this._invoke=function(a,c){return new Promise(function(h,d){h={key:a,arg:c,resolve:h,reject:d,next:null};f?f=f.next=h:(n=f=h,k(a,c))})};"function"!==typeof c.return&&(this.return=void 0)}"function"===typeof Symbol&&Symbol.asyncIterator&&
(c.prototype[Symbol.asyncIterator]=function(){return this});c.prototype.next=function(c){return this._invoke("next",c)};c.prototype.throw=function(c){return this._invoke("throw",c)};c.prototype.return=function(c){return this._invoke("return",c)};return{wrap:function(e){return function(){return new c(e.apply(this,arguments))}},await:function(c){return new e(c)}}})();var p=function(e){function c(a){var k={};this.subscribe=function(a,h,c){if("function"!==typeof h)return!1;k.hasOwnProperty(a)||(k[a]=
{});var f=Math.random().toString(35);k[a][f]=[h,!!c];return f};this.unsubscribe=function(a){for(var f in k)if(k[f][a])return delete k[f][a],!0;return!1};this.publish=function(f){if(k.hasOwnProperty(f)){var h=Array.prototype.slice.call(arguments,1),c=[],t;for(t in k[f]){var d=k[f][t];try{d[0].apply(a,h)}catch(q){e.console&&console.error("jsPDF PubSub Error",q.message,q)}d[1]&&c.push(t)}c.length&&c.forEach(this.unsubscribe)}}}function l(a,n,f,h){var w={};"object"===("undefined"===typeof a?"undefined":
v(a))&&(w=a,a=w.orientation,n=w.unit||n,f=w.format||f,h=w.compress||w.compressPdf||h);n=n||"mm";f=f||"a4";a=(""+(a||"P")).toLowerCase();(""+f).toLowerCase();var t=!!h&&"function"===typeof Uint8Array,d=w.textColor||"0 g",q=w.drawColor||"0 G",J=w.fontSize||16,E=w.lineHeight||1.15,m=w.lineWidth||.200025,F=2,ba=!1,p=[],u={},Z={},B,G,fa,M=0,O,R=[],W=[],K=[],sa=[],y=[],z=0,ia=0,T=0,A,H,D,U,X,Y={title:"",subject:"",author:"",keywords:"",creator:""},N={},ca=new c(N),Q=function(a){return a.toFixed(2)},ga=
function(a){return("0"+parseInt(a)).slice(-2)},C=function(a){ba?R[O].push(a):(T+=a.length+1,sa.push(a))},ha=function(){F++;p[F]=T;C(F+" 0 obj");return F},ea=function(a){C("stream");C(a);C("endstream")},Ea=function(a,d,f,h){var k="F"+(Object.keys(u).length+1).toString(10);a=u[k]={id:k,PostScriptName:a,fontName:d,fontStyle:f,encoding:h,metadata:{}};Z.hasOwnProperty(d)||(Z[d]={});Z[d][f]=k;ca.publish("addFont",a);return k},ta=function(a,d){var f,h,k,c,q,e;d=d||{};f=d.sourceEncoding||"Unicode";k=d.outputEncoding;
if((d.autoencode||k)&&u[B].metadata&&u[B].metadata[f]&&u[B].metadata[f].encoding&&(f=u[B].metadata[f].encoding,!k&&u[B].encoding&&(k=u[B].encoding),!k&&f.codePages&&(k=f.codePages[0]),"string"===typeof k&&(k=f[k]),k)){q=!1;c=[];f=0;for(h=a.length;f<h;f++)(e=k[a.charCodeAt(f)])?c.push(String.fromCharCode(e)):c.push(a[f]),c[f].charCodeAt(0)>>8&&(q=!0);a=c.join("")}for(f=a.length;void 0===q&&0!==f;)a.charCodeAt(f-1)>>8&&(q=!0),f--;if(q){c=d.noBOM?[]:[254,255];f=0;for(h=a.length;f<h;f++){e=a.charCodeAt(f);
q=e>>8;if(q>>8)throw Error("Character at position "+f+" of string '"+a+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");c.push(q);c.push(e-(q<<8))}a=String.fromCharCode.apply(void 0,c)}return a.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},S=function(a,d){var f="string"===typeof d&&d.toLowerCase();if("string"===typeof a){var h=a.toLowerCase();k.hasOwnProperty(h)&&(a=k[h][0]/G,d=k[h][1]/G)}Array.isArray(a)&&(d=a[1],a=a[0]);if(f){switch(f.substr(0,1)){case "l":d>a&&(f="s");break;
case "p":a>d&&(f="s")}"s"===f&&(fa=a,a=d,d=fa)}ba=!0;R[++M]=[];K[M]={width:Number(a)||A,height:Number(d)||H};W[M]={};P(M)},ua=function(){S.apply(this,arguments);C(Q(m*G)+" w");C(q);0!==z&&C(z+" J");0!==ia&&C(ia+" j");ca.publish("addPage",{pageNumber:M})},V=function(a){0<a&&a<=M&&(R.splice(a,1),K.splice(a,1),M--,O>M&&(O=M),this.setPage(O))},P=function(a){0<a&&a<=M&&(O=a,A=K[a].width,H=K[a].height)},I=function(a,d){var f;a=void 0!==a?a:u[B].fontName;d=void 0!==d?d:u[B].fontStyle;void 0!==a&&(a=a.toLowerCase());
switch(a){case "sans-serif":case "verdana":case "arial":case "helvetica":a="helvetica";break;case "fixed":case "monospace":case "terminal":case "courier":a="courier";break;default:a="times"}try{f=Z[a][d]}catch(Aa){}f||(f=Z.times[d],null==f&&(f=Z.times.normal));return f},xa=function(){ba=!1;F=2;T=0;sa=[];p=[];y=[];ca.publish("buildDocument");C("%PDF-1.3");var a,d,f,h,k,c=[];k=e.adler32cs||l.adler32cs;t&&"undefined"===typeof k&&(t=!1);for(a=1;a<=M;a++){c.push(ha());f=(A=K[a].width)*G;d=(H=K[a].height)*
G;C("\x3c\x3c/Type /Page");C("/Parent 1 0 R");C("/Resources 2 0 R");C("/MediaBox [0 0 "+Q(f)+" "+Q(d)+"]");ca.publish("putPage",{pageNumber:a,page:R[a]});C("/Contents "+(F+1)+" 0 R");C("\x3e\x3e");C("endobj");d=R[a].join("\n");ha();if(t){f=[];for(h=d.length;h--;)f[h]=d.charCodeAt(h);h=k.from(d);d=new x(6);d.append(new Uint8Array(f));d=d.flush();f=new Uint8Array(d.length+6);f.set(new Uint8Array([120,156]));f.set(d,2);f.set(new Uint8Array([h&255,h>>8&255,h>>16&255,h>>24&255]),d.length+2);d=String.fromCharCode.apply(null,
f);C("\x3c\x3c/Length "+d.length+" /Filter [/FlateDecode]\x3e\x3e")}else C("\x3c\x3c/Length "+d.length+"\x3e\x3e");ea(d);C("endobj")}p[1]=T;C("1 0 obj");C("\x3c\x3c/Type /Pages");a="/Kids [";for(h=0;h<M;h++)a+=c[h]+" 0 R ";C(a+"]");C("/Count "+M);C("\x3e\x3e");C("endobj");ca.publish("postPutPages");ca.publish("putAdditionalObjects");for(c=0;c<y.length;c++)a=y[c],p[a.objId]=T,C(a.objId+" 0 obj"),C(a.content),C("endobj");F+=y.length;ca.publish("postPutAdditionalObjects");for(var q in u)u.hasOwnProperty(q)&&
(c=u[q],c.objectNumber=ha(),C("\x3c\x3c/BaseFont/"+c.PostScriptName+"/Type/Font"),"string"===typeof c.encoding&&C("/Encoding/"+c.encoding),C("/Subtype/Type1\x3e\x3e"),C("endobj"));ca.publish("putResources");p[2]=T;C("2 0 obj");C("\x3c\x3c");C("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]");C("/Font \x3c\x3c");for(var n in u)u.hasOwnProperty(n)&&C("/"+n+" "+u[n].objectNumber+" 0 R");C("\x3e\x3e");C("/XObject \x3c\x3c");ca.publish("putXobjectDict");C("\x3e\x3e");C("\x3e\x3e");C("endobj");ca.publish("postPutResources");
ha();C("\x3c\x3c");C("/Producer (jsPDF "+l.version+")");for(var w in Y)Y.hasOwnProperty(w)&&Y[w]&&C("/"+w.substr(0,1).toUpperCase()+w.substr(1)+" ("+ta(Y[w])+")");q=new Date;n=q.getTimezoneOffset();w=Math.abs(n%60);n=[0>n?"+":"-",ga(Math.floor(Math.abs(n/60))),"'",ga(w),"'"].join("");C(["/CreationDate (D:",q.getFullYear(),ga(q.getMonth()+1),ga(q.getDate()),ga(q.getHours()),ga(q.getMinutes()),ga(q.getSeconds()),n,")"].join(""));C("\x3e\x3e");C("endobj");ha();C("\x3c\x3c");C("/Type /Catalog");C("/Pages 1 0 R");
U||(U="fullwidth");switch(U){case "fullwidth":C("/OpenAction [3 0 R /FitH null]");break;case "fullheight":C("/OpenAction [3 0 R /FitV null]");break;case "fullpage":C("/OpenAction [3 0 R /Fit]");break;case "original":C("/OpenAction [3 0 R /XYZ null null 1]");break;default:q=""+U,"%"===q.substr(q.length-1)&&(U=parseInt(U)/100),"number"===typeof U&&C("/OpenAction [3 0 R /XYZ null null "+Q(U)+"]")}X||(X="continuous");switch(X){case "continuous":C("/PageLayout /OneColumn");break;case "single":C("/PageLayout /SinglePage");
break;case "two":case "twoleft":C("/PageLayout /TwoColumnLeft");break;case "tworight":C("/PageLayout /TwoColumnRight")}D&&C("/PageMode /"+D);ca.publish("putCatalog");C("\x3e\x3e");C("endobj");q=T;C("xref");C("0 "+(F+1));C("0000000000 65535 f ");for(n=1;n<=F;n++)"function"===typeof p[n]?C(("0000000000"+p[n]()).slice(-10)+" 00000 n "):C(("0000000000"+p[n]).slice(-10)+" 00000 n ");C("trailer");C("\x3c\x3c");C("/Size "+(F+1));C("/Root "+F+" 0 R");C("/Info "+(F-1)+" 0 R");C("\x3e\x3e");C("startxref");
C(""+q);C("%%EOF");ba=!0;return sa.join("\n")},da=function(a){var d="S";if("F"===a)d="f";else if("FD"===a||"DF"===a)d="B";else if("f"===a||"f*"===a||"B"===a||"B*"===a)d=a;return d},ya=function(){for(var a=xa(),d=a.length,f=new ArrayBuffer(d),h=new Uint8Array(f);d--;)h[d]=a.charCodeAt(d);return f},za=function(){return new Blob([ya()],{type:"application/pdf"})},Ca=function(a){a.foo=function(){try{return a.apply(this,arguments)}catch(va){var d=va.stack||"";~d.indexOf(" at ")&&(d=d.split(" at ")[1]);
d="Error in function "+d.split("\n")[0].split("\x3c")[0]+": "+va.message;if(e.console)e.console.error(d,va),e.alert&&alert(d);else throw Error(d);}};a.foo.bar=a;return a.foo}(function(a,d){var f;f="dataur"===(""+a).substr(0,6)?"data:application/pdf;base64,"+btoa(xa()):0;switch(a){case void 0:return xa();case "save":if(navigator.getUserMedia&&(void 0===e.URL||void 0===e.URL.createObjectURL))return N.output("dataurlnewwindow");f=saveAs(za(),d);"function"===typeof saveAs.unload&&e.setTimeout&&setTimeout(saveAs.unload,
911);return f;case "arraybuffer":return ya();case "blob":return za();case "bloburi":case "bloburl":return e.URL&&e.URL.createObjectURL(za())||void 0;case "datauristring":case "dataurlstring":return f;case "dataurlnewwindow":if((a=e.open(f))||"undefined"===typeof safari)return a;case "datauri":case "dataurl":return e.document.location.href=f;default:throw Error('Output type "'+a+'" is not supported.');}});switch(n){case "pt":G=1;break;case "mm":G=72/25.4000508;break;case "cm":G=72/2.54000508;break;
case "in":G=72;break;case "px":G=96/72;break;case "pc":G=12;break;case "em":G=12;break;case "ex":G=6;break;default:throw"Invalid unit: "+n;}N.internal={pdfEscape:ta,getStyle:da,getFont:function(){return u[I.apply(N,arguments)]},getFontSize:function(){return J},getLineHeight:function(){return J*E},write:function(a){C(1===arguments.length?a:Array.prototype.join.call(arguments," "))},getCoordinateString:function(a){return Q(a*G)},getVerticalCoordinateString:function(a){return Q((H-a)*G)},collections:{},
newObject:ha,newAdditionalObject:function(){var a=2*R.length+1,a=a+y.length,a={objId:a,content:""};y.push(a);return a},newObjectDeferred:function(){F++;p[F]=function(){return T};return F},newObjectDeferredBegin:function(a){p[a]=T},putStream:ea,events:ca,scaleFactor:G,pageSize:{getWidth:function(){return A},getHeight:function(){return H}},output:function(a,d){return Ca(a,d)},getNumberOfPages:function(){return R.length-1},pages:R,out:C,f2:Q,getPageInfo:function(a){return{objId:2*(a-1)+3,pageNumber:a,
pageContext:W[a]}},getCurrentPageInfo:function(){return{objId:2*(O-1)+3,pageNumber:O,pageContext:W[O]}},getPDFVersion:function(){return"1.3"}};N.addPage=function(){ua.apply(this,arguments);return this};N.setPage=function(){P.apply(this,arguments);return this};N.insertPage=function(a){this.addPage();this.movePage(O,a);return this};N.movePage=function(a,d){if(a>d){for(var f=R[a],h=K[a],k=W[a];a>d;a--)R[a]=R[a-1],K[a]=K[a-1],W[a]=W[a-1];R[d]=f;K[d]=h;W[d]=k;this.setPage(d)}else if(a<d){f=R[a];h=K[a];
for(k=W[a];a<d;a++)R[a]=R[a+1],K[a]=K[a+1],W[a]=W[a+1];R[d]=f;K[d]=h;W[d]=k;this.setPage(d)}return this};N.deletePage=function(){V.apply(this,arguments);return this};N.setDisplayMode=function(a,d,f){U=a;X=d;D=f;if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(f))throw Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+f+'" is not recognized.');return this};N.text=function(a,f,h,k,c,q){function e(a){a=a.split("\t").join(Array(w.TabLen||9).join(" "));
return ta(a,k)}"number"===typeof a&&(fa=h,h=f,f=a,a=fa);"string"===typeof a&&(a=a.match(/[\n\r]/)?a.split(/\r\n|\r|\n/g):[a]);"string"===typeof c&&(q=c,c=null);"string"===typeof k&&(q=k,k=null);"number"===typeof k&&(c=k,k=null);var n="",t="Td";c&&(c*=Math.PI/180,n=Math.cos(c),t=Math.sin(c),n=[Q(n),Q(t),Q(-1*t),Q(n),""].join(" "),t="Tm");k=k||{};"noBOM"in k||(k.noBOM=!0);"autoencode"in k||(k.autoencode=!0);c="";var l=this.internal.getCurrentPageInfo().pageContext;!0===k.stroke?!0!==l.lastTextWasStroke&&
(c="1 Tr\n",l.lastTextWasStroke=!0):(l.lastTextWasStroke&&(c="0 Tr\n"),l.lastTextWasStroke=!1);"undefined"===typeof this._runningPageHeight&&(this._runningPageHeight=0);if("string"===typeof a)a=e(a);else if("[object Array]"===Object.prototype.toString.call(a)){for(var D=a.concat(),l=[],m=D.length;m--;)l.push(e(D.shift()));if(q){var F,L,U=J*E,X=a.map(function(a){return this.getStringUnitWidth(a)*J/G},this);L=Math.max.apply(Math,X);if("center"===q)D=f-L/2,f-=X[0]/2;else if("right"===q)D=f-L,f-=X[0];
else throw Error('Unrecognized alignment option, use "center" or "right".');F=f;a=l[0];for(var O=1,m=l.length;O<m;O++){var ba=L-X[O];"center"===q&&(ba/=2);a+=") Tj\n"+(D-F+ba)+" -"+U+" Td ("+l[O];F=D+ba}}else a=l.join(") Tj\nT* (")}else throw Error('Type of text must be string or Array. "'+a+'" is not recognized.');h=Q((H-h)*G);C("BT\n/"+B+" "+J+" Tf\n"+J*E+" TL\n"+c+d+"\n"+n+Q(f*G)+" "+h+" "+t+"\n("+a+") Tj\nET");return this};N.lstext=function(a,d,f,h){console.warn("jsPDF.lstext is deprecated");
for(var k=0,c=a.length;k<c;k++,d+=h)this.text(a[k],d,f);return this};N.line=function(a,d,f,h){return this.lines([[f-a,h-d]],a,d)};N.clip=function(){C("W");C("S")};N.clip_fixed=function(a){"evenodd"===a?C("W*"):C("W");C("n")};N.lines=function(a,d,f,h,k,c){var q,e,n,t,w,l,E,D;"number"===typeof a&&(fa=f,f=d,d=a,a=fa);h=h||[1,1];C((d*G).toFixed(3)+" "+((H-f)*G).toFixed(3)+" m ");q=h[0];h=h[1];e=a.length;D=f;for(f=0;f<e;f++)n=a[f],2===n.length?(d=n[0]*q+d,D=n[1]*h+D,C((d*G).toFixed(3)+" "+((H-D)*G).toFixed(3)+
" l")):(t=n[0]*q+d,w=n[1]*h+D,l=n[2]*q+d,E=n[3]*h+D,d=n[4]*q+d,D=n[5]*h+D,C((t*G).toFixed(3)+" "+((H-w)*G).toFixed(3)+" "+(l*G).toFixed(3)+" "+((H-E)*G).toFixed(3)+" "+(d*G).toFixed(3)+" "+((H-D)*G).toFixed(3)+" c"));c&&C(" h");null!==k&&C(da(k));return this};N.rect=function(a,d,f,h,k){da(k);C([Q(a*G),Q((H-d)*G),Q(f*G),Q(-h*G),"re"].join(" "));null!==k&&C(da(k));return this};N.triangle=function(a,d,f,h,k,c,q){this.lines([[f-a,h-d],[k-f,c-h],[a-k,d-c]],a,d,[1,1],q,!0);return this};N.roundedRect=function(a,
d,f,h,k,c,q){var e=4/3*(Math.SQRT2-1);this.lines([[f-2*k,0],[k*e,0,k,c-c*e,k,c],[0,h-2*c],[0,c*e,-(k*e),c,-k,c],[-f+2*k,0],[-(k*e),0,-k,-(c*e),-k,-c],[0,-h+2*c],[0,-(c*e),k*e,-c,k,-c]],a+k,d,[1,1],q);return this};N.ellipse=function(a,d,f,h,k){var c=4/3*(Math.SQRT2-1)*f,q=4/3*(Math.SQRT2-1)*h;C([Q((a+f)*G),Q((H-d)*G),"m",Q((a+f)*G),Q((H-(d-q))*G),Q((a+c)*G),Q((H-(d-h))*G),Q(a*G),Q((H-(d-h))*G),"c"].join(" "));C([Q((a-c)*G),Q((H-(d-h))*G),Q((a-f)*G),Q((H-(d-q))*G),Q((a-f)*G),Q((H-d)*G),"c"].join(" "));
C([Q((a-f)*G),Q((H-(d+q))*G),Q((a-c)*G),Q((H-(d+h))*G),Q(a*G),Q((H-(d+h))*G),"c"].join(" "));C([Q((a+c)*G),Q((H-(d+h))*G),Q((a+f)*G),Q((H-(d+q))*G),Q((a+f)*G),Q((H-d)*G),"c"].join(" "));null!==k&&C(da(k));return this};N.circle=function(a,d,f,h){return this.ellipse(a,d,f,f,h)};N.setProperties=function(a){for(var d in Y)Y.hasOwnProperty(d)&&a[d]&&(Y[d]=a[d]);return this};N.setFontSize=function(a){J=a;return this};N.setFont=function(a,d){B=I(a,d);return this};N.setFontStyle=N.setFontType=function(a){B=
I(void 0,a);return this};N.getFontList=function(){var a={},d,f,h;for(d in Z)if(Z.hasOwnProperty(d))for(f in a[d]=h=[],Z[d])Z[d].hasOwnProperty(f)&&h.push(f);return a};N.addFont=function(a,d,f){Ea(a,d,f,"StandardEncoding")};N.setLineWidth=function(a){C((a*G).toFixed(2)+" w");return this};N.setDrawColor=function(a,d,f,h){a=void 0===d||void 0===h&&a===d===f?"string"===typeof a?a+" G":Q(a/255)+" G":void 0===h?"string"===typeof a?[a,d,f,"RG"].join(" "):[Q(a/255),Q(d/255),Q(f/255),"RG"].join(" "):"string"===
typeof a?[a,d,f,h,"K"].join(" "):[Q(a),Q(d),Q(f),Q(h),"K"].join(" ");C(a);return this};N.setFillColor=function(a,d,f,h){void 0===d||void 0===h&&a===d===f?a="string"===typeof a?a+" g":Q(a/255)+" g":void 0===h||"object"===("undefined"===typeof h?"undefined":v(h))?(a="string"===typeof a?[a,d,f,"rg"].join(" "):[Q(a/255),Q(d/255),Q(f/255),"rg"].join(" "),h&&0===h.a&&(a="255 255 255 rg")):a="string"===typeof a?[a,d,f,h,"k"].join(" "):[Q(a),Q(d),Q(f),Q(h),"k"].join(" ");C(a);return this};N.setTextColor=
function(a,f,h){"string"===typeof a&&/^#[0-9A-Fa-f]{6}$/.test(a)&&(h=parseInt(a.substr(1),16),a=h>>16&255,f=h>>8&255,h&=255);d=0===a&&0===f&&0===h||"undefined"===typeof f?(a/255).toFixed(3)+" g":[(a/255).toFixed(3),(f/255).toFixed(3),(h/255).toFixed(3),"rg"].join(" ");return this};N.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2};N.setLineCap=function(a){var d=this.CapJoinStyles[a];if(void 0===d)throw Error("Line cap style of '"+
a+"' is not recognized. See or extend .CapJoinStyles property for valid styles");z=d;C(d+" J");return this};N.setLineJoin=function(a){var d=this.CapJoinStyles[a];if(void 0===d)throw Error("Line join style of '"+a+"' is not recognized. See or extend .CapJoinStyles property for valid styles");ia=d;C(d+" j");return this};N.output=Ca;N.save=function(a){return N.output("save",a)};for(var ma in l.API)l.API.hasOwnProperty(ma)&&("events"===ma&&l.API.events.length?function(a,d){var f,h,k;for(k=d.length-1;-1!==
k;k--)f=d[k][0],h=d[k][1],a.subscribe.apply(a,[f].concat("function"===typeof h?[h]:h))}(ca,l.API.events):N[ma]=l.API[ma]);(function(){for(var a=[["Helvetica","helvetica","normal"],["Helvetica-Bold","helvetica","bold"],["Helvetica-Oblique","helvetica","italic"],["Helvetica-BoldOblique","helvetica","bolditalic"],["Courier","courier","normal"],["Courier-Bold","courier","bold"],["Courier-Oblique","courier","italic"],["Courier-BoldOblique","courier","bolditalic"],["Times-Roman","times","normal"],["Times-Bold",
"times","bold"],["Times-Italic","times","italic"],["Times-BoldItalic","times","bolditalic"],["ZapfDingbats","zapfdingbats"]],d=0,f=a.length;d<f;d++){var h=Ea(a[d][0],a[d][1],a[d][2],"StandardEncoding"),k=a[d][0].split("-"),c=k[0],k=k[1]||"";Z.hasOwnProperty(c)||(Z[c]={});Z[c][k]=h}ca.publish("addFonts",{fonts:u,dictionary:Z})})();B="F1";ua(f,a);ca.publish("initialized");return N}var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,
595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,
161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};l.API={events:[]};l.version="1.x-master";return l}("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||void 0);(window.AcroForm=function(e){var c=window.AcroForm;c.scale=function(a){return l.internal.scaleFactor/1*a};c.antiScale=function(a){return 1/l.internal.scaleFactor*a};var l={fields:[],
xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null};p.API.acroformPlugin=l;var k=function(){for(var a in this.acroformPlugin.acroFormDictionaryRoot.Fields){var f=this.acroformPlugin.acroFormDictionaryRoot.Fields[a];if(f.hasAnnotation){var d={type:"reference",object:f};p.API.annotationPlugin.annotations[this.internal.getPageInfo(f.page).pageNumber].push(d)}}},a=function(a){this.acroformPlugin.printedOut&&(this.acroformPlugin.printedOut=!1,this.acroformPlugin.acroFormDictionaryRoot=null);
if(!this.acroformPlugin.acroFormDictionaryRoot){if(this.acroformPlugin.acroFormDictionaryRoot)throw Error("Exception while creating AcroformDictionary");this.acroformPlugin.acroFormDictionaryRoot=new c.AcroFormDictionary;this.acroformPlugin.internal=this.internal;this.acroformPlugin.acroFormDictionaryRoot._eventID=this.internal.events.subscribe("postPutResources",f);this.internal.events.subscribe("buildDocument",k);this.internal.events.subscribe("putCatalog",n);this.internal.events.subscribe("postPutPages",
h)}this.acroformPlugin.acroFormDictionaryRoot.Fields.push(a)},n=function(){"undefined"!=typeof this.acroformPlugin.acroFormDictionaryRoot?this.internal.write("/AcroForm "+this.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R"):console.log("Root missing...")},f=function(){this.internal.events.unsubscribe(this.acroformPlugin.acroFormDictionaryRoot._eventID);delete this.acroformPlugin.acroFormDictionaryRoot._eventID;this.acroformPlugin.printedOut=!0},h=function(a){var f=!a;a||(this.internal.newObjectDeferredBegin(this.acroformPlugin.acroFormDictionaryRoot.objId),
this.internal.out(this.acroformPlugin.acroFormDictionaryRoot.getString()));a=a||this.acroformPlugin.acroFormDictionaryRoot.Kids;for(var d in a){var h=a[d],k=h.Rect;h.Rect&&(h.Rect=c.internal.calculateCoordinates.call(this,h.Rect));this.internal.newObjectDeferredBegin(h.objId);var e="",e=e+(h.objId+" 0 obj\n"),e=e+("\x3c\x3c\n"+h.getContent());h.Rect=k;h.hasAppearanceStream&&!h.appearanceStreamContent&&(k=c.internal.calculateAppearanceStream.call(this,h),e+="/AP \x3c\x3c /N "+k+" \x3e\x3e\n",this.acroformPlugin.xForms.push(k));
if(h.appearanceStreamContent){var e=e+"/AP \x3c\x3c ",n;for(n in h.appearanceStreamContent){k=h.appearanceStreamContent[n];e+="/"+n+" ";e+="\x3c\x3c ";if(1<=Object.keys(k).length||Array.isArray(k))for(d in k){var l=k[d];"function"===typeof l&&(l=l.call(this,h));e+="/"+d+" "+l+" ";0<=this.acroformPlugin.xForms.indexOf(l)||this.acroformPlugin.xForms.push(l)}else l=k,"function"===typeof l&&(l=l.call(this,h)),e+="/"+d+" "+l+" \n",0<=this.acroformPlugin.xForms.indexOf(l)||this.acroformPlugin.xForms.push(l);
e+=" \x3e\x3e\n"}e+="\x3e\x3e\n"}e+="\x3e\x3e\nendobj\n";this.internal.out(e)}if(f){a=this.acroformPlugin.xForms;for(var w in a)f=w,d=a[w],this.internal.newObjectDeferredBegin(d&&d.objId),h="",h+=d?d.getString():"",this.internal.out(h),delete a[f]}};e.addField=function(f){if(f instanceof c.TextField){var h;h=f||new c.Field;h.FT="/Tx";var d=h.Ff||0;h.multiline&&(d|=4096);h.password&&(d|=8192);h.fileSelect&&(d|=1048576);h.doNotSpellCheck&&(d|=4194304);h.doNotScroll&&(d|=8388608);h.Ff=h.Ff||d;a.call(this,
h)}else f instanceof c.ChoiceField?(h=f||new c.Field,h.FT="/Ch",d=h.Ff||0,h.combo&&(d=c.internal.setBitPosition(d,18),delete h.combo),h.edit&&(d=c.internal.setBitPosition(d,19),delete h.edit),h.sort&&(d=c.internal.setBitPosition(d,20),delete h.sort),h.multiSelect&&1.4<=this.internal.getPDFVersion()&&(d=c.internal.setBitPosition(d,22),delete h.multiSelect),h.doNotSpellCheck&&1.4<=this.internal.getPDFVersion()&&(d=c.internal.setBitPosition(d,23),delete h.doNotSpellCheck),h.Ff=d,a.call(this,h)):f instanceof
c.Button?(h=f||new c.Field,h.FT="/Btn",d=h.Ff||0,h.pushbutton&&(d=c.internal.setBitPosition(d,17),delete h.pushbutton),h.radio&&(d=c.internal.setBitPosition(d,16),delete h.radio),h.noToggleToOff&&(d=c.internal.setBitPosition(d,15)),h.Ff=d,a.call(this,h)):f instanceof c.ChildClass?a.call(this,f):f&&a.call(this,f);f.page=this.acroformPlugin.internal.getCurrentPageInfo().pageNumber;return this}})(p.API);var m=window.AcroForm;m.internal={};m.createFormXObject=function(e){var c=new m.FormXObject,l=m.Appearance.internal.getHeight(e)||
0;e=m.Appearance.internal.getWidth(e)||0;c.BBox=[0,0,e,l];return c};m.Appearance={CheckBox:{createAppearanceStream:function(){return{N:{On:m.Appearance.CheckBox.YesNormal},D:{On:m.Appearance.CheckBox.YesPushDown,Off:m.Appearance.CheckBox.OffPushDown}}},createMK:function(){return"\x3c\x3c /CA (3)\x3e\x3e"},YesPushDown:function(e){var c=m.createFormXObject(e),l="";e.Q=1;var k=m.internal.calculateX(e,"3","ZapfDingbats",50),l=l+("0.749023 g\n\r\n                     0 0 "+m.Appearance.internal.getWidth(e)+
" "+m.Appearance.internal.getHeight(e)+" re\n\r\n                     f\n\r\n                     BMC\n\r\n                     q\n\r\n                     0 0 1 rg\n\r\n                     /F13 "+k.fontSize+" Tf 0 g\n\r\n                     BT\n"),l=l+k.text;c.stream=l+"ET\n\r\n                     Q\n\r\n                     EMC\n";return c},YesNormal:function(e){var c=m.createFormXObject(e),l="";e.Q=1;var k=m.internal.calculateX(e,"3","ZapfDingbats",.9*m.Appearance.internal.getHeight(e)),l=l+
("1 g\n\r\n        0 0 "+m.Appearance.internal.getWidth(e)+" "+m.Appearance.internal.getHeight(e)+" re\n\r\n        f\n\r\n        q\n\r\n        0 0 1 rg\n\r\n        0 0 "+(m.Appearance.internal.getWidth(e)-1)+" "+(m.Appearance.internal.getHeight(e)-1)+" re\n\r\n        W\n\r\n        n\n\r\n        0 g\n\r\n        BT\n\r\n        /F13 "+k.fontSize+" Tf 0 g\n"),l=l+k.text;c.stream=l+"ET\n\r\n                     Q\n";return c},OffPushDown:function(e){var c=m.createFormXObject(e);e=""+("0.749023 g\n\r\n                    0 0 "+
m.Appearance.internal.getWidth(e)+" "+m.Appearance.internal.getHeight(e)+" re\n\r\n                    f\n");c.stream=e;return c}},RadioButton:{Circle:{createAppearanceStream:function(e){var c={D:{Off:m.Appearance.RadioButton.Circle.OffPushDown},N:{}};c.N[e]=m.Appearance.RadioButton.Circle.YesNormal;c.D[e]=m.Appearance.RadioButton.Circle.YesPushDown;return c},createMK:function(){return"\x3c\x3c /CA (l)\x3e\x3e"},YesNormal:function(e){var c=m.createFormXObject(e),l="",k=m.Appearance.internal.getWidth(e)<=
m.Appearance.internal.getHeight(e)?m.Appearance.internal.getWidth(e)/4:m.Appearance.internal.getHeight(e)/4,k=.9*k,a=m.Appearance.internal.Bezier_C,l=l+("q\n\r\n        1 0 0 1 "+m.Appearance.internal.getWidth(e)/2+" "+m.Appearance.internal.getHeight(e)/2+" cm\n\r\n        "+k+" 0 m\n\r\n        "+k+" "+k*a+" "+k*a+" "+k+" 0 "+k+" c\n\r\n        -"+k*a+" "+k+" -"+k+" "+k*a+" -"+k+" 0 c\n\r\n        -"+k+" -"+k*a+" -"+k*a+" -"+k+" 0 -"+k+" c\n\r\n        "+k*a+" -"+k+" "+k+" -"+k*a+" "+k+" 0 c\n\r\n        f\n\r\n        Q\n");
c.stream=l;return c},YesPushDown:function(e){var c=m.createFormXObject(e),l="",k=m.Appearance.internal.getWidth(e)<=m.Appearance.internal.getHeight(e)?m.Appearance.internal.getWidth(e)/4:m.Appearance.internal.getHeight(e)/4,k=.9*k,a=2*k,n=a*m.Appearance.internal.Bezier_C,f=k*m.Appearance.internal.Bezier_C,l=l+("0.749023 g\n\r\n                    q\n\r\n                   1 0 0 1 "+m.Appearance.internal.getWidth(e)/2+" "+m.Appearance.internal.getHeight(e)/2+" cm\n\r\n        "+a+" 0 m\n\r\n        "+
a+" "+n+" "+n+" "+a+" 0 "+a+" c\n\r\n        -"+n+" "+a+" -"+a+" "+n+" -"+a+" 0 c\n\r\n        -"+a+" -"+n+" -"+n+" -"+a+" 0 -"+a+" c\n\r\n        "+n+" -"+a+" "+a+" -"+n+" "+a+" 0 c\n\r\n                    f\n\r\n                    Q\n\r\n                    0 g\n\r\n                    q\n\r\n                    1 0 0 1 "+m.Appearance.internal.getWidth(e)/2+" "+m.Appearance.internal.getHeight(e)/2+" cm\n\r\n        "+k+" 0 m\n\r\n        "+k+" "+f+" "+f+" "+k+" 0 "+k+" c\n\r\n        -"+f+" "+
k+" -"+k+" "+f+" -"+k+" 0 c\n\r\n        -"+k+" -"+f+" -"+f+" -"+k+" 0 -"+k+" c\n\r\n        "+f+" -"+k+" "+k+" -"+f+" "+k+" 0 c\n\r\n                    f\n\r\n                    Q\n");c.stream=l;return c},OffPushDown:function(e){var c=m.createFormXObject(e),l="",k=1.8*(m.Appearance.internal.getWidth(e)<=m.Appearance.internal.getHeight(e)?m.Appearance.internal.getWidth(e)/4:m.Appearance.internal.getHeight(e)/4),a=k*m.Appearance.internal.Bezier_C,l=l+("0.749023 g\n\r\n                    q\n\r\n         1 0 0 1 "+
m.Appearance.internal.getWidth(e)/2+" "+m.Appearance.internal.getHeight(e)/2+" cm\n\r\n        "+k+" 0 m\n\r\n        "+k+" "+a+" "+a+" "+k+" 0 "+k+" c\n\r\n        -"+a+" "+k+" -"+k+" "+a+" -"+k+" 0 c\n\r\n        -"+k+" -"+a+" -"+a+" -"+k+" 0 -"+k+" c\n\r\n        "+a+" -"+k+" "+k+" -"+a+" "+k+" 0 c\n\r\n                    f\n\r\n                    Q\n");c.stream=l;return c}},Cross:{createAppearanceStream:function(e){var c={D:{Off:m.Appearance.RadioButton.Cross.OffPushDown},N:{}};c.N[e]=m.Appearance.RadioButton.Cross.YesNormal;
c.D[e]=m.Appearance.RadioButton.Cross.YesPushDown;return c},createMK:function(){return"\x3c\x3c /CA (8)\x3e\x3e"},YesNormal:function(e){var c=m.createFormXObject(e),l="",k=m.Appearance.internal.calculateCross(e),l=l+("q\n\r\n                    1 1 "+(m.Appearance.internal.getWidth(e)-2)+" "+(m.Appearance.internal.getHeight(e)-2)+" re\n\r\n                    W\n\r\n                    n\n\r\n                    "+k.x1.x+" "+k.x1.y+" m\n\r\n                    "+k.x2.x+" "+k.x2.y+" l\n\r\n                    "+
k.x4.x+" "+k.x4.y+" m\n\r\n                    "+k.x3.x+" "+k.x3.y+" l\n\r\n                    s\n\r\n                    Q\n");c.stream=l;return c},YesPushDown:function(e){var c=m.createFormXObject(e),l=m.Appearance.internal.calculateCross(e);e=""+("0.749023 g\n\r\n                    0 0 "+m.Appearance.internal.getWidth(e)+" "+m.Appearance.internal.getHeight(e)+" re\n\r\n                    f\n\r\n                    q\n\r\n                    1 1 "+(m.Appearance.internal.getWidth(e)-2)+" "+(m.Appearance.internal.getHeight(e)-
2)+" re\n\r\n                    W\n\r\n                    n\n\r\n                    "+l.x1.x+" "+l.x1.y+" m\n\r\n                    "+l.x2.x+" "+l.x2.y+" l\n\r\n                    "+l.x4.x+" "+l.x4.y+" m\n\r\n                    "+l.x3.x+" "+l.x3.y+" l\n\r\n                    s\n\r\n                    Q\n");c.stream=e;return c},OffPushDown:function(e){var c=m.createFormXObject(e);e=""+("0.749023 g\n\r\n                    0 0 "+m.Appearance.internal.getWidth(e)+" "+m.Appearance.internal.getHeight(e)+
" re\n\r\n                    f\n");c.stream=e;return c}}},createDefaultAppearanceStream:function(e){return"/Helv 0 Tf 0 g"}};m.Appearance.internal={Bezier_C:.551915024494,calculateCross:function(e){var c=m.Appearance.internal.getWidth(e);e=m.Appearance.internal.getHeight(e);var l=c>e?e:c;return{x1:{x:(c-l)/2,y:(e-l)/2+l},x2:{x:(c-l)/2+l,y:(e-l)/2},x3:{x:(c-l)/2,y:(e-l)/2},x4:{x:(c-l)/2+l,y:(e-l)/2+l}}}};m.Appearance.internal.getWidth=function(e){return e.Rect[2]};m.Appearance.internal.getHeight=
function(e){return e.Rect[3]};m.internal.inherit=function(e,c){e.prototype=Object.create(c.prototype);e.prototype.constructor=e};m.internal.arrayToPdfArray=function(e){if(Array.isArray(e)){var c=" [",l;for(l in e)c+=e[l].toString(),c+=l<e.length-1?" ":"";return c+"]"}};m.internal.toPdfString=function(e){e=e||"";0!==e.indexOf("(")&&(e="("+e);")"!=e.substring(e.length-1)&&(e+="(");return e};m.PDFObject=function(){var e;Object.defineProperty(this,"objId",{get:function(){e||(this.internal?e=this.internal.newObjectDeferred():
p.API.acroformPlugin.internal&&(e=p.API.acroformPlugin.internal.newObjectDeferred()));e||console.log("Couldn't create Object ID");return e},configurable:!1})};m.PDFObject.prototype.toString=function(){return this.objId+" 0 R"};m.PDFObject.prototype.getString=function(){var e=this.objId+" 0 obj\n\x3c\x3c",c=this.getContent(),e=e+(c+"\x3e\x3e\n");this.stream&&(e=e+"stream\n"+this.stream,e+="endstream\n");return e+"endobj\n"};m.PDFObject.prototype.getContent=function(){return""+function(e){var c="",
l=Object.keys(e).filter(function(a){return"content"!=a&&"appearanceStreamContent"!=a&&"_"!=a.substring(0,1)}),k;for(k in l){var a=l[k],n=e[a];n&&(c=Array.isArray(n)?c+("/"+a+" "+m.internal.arrayToPdfArray(n)+"\n"):n instanceof m.PDFObject?c+("/"+a+" "+n.objId+" 0 R\n"):c+("/"+a+" "+n+"\n"))}return c}(this)};m.FormXObject=function(){m.PDFObject.call(this);this.Type="/XObject";this.Subtype="/Form";this.FormType=1;this.BBox;this.Matrix;this.Resources="2 0 R";this.PieceInfo;var e;Object.defineProperty(this,
"Length",{enumerable:!0,get:function(){return void 0!==e?e.length:0}});Object.defineProperty(this,"stream",{enumerable:!1,set:function(c){e=c},get:function(){return e?e:null}})};m.internal.inherit(m.FormXObject,m.PDFObject);m.AcroFormDictionary=function(){m.PDFObject.call(this);var e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){if(0<e.length)return e}});Object.defineProperty(this,"Fields",{enumerable:!0,configurable:!0,get:function(){return e}});this.DA};m.internal.inherit(m.AcroFormDictionary,
m.PDFObject);m.Field=function(){m.PDFObject.call(this);var e;Object.defineProperty(this,"Rect",{enumerable:!0,configurable:!1,get:function(){if(e)return e},set:function(a){e=a}});var c="";Object.defineProperty(this,"FT",{enumerable:!0,set:function(a){c=a},get:function(){return c}});var l;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,set:function(a){l=a},get:function(){return!l||1>l.length?this instanceof m.ChildClass?void 0:"(FieldObject"+m.Field.FieldNum++ +")":"("==l.substring(0,
1)&&l.substring(l.length-1)?l:"("+l+")"}});var k;Object.defineProperty(this,"DA",{enumerable:!0,get:function(){if(k)return"("+k+")"},set:function(a){k=a}});var a;Object.defineProperty(this,"DV",{enumerable:!0,configurable:!0,get:function(){if(a)return a},set:function(k){a=k}});Object.defineProperty(this,"Type",{enumerable:!0,get:function(){return this.hasAnnotation?"/Annot":null}});Object.defineProperty(this,"Subtype",{enumerable:!0,get:function(){return this.hasAnnotation?"/Widget":null}});Object.defineProperty(this,
"hasAnnotation",{enumerable:!1,get:function(){return this.Rect||this.BC||this.BG?!0:!1}});Object.defineProperty(this,"hasAppearanceStream",{enumerable:!1,configurable:!0,writable:!0});Object.defineProperty(this,"page",{enumerable:!1,configurable:!0,writable:!0})};m.Field.FieldNum=0;m.internal.inherit(m.Field,m.PDFObject);m.ChoiceField=function(){m.Field.call(this);this.FT="/Ch";this.Opt=[];this.V="()";this.TI=0;this.combo=!1;Object.defineProperty(this,"edit",{enumerable:!0,set:function(e){1==e?this.combo=
this._edit=!0:this._edit=!1},get:function(){return this._edit?this._edit:!1},configurable:!1});this.hasAppearanceStream=!0;Object.defineProperty(this,"V",{get:function(){m.internal.toPdfString()}})};m.internal.inherit(m.ChoiceField,m.Field);m.ListBox=function(){m.ChoiceField.call(this)};m.internal.inherit(m.ListBox,m.ChoiceField);m.ComboBox=function(){m.ListBox.call(this);this.combo=!0};m.internal.inherit(m.ComboBox,m.ListBox);m.EditBox=function(){m.ComboBox.call(this);this.edit=!0};m.internal.inherit(m.EditBox,
m.ComboBox);m.Button=function(){m.Field.call(this);this.FT="/Btn"};m.internal.inherit(m.Button,m.Field);m.PushButton=function(){m.Button.call(this);this.pushbutton=!0};m.internal.inherit(m.PushButton,m.Button);m.RadioButton=function(){m.Button.call(this);this.radio=!0;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,get:function(){if(0<e.length)return e}});Object.defineProperty(this,"__Kids",{get:function(){return e}});var c;Object.defineProperty(this,"noToggleToOff",{enumerable:!1,get:function(){return c},
set:function(e){c=e}})};m.internal.inherit(m.RadioButton,m.Button);m.ChildClass=function(e,c){m.Field.call(this);this.Parent=e;this._AppearanceType=m.Appearance.RadioButton.Circle;this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(c);this.F=m.internal.setBitPosition(this.F,3,1);this.MK=this._AppearanceType.createMK();this.AS="/Off";this._Name=c};m.internal.inherit(m.ChildClass,m.Field);m.RadioButton.prototype.setAppearance=function(e){if("createAppearanceStream"in e&&"createMK"in
e)for(var c in this.__Kids){var l=this.__Kids[c];l.appearanceStreamContent=e.createAppearanceStream(l._Name);l.MK=e.createMK()}else console.log("Couldn't assign Appearance to RadioButton. Appearance was Invalid!")};m.RadioButton.prototype.createOption=function(e){e=new m.ChildClass(this,e);this.__Kids.push(e);p.API.addField(e);return e};m.CheckBox=function(){m.Button.call(this);this.appearanceStreamContent=m.Appearance.CheckBox.createAppearanceStream();this.MK=m.Appearance.CheckBox.createMK();this.V=
this.AS="/On"};m.internal.inherit(m.CheckBox,m.Button);m.TextField=function(){m.Field.call(this);this.DA=m.Appearance.createDefaultAppearanceStream();this.F=4;var e;Object.defineProperty(this,"V",{get:function(){return e?"("+e+")":e},enumerable:!0,set:function(a){e=a}});var c;Object.defineProperty(this,"DV",{get:function(){return c?"("+c+")":c},enumerable:!0,set:function(a){c=a}});var l=!1;Object.defineProperty(this,"multiline",{enumerable:!1,get:function(){return l},set:function(a){l=a}});var k=
!1;Object.defineProperty(this,"MaxLen",{enumerable:!0,get:function(){return k},set:function(a){k=a}});Object.defineProperty(this,"hasAppearanceStream",{enumerable:!1,get:function(){return this.V||this.DV}})};m.internal.inherit(m.TextField,m.Field);m.PasswordField=function(){m.TextField.call(this);Object.defineProperty(this,"password",{value:!0,enumerable:!1,configurable:!1,writable:!1})};m.internal.inherit(m.PasswordField,m.TextField);m.internal.calculateFontSpace=function(e,c,l){l=l||"helvetica";
var k=m.internal.calculateFontSpace.canvas||(m.internal.calculateFontSpace.canvas=document.createElement("canvas")),a=k.getContext("2d");a.save();a.font=c+" "+l;e={width:a.measureText(e).getWidth()};a.fontcolor="black";a=k.getContext("2d");e.height=1.5*a.measureText("3").getWidth();a.restore();return e};m.internal.calculateX=function(e,c,l,k){k=k||12;l=l||"helvetica";var a={text:"",fontSize:""};c="("==c.substr(0,1)?c.substr(1):c;c=")"==c.substr(c.length-1)?c.substr(0,c.length-1):c;var n=c.split(" "),
f=m.Appearance.internal.getHeight(e)||0,f=0>f?-f:f,h=m.Appearance.internal.getWidth(e)||0,h=0>h?-h:h;k++;a:for(;;){c="";k--;var w=m.internal.calculateFontSpace("3",k+"px",l).height,t=e.multiline?f-k:(f-w)/2,t=t+2,d=-2,q=d=0,J=0;if(0==k){k=12;c="(...) Tj\n";c+="% Width of Text: "+m.internal.calculateFontSpace(c,"1px").width+", FieldWidth:"+h+"\n";break}var J=m.internal.calculateFontSpace(n[0]+" ",k+"px",l).width,E="",L=0,F;for(F in n){var E=E+(n[F]+" "),E=" "==E.substr(E.length-1)?E.substr(0,E.length-
1):E,ba=parseInt(F),J=m.internal.calculateFontSpace(E+" ",k+"px",l).width;J=ba+1<n.length?m.internal.calculateFontSpace(E+" "+n[ba+1],k+"px",l).width<=h-4:!1;var p=F>=n.length-1;if(J&&!p)E+=" ";else{if(!J&&!p)if(e.multiline){if((w+2)*(L+2)+2>f)continue a;q=ba}else continue a;else if(p)q=ba;else if(e.multiline&&(w+2)*(L+2)+2>f)continue a;for(E="";d<=q;d++)E+=n[d]+" ";E=" "==E.substr(E.length-1)?E.substr(0,E.length-1):E;J=m.internal.calculateFontSpace(E,k+"px",l).width;switch(e.Q){case 2:d=h-J-2;break;
case 1:d=(h-J)/2;break;default:d=2}c+=d+" "+t+" Td\n";c+="("+E+") Tj\n";c+=-d+" 0 Td\n";t=-(k+2);J=0;d=q+1;L++;E=""}}break}a.text=c;a.fontSize=k;return a};m.internal.calculateAppearanceStream=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var c="",l=m.internal.calculateX(e,e.V||e.DV),c=c+("/Tx BMC\nq\n/F1 "+l.fontSize+" Tf\n1 0 0 1 0 0 Tm\n"),c=c+"BT\n"+l.text,c=c+"ET\nQ\nEMC\n";e=new m.createFormXObject(e);e.stream=c;return e}};m.internal.calculateCoordinates=
function(e,c,l,k){var a,n;this.internal?Array.isArray(e)?(e[0]=m.scale(e[0]),e[1]=m.scale(e[1]),e[2]=m.scale(e[2]),e[3]=m.scale(e[3]),a=e[0]||0,n=this.internal.pageSize.getHeight()*this.internal.scaleFactor-e[3]-e[1]||0,l=e[0]+e[2]||0,e=this.internal.pageSize.getHeight()*this.internal.scaleFactor-e[1]||0):(e=m.scale(e),c=m.scale(c),l=m.scale(l),k=m.scale(k),a=e||0,n=this.internal.pageSize.getHeight()-c||0,l=e+l||0,e=this.internal.pageSize.getHeight()-c+k||0):Array.isArray(e)?(a=e[0]||0,n=e[1]||0,
l=e[0]+e[2]||0,e=e[1]+e[3]||0):(a=e||0,n=c||0,l=e+l||0,e=c+k||0);return[a,n,l,e]};m.internal.calculateColor=function(e,c,l){var k=Array(3);k.r=e|0;k.g=c|0;k.b=l|0;return k};m.internal.getBitPosition=function(e,c){return(e||0)|1<<c-1};m.internal.setBitPosition=function(e,c,l){e=e||0;c=1<<c-1;return 1==(l||1)?e|c:e&~c};(function(e){e.addHTML=function(c,l,k,a,n){if("undefined"===typeof e.html2canvas&&"undefined"===typeof rasterizeHTML)throw Error("You need either https://github.com/niklasvh/html2canvas or https://github.com/cburgmer/rasterizeHTML.js");
"number"!==typeof l&&(a=l,n=k);"function"===typeof a&&(n=a,a=null);var f=this.internal,h=f.scaleFactor,w=f.pageSize.getWidth(),t=f.pageSize.getHeight();a=a||{};a.onrendered=function(d){l=parseInt(l)||0;k=parseInt(k)||0;var f=a.dim||{},c=f.h||0,e=f.w||Math.min(w,d.width/h)-l,m="JPEG";a.format&&(m=a.format);if(d.height>t&&a.pagesplit)c=function(){for(var a=0;;){var f=document.createElement("canvas");f.width=Math.min(w*h,d.width);f.height=Math.min(t*h,d.height-a);f.getContext("2d").drawImage(d,0,a,d.width,
f.height,0,0,f.width,f.height);var c=[f,l,a?0:k,f.width/h,f.height/h,m,null,"SLOW"];this.addImage.apply(this,c);a+=f.height;if(a>=d.height)break;this.addPage()}n(e,a,null,c)}.bind(this),"CANVAS"===d.nodeName?(f=new Image,f.onload=c,f.src=d.toDataURL("image/png"),d=f):c();else{var f=Math.random().toString(35),F=[d,l,k,e,c,m,f,"SLOW"];this.addImage.apply(this,F);n(e,c,f,F)}}.bind(this);return"undefined"===typeof e.html2canvas||a.rstz?"undefined"!==typeof rasterizeHTML?(f="drawDocument","string"===typeof c&&
(f=/^http/.test(c)?"drawURL":"drawHTML"),a.width=a.width||w*h,rasterizeHTML[f](c,void 0,a).then(function(d){a.onrendered(d.image)},function(a){n(null,a)})):null:e.html2canvas(c,a)}})(p.API);(function(e){var c=["jpeg","jpg","png"],l=function d(a){var f=this.internal.newObject(),h=this.internal.write,k=this.internal.putStream;a.n=f;h("\x3c\x3c/Type /XObject");h("/Subtype /Image");h("/Width "+a.w);h("/Height "+a.h);a.cs===this.color_spaces.INDEXED?h("/ColorSpace [/Indexed /DeviceRGB "+(a.pal.length/
3-1)+" "+("smask"in a?f+2:f+1)+" 0 R]"):(h("/ColorSpace /"+a.cs),a.cs===this.color_spaces.DEVICE_CMYK&&h("/Decode [1 0 1 0 1 0 1 0]"));h("/BitsPerComponent "+a.bpc);"f"in a&&h("/Filter /"+a.f);"dp"in a&&h("/DecodeParms \x3c\x3c"+a.dp+"\x3e\x3e");if("trns"in a&&a.trns.constructor==Array){for(var c="",e=0,q=a.trns.length;e<q;e++)c+=a.trns[e]+" "+a.trns[e]+" ";h("/Mask ["+c+"]")}"smask"in a&&h("/SMask "+(f+1)+" 0 R");h("/Length "+a.data.length+"\x3e\x3e");k(a.data);h("endobj");"smask"in a&&(f={w:a.w,
h:a.h,cs:"DeviceGray",bpc:a.bpc,dp:"/Predictor "+a.p+" /Colors 1 /BitsPerComponent "+a.bpc+" /Columns "+a.w,data:a.smask},"f"in a&&(f.f=a.f),d.call(this,f));a.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),h("\x3c\x3c /Length "+a.pal.length+"\x3e\x3e"),k(this.arrayBufferToBinaryString(new Uint8Array(a.pal))),h("endobj"))},k=function(){var a=this.internal.collections.addImage_images,f;for(f in a)l.call(this,a[f])},a=function(){var a=this.internal.collections.addImage_images,f=this.internal.write,
h,k;for(k in a)h=a[k],f("/I"+h.i,h.n,"0","R")},n=function(a){a&&"string"===typeof a&&(a=a.toUpperCase());return a in e.image_compression?a:e.image_compression.NONE},f=function(a){var d=0;if(a){if(Object.keys)a=Object.keys(a).length;else{var d=0,f;for(f in a)a.hasOwnProperty(f)&&d++;a=d}d=a}return d},h=function(a){return"object"===("undefined"===typeof a?"undefined":v(a))&&1===a.nodeType},w=function(a,f){var d;if(f)for(var h in f)if(a===f[h].alias){d=f[h];break}return d};e.color_spaces={DEVICE_RGB:"DeviceRGB",
DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};e.image_compression={NONE:"NONE",FAST:"FAST",
MEDIUM:"MEDIUM",SLOW:"SLOW"};e.sHashCode=function(a){return Array.prototype.reduce&&a.split("").reduce(function(a,d){a=(a<<5)-a+d.charCodeAt(0);return a&a},0)};e.isString=function(a){return"string"===typeof a};e.extractInfoFromBase64DataURI=function(a){return/^data:([\w]+?\/([\w]+?));base64,(.+?)$/g.exec(a)};e.supportsArrayBuffer=function(){return"undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array};e.isArrayBuffer=function(a){return this.supportsArrayBuffer()?a instanceof ArrayBuffer:
!1};e.isArrayBufferView=function(a){return this.supportsArrayBuffer()&&"undefined"!==typeof Uint32Array?a instanceof Int8Array||a instanceof Uint8Array||"undefined"!==typeof Uint8ClampedArray&&a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array:!1};e.binaryStringToUint8Array=function(a){for(var d=a.length,f=new Uint8Array(d),h=0;h<d;h++)f[h]=a.charCodeAt(h);return f};
e.arrayBufferToBinaryString=function(a){this.isArrayBuffer(a)&&(a=new Uint8Array(a));for(var d="",f=a.byteLength,h=0;h<f;h++)d+=String.fromCharCode(a[h]);return d};e.arrayBufferToBase64=function(a){var d="";a=new Uint8Array(a);for(var f=a.byteLength,h=f%3,f=f-h,k,c,e,n,l=0;l<f;l+=3)n=a[l]<<16|a[l+1]<<8|a[l+2],k=(n&16515072)>>18,c=(n&258048)>>12,e=(n&4032)>>6,n&=63,d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[k]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[c]+
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[n];1==h?(n=a[f],d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(n&252)>>2]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(n&3)<<4]+"\x3d\x3d"):2==h&&(n=a[f]<<8|a[f+1],d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(n&64512)>>10]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(n&
1008)>>4]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(n&15)<<2]+"\x3d");return d};e.createImageInfo=function(a,f,h,k,c,e,n,l,w,m,p,v,u){a={alias:l,w:f,h:h,cs:k,bpc:c,i:n,data:a};e&&(a.f=e);w&&(a.dp=w);m&&(a.trns=m);p&&(a.pal=p);v&&(a.smask=v);u&&(a.p=u);return a};e.addImage=function(d,q,l,E,m,F,p,u,x){if("string"!==typeof q){var J=F;F=m;m=E;E=l;l=q;q=J}"object"===("undefined"===typeof d?"undefined":v(d))&&!h(d)&&"imageData"in d&&(J=d,d=J.imageData,q=J.format||q,l=J.x||l||0,
E=J.y||E||0,m=J.w||m,F=J.h||F,p=J.alias||p,u=J.compression||u,x=J.rotation||J.angle||x);if(isNaN(l)||isNaN(E))throw console.error("jsPDF.addImage: Invalid coordinates",arguments),Error("Invalid coordinates passed to jsPDF.addImage");J=this.internal.collections.addImage_images;J||(this.internal.collections.addImage_images=J={},this.internal.events.subscribe("putResources",k),this.internal.events.subscribe("putXobjectDict",a));var L;if(!(L=w(d,J))){var ba;if(h(d))a:{L=d;var aa=q,M=x;if("IMG"===L.nodeName&&
L.hasAttribute("src")){var O=""+L.getAttribute("src");if(!M&&0===O.indexOf("data:image/")){d=O;break a}!aa&&/\.png(?:[?#].*)?$/i.test(O)&&(aa="png")}if("CANVAS"===L.nodeName)O=L;else{O=document.createElement("canvas");O.width=L.clientWidth||L.width;O.height=L.clientHeight||L.height;var R=O.getContext("2d");if(!R)throw"addImage requires canvas to be supported by browser.";if(M){var W,K,B,y,na,z;y=Math.PI/180;var T;"object"===("undefined"===typeof M?"undefined":v(M))&&(W=M.x,K=M.y,B=M.bg,M=M.angle);
T=M*y;M=Math.abs(Math.cos(T));y=Math.abs(Math.sin(T));na=O.width;z=O.height;O.width=z*y+na*M;O.height=z*M+na*y;isNaN(W)&&(W=O.width/2);isNaN(K)&&(K=O.height/2);R.clearRect(0,0,O.width,O.height);R.fillStyle=B||"white";R.fillRect(0,0,O.width,O.height);R.save();R.translate(W,K);R.rotate(T);R.drawImage(L,-(na/2),-(z/2));R.rotate(-T);R.translate(-W,-K);R.restore()}else R.drawImage(L,0,0,O.width,O.height)}d=O.toDataURL("png"==(""+aa).toLowerCase()?"image/png":"image/jpeg")}if("undefined"===typeof p||null===
p)p="string"===typeof d&&e.sHashCode(d);if(!(L=w(p,J))){this.isString(d)&&((W=this.extractInfoFromBase64DataURI(d))?(q=W[2],d=atob(W[3])):137===d.charCodeAt(0)&&80===d.charCodeAt(1)&&78===d.charCodeAt(2)&&71===d.charCodeAt(3)&&(q="png"));q=(q||"JPEG").toLowerCase();if(-1===c.indexOf(q))throw Error("addImage currently only supports formats "+c+", not '"+q+"'");if("function"!==typeof e["process"+q.toUpperCase()])throw Error("please ensure that the plugin for '"+q+"' support is added");!this.supportsArrayBuffer()||
d instanceof Uint8Array||(ba=d,d=this.binaryStringToUint8Array(d));L=this["process"+q.toUpperCase()](d,f(J),p,n(u),ba);if(!L)throw Error("An unkwown error occurred whilst processing the image");}}ba=l;W=E;K=L;B=L.i;L=m;aa=F;L||aa||(aa=L=-96);0>L&&(L=-72*K.w/L/this.internal.scaleFactor);0>aa&&(aa=-72*K.h/aa/this.internal.scaleFactor);0===L&&(L=aa*K.w/K.h);0===aa&&(aa=L*K.h/K.w);R=[L,aa];aa=this.internal.getCoordinateString;O=this.internal.getVerticalCoordinateString;L=R[0];R=R[1];J[B]=K;this.internal.write("q",
aa(L),"0 0",aa(R),aa(ba),O(W+R),"cm /I"+K.i,"Do Q");return this};e.processJPEG=function(a,f,h,k,c){k=this.color_spaces.DEVICE_RGB;var d=this.decode.DCT_DECODE,e;if(this.isString(a)){a:{c=a;var n,q;if(255===!c.charCodeAt(0)||216===!c.charCodeAt(1)||255===!c.charCodeAt(2)||224===!c.charCodeAt(3)||74===!c.charCodeAt(6)||70===!c.charCodeAt(7)||73===!c.charCodeAt(8)||70===!c.charCodeAt(9)||0===!c.charCodeAt(10))throw Error("getJpegSize requires a binary string jpeg file");n=256*c.charCodeAt(4)+c.charCodeAt(5);
e=4;for(q=c.length;e<q;){e+=n;if(255!==c.charCodeAt(e))throw Error("getJpegSize could not find the size of the image");if(192===c.charCodeAt(e+1)||193===c.charCodeAt(e+1)||194===c.charCodeAt(e+1)||195===c.charCodeAt(e+1)||196===c.charCodeAt(e+1)||197===c.charCodeAt(e+1)||198===c.charCodeAt(e+1)||199===c.charCodeAt(e+1)){q=256*c.charCodeAt(e+5)+c.charCodeAt(e+6);n=256*c.charCodeAt(e+7)+c.charCodeAt(e+8);c=c.charCodeAt(e+9);e=[n,q,c];break a}else e+=2,n=256*c.charCodeAt(e)+c.charCodeAt(e+1)}e=void 0}return this.createImageInfo(a,
e[0],e[1],1==e[3]?this.color_spaces.DEVICE_GRAY:k,8,d,f,h)}this.isArrayBuffer(a)&&(a=new Uint8Array(a));if(this.isArrayBufferView(a)){a:{n=a;if(65496!==(n[0]<<8|n[1]))throw Error("Supplied data is not a JPEG");q=n.length;for(var l=(n[4]<<8)+n[5],w=4;w<q;){w+=l;e=n.subarray(w,w+5);l=(e[2]<<8)+e[3];if((192===e[1]||194===e[1])&&255===e[0]&&7<l){e=w+5;e=n.subarray(e,e+5);n=(e[2]<<8)+e[3];q=(e[0]<<8)+e[1];e=e[4];e={width:n,height:q,numcomponents:e};break a}w+=2}throw Error("getJpegSizeFromBytes could not find the size of the image");
}a=c||this.arrayBufferToBinaryString(a);return this.createImageInfo(a,e.width,e.height,1==e.numcomponents?this.color_spaces.DEVICE_GRAY:k,8,d,f,h)}return null};e.processJPG=function(){return this.processJPEG.apply(this,arguments)}})(p.API);(function(e){var c={annotations:[],f2:function(c){return c.toFixed(2)},notEmpty:function(c){if("undefined"!=typeof c&&""!=c)return!0}};p.API.annotationPlugin=c;p.API.events.push(["addPage",function(c){this.annotationPlugin.annotations[c.pageNumber]=[]}]);e.events.push(["putPage",
function(e){for(var k=this.annotationPlugin.annotations[e.pageNumber],a=!1,n=0;n<k.length&&!a;n++){var f=k[n];switch(f.type){case "link":if(c.notEmpty(f.options.url)||c.notEmpty(f.options.pageNumber)){a=!0;break}case "reference":case "text":case "freetext":a=!0}}if(0!=a){this.internal.write("/Annots [");for(var a=this.annotationPlugin.f2,h=this.internal.scaleFactor,l=this.internal.pageSize.getHeight(),t=this.internal.getPageInfo(e.pageNumber),n=0;n<k.length;n++)switch(f=k[n],f.type){case "reference":this.internal.write(" "+
f.object.objId+" 0 R ");break;case "text":var d=this.internal.newAdditionalObject(),q=this.internal.newAdditionalObject(),m=f.title||"Note",E="/Rect ["+a(f.bounds.x*h)+" "+a(l-(f.bounds.y+f.bounds.h)*h)+" "+a((f.bounds.x+f.bounds.w)*h)+" "+a((l-f.bounds.y)*h)+"] ";e="\x3c\x3c/Type /Annot /Subtype /Text "+E+"/Contents ("+f.contents+")";e+=" /Popup "+q.objId+" 0 R";e+=" /P "+t.objId+" 0 R";e+=" /T ("+m+") \x3e\x3e";d.content=e;e=d.objId+" 0 R";E="/Rect ["+a((f.bounds.x+30)*h)+" "+a(l-(f.bounds.y+f.bounds.h)*
h)+" "+a((f.bounds.x+f.bounds.w+30)*h)+" "+a((l-f.bounds.y)*h)+"] ";e="\x3c\x3c/Type /Annot /Subtype /Popup "+E+" /Parent "+e;f.open&&(e+=" /Open true");e+=" \x3e\x3e";q.content=e;this.internal.write(d.objId,"0 R",q.objId,"0 R");break;case "freetext":E="/Rect ["+a(f.bounds.x*h)+" "+a((l-f.bounds.y)*h)+" "+a(f.bounds.x+f.bounds.w*h)+" "+a(l-(f.bounds.y+f.bounds.h)*h)+"] ";d=f.color||"#000000";e="\x3c\x3c/Type /Annot /Subtype /FreeText "+E+"/Contents ("+f.contents+")";e+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+
d+")";e+=" /Border [0 0 0]";e+=" \x3e\x3e";this.internal.write(e);break;case "link":f.options.name?(E=this.annotations._nameMap[f.options.name],f.options.pageNumber=E.page,f.options.top=E.y):f.options.top||(f.options.top=0);E="/Rect ["+a(f.x*h)+" "+a((l-f.y)*h)+" "+a(f.x+f.w*h)+" "+a(l-(f.y+f.h)*h)+"] ";e="";if(f.options.url)e="\x3c\x3c/Type /Annot /Subtype /Link "+E+"/Border [0 0 0] /A \x3c\x3c/S /URI /URI ("+f.options.url+") \x3e\x3e";else if(f.options.pageNumber)switch(e=this.internal.getPageInfo(f.options.pageNumber),
e="\x3c\x3c/Type /Annot /Subtype /Link "+E+"/Border [0 0 0] /Dest ["+e.objId+" 0 R",f.options.magFactor=f.options.magFactor||"XYZ",f.options.magFactor){case "Fit":e+=" /Fit]";break;case "FitH":e+=" /FitH "+f.options.top+"]";break;case "FitV":f.options.left=f.options.left||0;e+=" /FitV "+f.options.left+"]";break;default:E=a((l-f.options.top)*h),f.options.left=f.options.left||0,"undefined"===typeof f.options.zoom&&(f.options.zoom=0),e+=" /XYZ "+f.options.left+" "+E+" "+f.options.zoom+"]"}""!=e&&(e+=
" \x3e\x3e",this.internal.write(e))}this.internal.write("]")}}]);e.createAnnotation=function(c){switch(c.type){case "link":this.link(c.bounds.x,c.bounds.y,c.bounds.w,c.bounds.h,c);break;case "text":case "freetext":this.annotationPlugin.annotations[this.internal.getCurrentPageInfo().pageNumber].push(c)}};e.link=function(c,k,a,e,f){this.annotationPlugin.annotations[this.internal.getCurrentPageInfo().pageNumber].push({x:c,y:k,w:a,h:e,options:f,type:"link"})};e.link=function(c,k,a,e,f){this.annotationPlugin.annotations[this.internal.getCurrentPageInfo().pageNumber].push({x:c,
y:k,w:a,h:e,options:f,type:"link"})};e.textWithLink=function(c,k,a,e){var f=this.getTextWidth(c),h=this.internal.getLineHeight();this.text(c,k,a);this.link(k,a+.2*h-h,f,h,e);return f};e.getTextWidth=function(c){var k=this.internal.getFontSize();return this.getStringUnitWidth(c)*k/this.internal.scaleFactor};e.getLineHeight=function(){return this.internal.getLineHeight()};return this})(p.API);(function(e){e.autoPrint=function(){var c;this.internal.events.subscribe("postPutResources",function(){c=this.internal.newObject();
this.internal.write("\x3c\x3c /S/Named /Type/Action /N/Print \x3e\x3e","endobj")});this.internal.events.subscribe("putCatalog",function(){this.internal.write("/OpenAction "+c+" 0 R")});return this}})(p.API);(function(e){e.events.push(["initialized",function(){this.canvas.pdf=this}]);e.canvas={getContext:function(c){this.pdf.context2d._canvas=this;return this.pdf.context2d},style:{}};Object.defineProperty(e.canvas,"width",{get:function(){return this._width},set:function(c){this._width=c;this.getContext("2d").pageWrapX=
c+1}});Object.defineProperty(e.canvas,"height",{get:function(){return this._height},set:function(c){this._height=c;this.getContext("2d").pageWrapY=c+1}});return this})(p.API);(function(e){var c,l,k,a,n={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},f=1,h={left:0,top:0,bottom:0};e.setHeaderFunction=function(f){a=f};e.getTextDimensions=function(a){c=this.internal.getFont().fontName;l=this.table_font_size||this.internal.getFontSize();k=this.internal.getFont().fontStyle;var f=19.049976/25.4,d;d=document.createElement("font");
d.id="jsPDFCell";try{d.style.fontStyle=k}catch(q){d.style.fontWeight=k}d.style.fontName=c;d.style.fontSize=l+"pt";try{d.textContent=a}catch(q){d.innerText=a}document.body.appendChild(d);a={w:(d.offsetWidth+1)*f,h:(d.offsetHeight+1)*f};document.body.removeChild(d);return a};e.cellAddPage=function(){var a=this.margins||h;this.addPage();n={x:a.left,y:a.top,w:void 0,h:void 0,ln:void 0};f+=1};e.cellInitialize=function(){n={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0};f=1};e.cell=function(a,f,d,k,c,e,
l){var q=n,t=!1;void 0!==q.ln&&(q.ln===e?(a=q.x+q.w,f=q.y):(f=this.margins||h,q.y+q.h+k+13>=this.internal.pageSize.getHeight()-f.bottom&&(this.cellAddPage(),t=!0,this.printHeaders&&this.tableHeaderRow&&this.printHeaderRow(e,!0)),f=n.y+n.h,t&&(f=23)));if(void 0!==c[0])if(this.printingHeaderRow?this.rect(a,f,d,k,"FD"):this.rect(a,f,d,k),"right"===l)for(c instanceof Array||(c=[c]),l=0;l<c.length;l++)q=c[l],t=this.getStringUnitWidth(q)*this.internal.getFontSize(),this.text(q,a+d-t-3,f+this.internal.getLineHeight()*
(l+1));else this.text(c,a+3,f+this.internal.getLineHeight());n={x:a,y:f,w:d,h:k,ln:e};return this};e.arrayMax=function(a,f){var d=a[0],h,k,c;h=0;for(k=a.length;h<k;h+=1)c=a[h],f?-1===f(d,c)&&(d=c):c>d&&(d=c);return d};e.table=function(a,k,d,c,l){if(!d)throw"No data for PDF table";var q=[],t=[],w,m,J,p={},u={},v,G,x=[],M=[],O;J=!1;var R=!0;m=12;v=h;v.width=this.internal.pageSize.getWidth();l&&(!0===l.autoSize&&(J=!0),!1===l.printHeaders&&(R=!1),l.fontSize&&(m=l.fontSize),l.css&&"undefined"!==typeof l.css["font-size"]&&
(m=16*l.css["font-size"]),l.margins&&(v=l.margins));this.lnMod=0;n={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0};f=1;this.printHeaders=R;this.margins=v;this.setFontSize(m);this.table_font_size=m;if(void 0===c||null===c)q=Object.keys(d[0]);else if(c[0]&&"string"!==typeof c[0])for(v=19.049976/25.4,l=0,m=c.length;l<m;l+=1)w=c[l],q.push(w.name),t.push(w.prompt),u[w.name]=w.width*v;else q=c;if(J)for(O=function(a){return a[w]},l=0,m=q.length;l<m;l+=1){w=q[l];p[w]=d.map(O);x.push(this.getTextDimensions(t[l]||
w).w);G=p[w];c=0;for(J=G.length;c<J;c+=1)v=G[c],x.push(this.getTextDimensions(v).w);u[w]=e.arrayMax(x);x=[]}if(R){p=this.calculateLineHeight(q,u,t.length?t:q);l=0;for(m=q.length;l<m;l+=1)w=q[l],M.push([a,k,u[w],p,String(t.length?t[l]:w)]);this.setTableHeaderRow(M);this.printHeaderRow(1,!1)}l=0;for(m=d.length;l<m;l+=1)for(t=d[l],p=this.calculateLineHeight(q,u,t),c=0,M=q.length;c<M;c+=1)w=q[c],this.cell(a,k,u[w],p,t[w],l+2,w.align);this.lastCellPos=n;this.table_x=a;this.table_y=k;return this};e.calculateLineHeight=
function(a,f,d){for(var h,k=0,c=0;c<a.length;c++)h=a[c],d[h]=this.splitTextToSize(String(d[h]),f[h]-3),h=this.internal.getLineHeight()*d[h].length+3,h>k&&(k=h);return k};e.setTableHeaderRow=function(a){this.tableHeaderRow=a};e.printHeaderRow=function(h,k){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var d,c,e;this.printingHeaderRow=!0;void 0!==a&&(c=a(this,f),n={x:c[0],y:c[1],w:c[2],h:c[3],ln:-1});this.setFontStyle("bold");var l=[];c=0;for(e=this.tableHeaderRow.length;c<
e;c+=1)this.setFillColor(200,200,200),d=this.tableHeaderRow[c],k&&(this.margins.top=13,d[1]=this.margins&&this.margins.top||0,l.push(d)),d=[].concat(d),this.cell.apply(this,d.concat(h));0<l.length&&this.setTableHeaderRow(l);this.setFontStyle("normal");this.printingHeaderRow=!1}})(p.API);(function(e){function c(){this._isStrokeTransparent=!1;this._strokeOpacity=1;this.fillStyle=this.strokeStyle="#000000";this._isFillTransparent=!1;this._fillOpacity=1;this.font="12pt times";this.textBaseline="alphabetic";
this.textAlign="start";this.lineWidth=1;this.lineJoin="miter";this.lineCap="butt";this._transform=[1,0,0,1,0,0];this.globalCompositeOperation="normal";this.globalAlpha=1;this._clip_path=[];this.ignoreClearRect=!1;this.copy=function(k){this._isStrokeTransparent=k._isStrokeTransparent;this._strokeOpacity=k._strokeOpacity;this.strokeStyle=k.strokeStyle;this._isFillTransparent=k._isFillTransparent;this._fillOpacity=k._fillOpacity;this.fillStyle=k.fillStyle;this.font=k.font;this.lineWidth=k.lineWidth;
this.lineJoin=k.lineJoin;this.lineCap=k.lineCap;this.textBaseline=k.textBaseline;this.textAlign=k.textAlign;this._fontSize=k._fontSize;this._transform=k._transform.slice(0);this.globalCompositeOperation=k.globalCompositeOperation;this.globalAlpha=k.globalAlpha;this._clip_path=k._clip_path.slice(0);this.ignoreClearRect=k.ignoreClearRect}}e.events.push(["initialized",function(){this.context2d.pdf=this;this.context2d.internal.pdf=this;this.context2d.ctx=new c;this.context2d.ctxStack=[];this.context2d.path=
[]}]);e.context2d={pageWrapXEnabled:!1,pageWrapYEnabled:!1,pageWrapX:9999999,pageWrapY:9999999,ctx:new c,f2:function(k){return k.toFixed(2)},fillRect:function(k,a,c,f){this._isFillTransparent()||(k=this._wrapX(k),a=this._wrapY(a),k=this._matrix_map_rect(this.ctx._transform,{x:k,y:a,w:c,h:f}),this.pdf.rect(k.x,k.y,k.w,k.h,"f"))},strokeRect:function(k,a,c,f){this._isStrokeTransparent()||(k=this._wrapX(k),a=this._wrapY(a),k=this._matrix_map_rect(this.ctx._transform,{x:k,y:a,w:c,h:f}),this.pdf.rect(k.x,
k.y,k.w,k.h,"s"))},clearRect:function(k,a,c,f){this.ctx.ignoreClearRect||(k=this._wrapX(k),a=this._wrapY(a),k=this._matrix_map_rect(this.ctx._transform,{x:k,y:a,w:c,h:f}),this.save(),this.setFillStyle("#ffffff"),this.pdf.rect(k.x,k.y,k.w,k.h,"f"),this.restore())},save:function(){this.ctx._fontSize=this.pdf.internal.getFontSize();var k=new c;k.copy(this.ctx);this.ctxStack.push(this.ctx);this.ctx=k},restore:function(){this.ctx=this.ctxStack.pop();this.setFillStyle(this.ctx.fillStyle);this.setStrokeStyle(this.ctx.strokeStyle);
this.setFont(this.ctx.font);this.pdf.setFontSize(this.ctx._fontSize);this.setLineCap(this.ctx.lineCap);this.setLineWidth(this.ctx.lineWidth);this.setLineJoin(this.ctx.lineJoin)},rect:function(c,a,e,f){this.moveTo(c,a);this.lineTo(c+e,a);this.lineTo(c+e,a+f);this.lineTo(c,a+f);this.lineTo(c,a);this.closePath()},beginPath:function(){this.path=[]},closePath:function(){this.path.push({type:"close"})},_getRgba:function(c){var a={};if(this.internal.rxTransparent.test(c))a.r=0,a.g=0,a.b=0,a.a=0;else{var k=
this.internal.rxRgb.exec(c);null!=k?(a.r=parseInt(k[1]),a.g=parseInt(k[2]),a.b=parseInt(k[3]),a.a=1):(k=this.internal.rxRgba.exec(c),null!=k?(a.r=parseInt(k[1]),a.g=parseInt(k[2]),a.b=parseInt(k[3]),a.a=parseFloat(k[4])):(a.a=1,"#"!=c.charAt(0)&&((c=u.colorNameToHex(c))||(c="#000000")),4===c.length?(a.r=c.substring(1,2),a.r+=r,a.g=c.substring(2,3),a.g+=g,a.b=c.substring(3,4),a.b+=b):(a.r=c.substring(1,3),a.g=c.substring(3,5),a.b=c.substring(5,7)),a.r=parseInt(a.r,16),a.g=parseInt(a.g,16),a.b=parseInt(a.b,
16)))}a.style=c;return a},setFillStyle:function(c){var a,k,f,h;this.internal.rxTransparent.test(c)?h=f=k=a=0:(h=this.internal.rxRgb.exec(c),null!=h?(a=parseInt(h[1]),k=parseInt(h[2]),f=parseInt(h[3]),h=1):(h=this.internal.rxRgba.exec(c),null!=h?(a=parseInt(h[1]),k=parseInt(h[2]),f=parseInt(h[3]),h=parseFloat(h[4])):(h=1,"#"!=c.charAt(0)&&((c=u.colorNameToHex(c))||(c="#000000")),4===c.length?(a=c.substring(1,2),a+=a,k=c.substring(2,3),k+=k,f=c.substring(3,4),f+=f):(a=c.substring(1,3),k=c.substring(3,
5),f=c.substring(5,7)),a=parseInt(a,16),k=parseInt(k,16),f=parseInt(f,16))));this.ctx.fillStyle=c;this.ctx._isFillTransparent=0==h;this.ctx._fillOpacity=h;this.pdf.setFillColor(a,k,f,{a:h});this.pdf.setTextColor(a,k,f,{a:h})},setStrokeStyle:function(c){c=this._getRgba(c);this.ctx.strokeStyle=c.style;this.ctx._isStrokeTransparent=0==c.a;this.ctx._strokeOpacity=c.a;0===c.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(c.r,c.g,c.b)},fillText:function(c,a,e,f){if(!this._isFillTransparent()){a=
this._wrapX(a);e=this._wrapY(e);e=this._matrix_map_point(this.ctx._transform,[a,e]);a=e[0];e=e[1];f=57.2958*this._matrix_rotation(this.ctx._transform);if(0<this.ctx._clip_path.length){var h;h=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage();h.push("q");var k=this.path;this.path=this.ctx._clip_path;this.ctx._clip_path=[];this._fill(null,!0);this.ctx._clip_path=this.path;this.path=k}k=1;try{k=this._matrix_decompose(this._getTransform()).scale[0]}catch(d){console.warn(d)}if(.01>
k)this.pdf.text(c,a,this._getBaseline(e),null,f);else{var n=this.pdf.internal.getFontSize();this.pdf.setFontSize(n*k);this.pdf.text(c,a,this._getBaseline(e),null,f);this.pdf.setFontSize(n)}0<this.ctx._clip_path.length&&h.push("Q")}},strokeText:function(c,a,e,f){if(!this._isStrokeTransparent()){a=this._wrapX(a);e=this._wrapY(e);e=this._matrix_map_point(this.ctx._transform,[a,e]);a=e[0];e=e[1];f=57.2958*this._matrix_rotation(this.ctx._transform);if(0<this.ctx._clip_path.length){var h;h=window.outIntercept?
"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage();h.push("q");var k=this.path;this.path=this.ctx._clip_path;this.ctx._clip_path=[];this._fill(null,!0);this.ctx._clip_path=this.path;this.path=k}k=1;try{k=this._matrix_decompose(this._getTransform()).scale[0]}catch(d){console.warn(d)}if(1===k)this.pdf.text(c,a,this._getBaseline(e),{stroke:!0},f);else{var n=this.pdf.internal.getFontSize();this.pdf.setFontSize(n*k);this.pdf.text(c,a,this._getBaseline(e),
{stroke:!0},f);this.pdf.setFontSize(n)}0<this.ctx._clip_path.length&&h.push("Q")}},setFont:function(c){this.ctx.font=c;var a=/\s*(\w+)\s+(\w+)\s+(\w+)\s+([\d\.]+)(px|pt|em)\s+(.*)?/,a=a.exec(c);if(null!=a){var k=a[1];c=a[3];var f=a[4],h=a[5],a=a[6],f="px"===h?Math.floor(parseFloat(f)):"em"===h?Math.floor(parseFloat(f)*this.pdf.getFontSize()):Math.floor(parseFloat(f));this.pdf.setFontSize(f);"bold"===c||"700"===c?this.pdf.setFontStyle("bold"):"italic"===k?this.pdf.setFontStyle("italic"):this.pdf.setFontStyle("normal");
f=a.toLowerCase().split(/\s*,\s*/);-1!=f.indexOf("arial")?f="Arial":-1!=f.indexOf("verdana")?f="Verdana":-1!=f.indexOf("helvetica")?f="Helvetica":-1!=f.indexOf("sans-serif")?f="sans-serif":-1!=f.indexOf("fixed")?f="Fixed":-1!=f.indexOf("monospace")?f="Monospace":-1!=f.indexOf("terminal")?f="Terminal":-1!=f.indexOf("courier")?f="Courier":-1!=f.indexOf("times")?f="Times":-1!=f.indexOf("cursive")?f="Cursive":-1!=f.indexOf("fantasy")?f="Fantasy":(f.indexOf("serif"),f="Serif");this.pdf.setFont(f,"bold"===
c?"bold":"normal")}else a=/\s*(\d+)(pt|px|em)\s+([\w "]+)\s*([\w "]+)?/,a=a.exec(c),null!=a&&(k=a[1],c=a[3],(a=a[4])||(a="normal"),k="em"===h?Math.floor(parseFloat(f)*this.pdf.getFontSize()):Math.floor(parseFloat(k)),this.pdf.setFontSize(k),this.pdf.setFont(c,a))},setTextBaseline:function(c){this.ctx.textBaseline=c},getTextBaseline:function(){return this.ctx.textBaseline},setTextAlign:function(c){this.ctx.textAlign=c},getTextAlign:function(){return this.ctx.textAlign},setLineWidth:function(c){this.ctx.lineWidth=
c;this.pdf.setLineWidth(c)},setLineCap:function(c){this.ctx.lineCap=c;this.pdf.setLineCap(c)},setLineJoin:function(c){this.ctx.lineJoin=c;this.pdf.setLineJoin(c)},moveTo:function(c,a){c=this._wrapX(c);a=this._wrapY(a);a=this._matrix_map_point(this.ctx._transform,[c,a]);c=a[0];a=a[1];this.path.push({type:"mt",x:c,y:a})},_wrapX:function(c){return this.pageWrapXEnabled?c%this.pageWrapX:c},_wrapY:function(c){return this.pageWrapYEnabled?(this._gotoPage(this._page(c)),(c-this.lastBreak)%this.pageWrapY):
c},transform:function(c,a,e,f,h,l){this.ctx._transform=[c,a,e,f,h,l]},setTransform:function(c,a,e,f,h,l){this.ctx._transform=[c,a,e,f,h,l]},_getTransform:function(){return this.ctx._transform},lastBreak:0,pageBreaks:[],_page:function(c){if(this.pageWrapYEnabled){for(var a=this.lastBreak=0,k=0,f=0;f<this.pageBreaks.length;f++)if(c>=this.pageBreaks[f]){a++;0===this.lastBreak&&k++;var h=this.pageBreaks[f]-this.lastBreak;this.lastBreak=this.pageBreaks[f];h=Math.floor(h/this.pageWrapY);k+=h}0===this.lastBreak&&
(h=Math.floor(c/this.pageWrapY)+1,k+=h);return k+a}return this.pdf.internal.getCurrentPageInfo().pageNumber},_gotoPage:function(c){},lineTo:function(c,a){c=this._wrapX(c);a=this._wrapY(a);a=this._matrix_map_point(this.ctx._transform,[c,a]);c=a[0];a=a[1];this.path.push({type:"lt",x:c,y:a})},bezierCurveTo:function(c,a,e,f,h,l){c=this._wrapX(c);a=this._wrapY(a);e=this._wrapX(e);f=this._wrapY(f);h=this._wrapX(h);l=this._wrapY(l);var k;k=this._matrix_map_point(this.ctx._transform,[h,l]);h=k[0];l=k[1];
k=this._matrix_map_point(this.ctx._transform,[c,a]);c=k[0];a=k[1];k=this._matrix_map_point(this.ctx._transform,[e,f]);e=k[0];f=k[1];this.path.push({type:"bct",x1:c,y1:a,x2:e,y2:f,x:h,y:l})},quadraticCurveTo:function(c,a,e,f){c=this._wrapX(c);a=this._wrapY(a);e=this._wrapX(e);f=this._wrapY(f);var h;h=this._matrix_map_point(this.ctx._transform,[e,f]);e=h[0];f=h[1];h=this._matrix_map_point(this.ctx._transform,[c,a]);c=h[0];a=h[1];this.path.push({type:"qct",x1:c,y1:a,x:e,y:f})},arc:function(c,a,e,f,h,
l){c=this._wrapX(c);a=this._wrapY(a);if(!this._matrix_is_identity(this.ctx._transform)){a=this._matrix_map_point(this.ctx._transform,[c,a]);c=a[0];a=a[1];var k=this._matrix_map_point(this.ctx._transform,[0,0]);e=this._matrix_map_point(this.ctx._transform,[0,e]);e=Math.sqrt(Math.pow(e[0]-k[0],2)+Math.pow(e[1]-k[1],2))}this.path.push({type:"arc",x:c,y:a,radius:e,startAngle:f,endAngle:h,anticlockwise:l})},drawImage:function(c,a,e,f,h,l,t,d,q){void 0!==l&&(a=l,e=t,f=d,h=q);a=this._wrapX(a);e=this._wrapY(e);
a=this._matrix_map_rect(this.ctx._transform,{x:a,y:e,w:f,h:h});this._matrix_map_rect(this.ctx._transform,{x:l,y:t,w:d,h:q});l=/data:image\/(\w+).*/i.exec(c);this.pdf.addImage(c,null!=l?l[1]:"png",a.x,a.y,a.w,a.h)},_matrix_multiply:function(c,a){var e=a[0],f=a[1],h=a[2],k=a[3],l=a[4];a=a[5];var d=e*c[0]+f*c[2],q=h*c[0]+k*c[2],m=l*c[0]+a*c[2]+c[4],f=e*c[1]+f*c[3],k=h*c[1]+k*c[3];a=l*c[1]+a*c[3]+c[5];return[d,f,q,k,m,a]},_matrix_rotation:function(c){return Math.atan2(c[2],c[0])},_matrix_decompose:function(c){var a=
c[0],e=c[1],f=c[2],h=c[3],k=Math.sqrt(a*a+e*e),a=a/k,e=e/k,l=a*f+e*h,f=f-a*l,h=h-e*l,d=Math.sqrt(f*f+h*h),l=l/d;h/d*a<f/d*e&&(a=-a,e=-e,l=-l,k=-k);return{scale:[k,0,0,d,0,0],translate:[1,0,0,1,c[4],c[5]],rotate:[a,e,-e,a,0,0],skew:[1,0,l,1,0,0]}},_matrix_map_point:function(c,a){var e=a[0];a=a[1];return[e*c[0]+a*c[2]+c[4],e*c[1]+a*c[3]+c[5]]},_matrix_map_point_obj:function(c,a){c=this._matrix_map_point(c,[a.x,a.y]);return{x:c[0],y:c[1]}},_matrix_map_rect:function(c,a){var e=this._matrix_map_point(c,
[a.x,a.y]);c=this._matrix_map_point(c,[a.x+a.w,a.y+a.h]);return{x:e[0],y:e[1],w:c[0]-e[0],h:c[1]-e[1]}},_matrix_is_identity:function(c){return 1!=c[0]||0!=c[1]||0!=c[2]||1!=c[3]||0!=c[4]||0!=c[5]?!1:!0},rotate:function(c){this.ctx._transform=this._matrix_multiply(this.ctx._transform,[Math.cos(c),Math.sin(c),-Math.sin(c),Math.cos(c),0,0])},scale:function(c,a){this.ctx._transform=this._matrix_multiply(this.ctx._transform,[c,0,0,a,0,0])},translate:function(c,a){this.ctx._transform=this._matrix_multiply(this.ctx._transform,
[1,0,0,1,c,a])},stroke:function(){if(0<this.ctx._clip_path.length){var c;c=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage();c.push("q");var a=this.path;this.path=this.ctx._clip_path;this.ctx._clip_path=[];this._stroke(!0);this.ctx._clip_path=this.path;this.path=a;this._stroke(!1);c.push("Q")}else this._stroke(!1)},_stroke:function(c){if(c||!this._isStrokeTransparent()){for(var a=[],e=this.path,f=0;f<e.length;f++){var h=
e[f];switch(h.type){case "mt":a.push({start:h,deltas:[],abs:[]});break;case "lt":var k=[h.x-e[f-1].x,h.y-e[f-1].y];a[a.length-1].deltas.push(k);a[a.length-1].abs.push(h);break;case "bct":k=[h.x1-e[f-1].x,h.y1-e[f-1].y,h.x2-e[f-1].x,h.y2-e[f-1].y,h.x-e[f-1].x,h.y-e[f-1].y];a[a.length-1].deltas.push(k);break;case "qct":k=[e[f-1].x+2/3*(h.x1-e[f-1].x)-e[f-1].x,e[f-1].y+2/3*(h.y1-e[f-1].y)-e[f-1].y,h.x+2/3*(h.x1-h.x)-e[f-1].x,h.y+2/3*(h.y1-h.y)-e[f-1].y,h.x-e[f-1].x,h.y-e[f-1].y];a[a.length-1].deltas.push(k);
break;case "arc":0==a.length&&a.push({start:{x:0,y:0},deltas:[],abs:[]}),a[a.length-1].arc=!0,a[a.length-1].abs.push(h)}}for(f=0;f<a.length;f++)if(e=f==a.length-1?"s":null,a[f].arc)for(h=a[f].abs,k=0;k<h.length;k++){var l=h[k],d=l.x,q=l.y;this.internal.arc2(this,d,q,l.radius,360*l.startAngle/(2*Math.PI),360*l.endAngle/(2*Math.PI),l.anticlockwise,e,c)}else d=a[f].start.x,q=a[f].start.y,c?(this.pdf.lines(a[f].deltas,d,q,null,null),this.pdf.clip_fixed()):this.pdf.lines(a[f].deltas,d,q,null,e)}},_isFillTransparent:function(){return this.ctx._isFillTransparent||
0==this.globalAlpha},_isStrokeTransparent:function(){return this.ctx._isStrokeTransparent||0==this.globalAlpha},fill:function(c){if(0<this.ctx._clip_path.length){var a;a=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage();a.push("q");var e=this.path;this.path=this.ctx._clip_path;this.ctx._clip_path=[];this._fill(c,!0);this.ctx._clip_path=this.path;this.path=e;this._fill(c,!1);a.push("Q")}else this._fill(c,!1)},_fill:function(c,
a){if(!this._isFillTransparent()){var e="function"===typeof this.pdf.internal.newObject2,f;f=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage();var h=[],k=window.outIntercept;if(e)switch(this.ctx.globalCompositeOperation){case "normal":case "source-over":break;case "destination-in":case "destination-out":var t=this.pdf.internal.newStreamObject(),d=this.pdf.internal.newObject2();d.push("\x3c\x3c/Type /ExtGState");d.push("/SMask \x3c\x3c/S /Alpha /G "+
t.objId+" 0 R\x3e\x3e");d.push("\x3e\x3e");var q="MASK"+d.objId;this.pdf.internal.addGraphicsState(q,d.objId);q="/"+q+" gs";f.splice(0,0,"q");f.splice(1,0,q);f.push("Q");window.outIntercept=t;break;default:(f="/"+this.pdf.internal.blendModeMap[this.ctx.globalCompositeOperation.toUpperCase()])&&this.pdf.internal.out(f+" gs")}f=this.ctx.globalAlpha;1>this.ctx._fillOpacity&&(f=this.ctx._fillOpacity);e&&(e=this.pdf.internal.newObject2(),e.push("\x3c\x3c/Type /ExtGState"),e.push("/CA "+f),e.push("/ca "+
f),e.push("\x3e\x3e"),q="GS_O_"+e.objId,this.pdf.internal.addGraphicsState(q,e.objId),this.pdf.internal.out("/"+q+" gs"));f=this.path;for(e=0;e<f.length;e++)switch(t=f[e],t.type){case "mt":h.push({start:t,deltas:[],abs:[]});break;case "lt":q=[t.x-f[e-1].x,t.y-f[e-1].y];h[h.length-1].deltas.push(q);h[h.length-1].abs.push(t);break;case "bct":q=[t.x1-f[e-1].x,t.y1-f[e-1].y,t.x2-f[e-1].x,t.y2-f[e-1].y,t.x-f[e-1].x,t.y-f[e-1].y];h[h.length-1].deltas.push(q);break;case "qct":q=[f[e-1].x+2/3*(t.x1-f[e-1].x)-
f[e-1].x,f[e-1].y+2/3*(t.y1-f[e-1].y)-f[e-1].y,t.x+2/3*(t.x1-t.x)-f[e-1].x,t.y+2/3*(t.y1-t.y)-f[e-1].y,t.x-f[e-1].x,t.y-f[e-1].y];h[h.length-1].deltas.push(q);break;case "arc":0===h.length&&h.push({deltas:[],abs:[]});h[h.length-1].arc=!0;h[h.length-1].abs.push(t);break;case "close":h.push({close:!0})}for(e=0;e<h.length;e++)if(e==h.length-1?(q="f","evenodd"===c&&(q+="*")):q=null,h[e].close)this.pdf.internal.out("h"),this.pdf.internal.out("f");else if(h[e].arc)for(h[e].start&&this.internal.move2(this,
h[e].start.x,h[e].start.y),q=h[e].abs,d=0;d<q.length;d++){var m=q[d];if("undefined"!==typeof m.startAngle){var E=360*m.startAngle/(2*Math.PI),L=360*m.endAngle/(2*Math.PI);f=m.x;t=m.y;0===d&&this.internal.move2(this,f,t);this.internal.arc2(this,f,t,m.radius,E,L,m.anticlockwise,null,a);d===q.length-1&&h[e].start&&(f=h[e].start.x,t=h[e].start.y,this.internal.line2(l,f,t))}else this.internal.line2(l,m.x,m.y)}else f=h[e].start.x,t=h[e].start.y,a?(this.pdf.lines(h[e].deltas,f,t,null,null),this.pdf.clip_fixed()):
this.pdf.lines(h[e].deltas,f,t,null,q);window.outIntercept=k}},pushMask:function(){if("function"!==typeof this.pdf.internal.newObject2)console.log("jsPDF v2 not enabled");else{var c=this.pdf.internal.newStreamObject(),a=this.pdf.internal.newObject2();a.push("\x3c\x3c/Type /ExtGState");a.push("/SMask \x3c\x3c/S /Alpha /G "+c.objId+" 0 R\x3e\x3e");a.push("\x3e\x3e");c="MASK"+a.objId;this.pdf.internal.addGraphicsState(c,a.objId);this.pdf.internal.out("/"+c+" gs")}},clip:function(){if(0<this.ctx._clip_path.length)for(var c=
0;c<this.path.length;c++)this.ctx._clip_path.push(this.path[c]);else this.ctx._clip_path=this.path;this.path=[]},measureText:function(c){var a=this.pdf;return{getWidth:function(){var e=a.internal.getFontSize();return a.getStringUnitWidth(c)*e/a.internal.scaleFactor*1.3333}}},_getBaseline:function(c){var a=parseInt(this.pdf.internal.getFontSize()),e=.25*a;switch(this.ctx.textBaseline){case "bottom":return c-e;case "top":return c+a;case "hanging":return c+a-e;case "middle":return c+a/2-e;case "ideographic":return c;
default:return c}}};var l=e.context2d;Object.defineProperty(l,"fillStyle",{set:function(c){this.setFillStyle(c)},get:function(){return this.ctx.fillStyle}});Object.defineProperty(l,"strokeStyle",{set:function(c){this.setStrokeStyle(c)},get:function(){return this.ctx.strokeStyle}});Object.defineProperty(l,"lineWidth",{set:function(c){this.setLineWidth(c)},get:function(){return this.ctx.lineWidth}});Object.defineProperty(l,"lineCap",{set:function(c){this.setLineCap(c)},get:function(){return this.ctx.lineCap}});
Object.defineProperty(l,"lineJoin",{set:function(c){this.setLineJoin(c)},get:function(){return this.ctx.lineJoin}});Object.defineProperty(l,"miterLimit",{set:function(c){this.ctx.miterLimit=c},get:function(){return this.ctx.miterLimit}});Object.defineProperty(l,"textBaseline",{set:function(c){this.setTextBaseline(c)},get:function(){return this.getTextBaseline()}});Object.defineProperty(l,"textAlign",{set:function(c){this.setTextAlign(c)},get:function(){return this.getTextAlign()}});Object.defineProperty(l,
"font",{set:function(c){this.setFont(c)},get:function(){return this.ctx.font}});Object.defineProperty(l,"globalCompositeOperation",{set:function(c){this.ctx.globalCompositeOperation=c},get:function(){return this.ctx.globalCompositeOperation}});Object.defineProperty(l,"globalAlpha",{set:function(c){this.ctx.globalAlpha=c},get:function(){return this.ctx.globalAlpha}});Object.defineProperty(l,"ignoreClearRect",{set:function(c){this.ctx.ignoreClearRect=c},get:function(){return this.ctx.ignoreClearRect}});
l.internal={};l.internal.rxRgb=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/;l.internal.rxRgba=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)/;l.internal.rxTransparent=/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/;l.internal.arc=function(c,a,e,f,h,l,t,d){var k=this.pdf.internal.scaleFactor,w=this.pdf.internal.pageSize.getHeight(),n=this.pdf.internal.f2;f=this.createArc(f,Math.PI/180*h,Math.PI/180*l,t);for(h=0;h<f.length;h++)l=f[h],0===h?this.pdf.internal.out([n((l.x1+
a)*k),n((w-(l.y1+e))*k),"m",n((l.x2+a)*k),n((w-(l.y2+e))*k),n((l.x3+a)*k),n((w-(l.y3+e))*k),n((l.x4+a)*k),n((w-(l.y4+e))*k),"c"].join(" ")):this.pdf.internal.out([n((l.x2+a)*k),n((w-(l.y2+e))*k),n((l.x3+a)*k),n((w-(l.y3+e))*k),n((l.x4+a)*k),n((w-(l.y4+e))*k),"c"].join(" ")),c._lastPoint={x:a,y:e};null!==d&&this.pdf.internal.out(this.pdf.internal.getStyle(d))};l.internal.arc2=function(c,a,e,f,h,l,t,d,q){q?(this.arc(c,a,e,f,h,l,t,null),this.pdf.clip_fixed()):this.arc(c,a,e,f,h,l,t,d)};l.internal.move2=
function(c,a,e){var f=this.pdf.internal.scaleFactor,h=this.pdf.internal.pageSize.getHeight(),k=this.pdf.internal.f2;this.pdf.internal.out([k(a*f),k((h-e)*f),"m"].join(" "));c._lastPoint={x:a,y:e}};l.internal.line2=function(c,a,e){var f=this.pdf.internal.scaleFactor,h=this.pdf.internal.pageSize.getHeight(),k=this.pdf.internal.f2;a={x:a,y:e};this.pdf.internal.out([k(a.x*f),k((h-a.y)*f),"l"].join(" "));c._lastPoint=a};l.internal.createArc=function(c,a,e,f){var h=2*Math.PI,k=Math.PI/2,l=a;if(l<h||l>h)l%=
h;for(0>l&&(l=h+l);a>e;)a-=h;a=Math.abs(e-a);a<h&&f&&(a=h-a);h=[];for(f=f?-1:1;1E-5<a;)e=l+f*Math.min(a,k),h.push(this.createSmallArc(c,l,e)),a-=Math.abs(e-l),l=e;return h};l.internal.getCurrentPage=function(){return this.pdf.internal.pages[this.pdf.internal.getCurrentPageInfo().pageNumber]};l.internal.createSmallArc=function(c,a,e){var f=(e-a)/2,h=c*Math.cos(f),k=c*Math.sin(f),l=-k,d=h*h+l*l,q=d+h*h+l*k,d=4/3*(Math.sqrt(2*d*q)-q)/(h*k-l*h),k=h-d*l,h=l+d*h,l=-h,d=f+a,f=Math.cos(d),d=Math.sin(d);return{x1:c*
Math.cos(a),y1:c*Math.sin(a),x2:k*f-h*d,y2:k*d+h*f,x3:k*f-l*d,y3:k*d+l*f,x4:c*Math.cos(e),y4:c*Math.sin(e)}};return this})(p.API);(function(e){var c,l,k,a,n,f,h,w,t,d,q,m,E,L,F,p,aa,x,B,y;c=function(){function a(){}return function(d){a.prototype=d;return new a}}();d=function(a){var d,c,f,h,e;c=0;f=a.length;d=void 0;for(e=h=!1;!h&&c!==f;)(d=a[c]=a[c].trimLeft())&&(h=!0),c++;for(c=f-1;f&&!e&&-1!==c;)(d=a[c]=a[c].trimRight())&&(e=!0),c--;h=/\s+$/g;e=!0;for(c=0;c!==f;)"\u2028"!=a[c]&&(d=a[c].replace(/\s+/g,
" "),e&&(d=d.trimLeft()),d&&(e=h.test(d)),a[c]=d),c++;return a};q=function(a,d,c,f){this.pdf=a;this.x=d;this.y=c;this.settings=f;this.watchFunctions=[];this.init();return this};m=function(a){var d,c;d=void 0;c=a.split(",");for(a=c.shift();!d&&a;)d=k[a.trim().toLowerCase()],a=c.shift();return d};E=function(a){a="auto"===a?"0px":a;-1<a.indexOf("em")&&!isNaN(Number(a.replace("em","")))&&(a=18.719*Number(a.replace("em",""))+"px");-1<a.indexOf("pt")&&!isNaN(Number(a.replace("pt","")))&&(a=1.333*Number(a.replace("pt",
""))+"px");var d;if(d=L[a])return d;d={"xx-small":9,"x-small":11,small:13,medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[{css_line_height_string:a}];if(void 0!==d||(d=parseFloat(a)))return L[a]=d/16;d=a.match(/([\d\.]+)(px)/);return 3===d.length?L[a]=parseFloat(d[1])/16:L[a]=1};t=function(d){var c,e;e=function(a){var d;d=function(a){return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(a,null):a.currentStyle?a.currentStyle:a.style}(a);return function(a){a=
a.replace(/-\D/g,function(a){return a.charAt(1).toUpperCase()});return d[a]}}(d);d={};c=void 0;d["font-family"]=m(e("font-family"))||"times";d["font-style"]=a[e("font-style")]||"normal";d["text-align"]=n[e("text-align")]||"left";c=f[e("font-weight")]||"normal";"bold"===c&&(d["font-style"]="normal"===d["font-style"]?c:c+d["font-style"]);d["font-size"]=E(e("font-size"))||1;d["line-height"]=E(e("line-height"))||1;d.display="inline"===e("display")?"inline":"block";c="block"===d.display;d["margin-top"]=
c&&E(e("margin-top"))||0;d["margin-bottom"]=c&&E(e("margin-bottom"))||0;d["padding-top"]=c&&E(e("padding-top"))||0;d["padding-bottom"]=c&&E(e("padding-bottom"))||0;d["margin-left"]=c&&E(e("margin-left"))||0;d["margin-right"]=c&&E(e("margin-right"))||0;d["padding-left"]=c&&E(e("padding-left"))||0;d["padding-right"]=c&&E(e("padding-right"))||0;d["page-break-before"]=e("page-break-before")||"auto";d["float"]=h[e("cssFloat")]||"none";d.clear=w[e("clear")]||"none";d.color=e("color");return d};F=function(a,
d,c){var f,h,e,k;e=!1;k=h=void 0;if(f=c["#"+a.id])if("function"===typeof f)e=f(a,d);else for(h=0,k=f.length;!e&&h!==k;)e=f[h](a,d),h++;f=c[a.nodeName];if(!e&&f)if("function"===typeof f)e=f(a,d);else for(h=0,k=f.length;!e&&h!==k;)e=f[h](a,d),h++;return e};y=function(a,d){var c,f,h,e,k,l;c=[];f=[];h=0;l=a.rows[0].cells.length;for(e=a.clientWidth;h<l;)k=a.rows[0].cells[h],f[h]={name:k.textContent.toLowerCase().replace(/\s+/g,""),prompt:k.textContent.replace(/\r?\n/g,""),width:k.clientWidth/e*d.pdf.internal.pageSize.getWidth()},
h++;for(h=1;h<a.rows.length;){k=a.rows[h];e={};for(d=0;d<k.cells.length;)e[f[d].name]=k.cells[d].textContent.replace(/\r?\n/g,""),d++;c.push(e);h++}return{rows:c,headers:f}};var G={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},fa=1;l=function(a,d,f){var h,e,k,q,n,w,m;e=a.childNodes;h=void 0;a=t(a);if(q="block"===a.display)d.setBlockBoundary(),d.setBlockStyle(a);k=0;for(n=e.length;k<n;){h=e[k];if("object"===("undefined"===typeof h?"undefined":v(h))){d.executeWatchFunctions(h);if(1===h.nodeType&&
"HEADER"===h.nodeName){var E=h,H=d.pdf.margins_doc.top;d.pdf.internal.events.subscribe("addPage",function(a){d.y=H;l(E,d,f);d.pdf.margins_doc.top=d.y+10;d.y+=10},!1)}if(8===h.nodeType&&"#comment"===h.nodeName)~h.textContent.indexOf("ADD_PAGE")&&(d.pdf.addPage(),d.y=d.pdf.margins_doc.top);else if(1!==h.nodeType||G[h.nodeName])if(3===h.nodeType){if((w=h.nodeValue)&&"LI"===h.parentNode.nodeName)if("OL"===h.parentNode.parentNode.nodeName)w=fa++ +". "+w;else{m=a["font-size"];var D=(3-.75*m)*d.pdf.internal.scaleFactor,
U=.75*m*d.pdf.internal.scaleFactor,J=1.74*m/d.pdf.internal.scaleFactor;m=function(a,d){this.pdf.circle(a+D,d+U,J,"FD")}}h.ownerDocument.body.compareDocumentPosition(h)&16&&d.addText(w,a)}else"string"===typeof h&&d.addText(h,a);else{var L;"IMG"===h.nodeName&&(L=h.getAttribute("src"),L=p[d.pdf.sHashCode(L)||L]);if(L){d.pdf.internal.pageSize.getHeight()-d.pdf.margins_doc.bottom<d.y+h.height&&d.y>d.pdf.margins_doc.top&&(d.pdf.addPage(),d.y=d.pdf.margins_doc.top,d.executeWatchFunctions(h));w=t(h);var ba=
d.x,u=12/d.pdf.internal.scaleFactor,M=(w["margin-left"]+w["padding-left"])*u,O=(w["margin-right"]+w["padding-right"])*u,C=(w["margin-top"]+w["padding-top"])*u,u=(w["margin-bottom"]+w["padding-bottom"])*u,ba=void 0!==w["float"]&&"right"===w["float"]?ba+(d.settings.width-h.width-O):ba+M;d.pdf.addImage(L,ba,d.y+C,h.width,h.height);L=void 0;"right"===w["float"]||"left"===w["float"]?(d.watchFunctions.push(function(a,c,f,h){return d.y>=c?(d.x+=a,d.settings.width+=f,!0):h&&1===h.nodeType&&!G[h.nodeName]&&
d.x+h.width>d.pdf.margins_doc.left+d.pdf.margins_doc.width?(d.x+=a,d.y=c,d.settings.width+=f,!0):!1}.bind(this,"left"===w["float"]?-h.width-M-O:0,d.y+h.height+C+u,h.width)),d.watchFunctions.push(function(a,c,f){return d.y<a&&c===d.pdf.internal.getNumberOfPages()?1===f.nodeType&&"both"===t(f).clear?(d.y=a,!0):!1:!0}.bind(this,d.y+h.height,d.pdf.internal.getNumberOfPages())),d.settings.width-=h.width+M+O,"left"===w["float"]&&(d.x+=h.width+M+O)):d.y+=h.height+C+u}else"TABLE"===h.nodeName?(w=y(h,d),d.y+=
10,d.pdf.table(d.x,d.y,w.rows,w.headers,{autoSize:!1,printHeaders:f.printHeaders,margins:d.pdf.margins_doc,css:t(h)}),d.y=d.pdf.lastCellPos.y+d.pdf.lastCellPos.h+20):"OL"===h.nodeName||"UL"===h.nodeName?(fa=1,F(h,d,f)||l(h,d,f),d.y+=10):"LI"===h.nodeName?(w=d.x,d.x+=20/d.pdf.internal.scaleFactor,d.y+=3,F(h,d,f)||l(h,d,f),d.x=w):"BR"===h.nodeName?(d.y+=a["font-size"]*d.pdf.internal.scaleFactor,d.addText("\u2028",c(a))):F(h,d,f)||l(h,d,f)}}k++}f.outY=d.y;if(q)return d.setBlockBoundary(m)};p={};aa=function(a,
d,c,f){function h(){d.pdf.internal.events.publish("imagesLoaded");f(k)}function e(a,c,f){if(a){var e=new Image;k=++l;e.crossOrigin="";e.onerror=e.onload=function(){if(e.complete&&(0===e.src.indexOf("data:image/")&&(e.width=c||e.width||0,e.height=f||e.height||0),e.width+e.height)){var k=d.pdf.sHashCode(a)||a;p[k]=p[k]||e}--l||h()};e.src=a}}a=a.getElementsByTagName("img");c=a.length;for(var k,l=0;c--;)e(a[c].getAttribute("src"),a[c].width,a[c].height);return l||h()};x=function(a,d,c){var f=a.getElementsByTagName("footer");
if(0<f.length){f=f[0];a=d.pdf.internal.write;var h=d.y;d.pdf.internal.write=function(){};l(f,d,c);var e=Math.ceil(d.y-h)+5;d.y=h;d.pdf.internal.write=a;d.pdf.margins_doc.bottom+=e;a=function(a){a=void 0!==a?a.pageNumber:1;var h=d.y;d.y=d.pdf.internal.pageSize.getHeight()-d.pdf.margins_doc.bottom;d.pdf.margins_doc.bottom-=e;for(var k=f.getElementsByTagName("span"),q=0;q<k.length;++q)-1<(" "+k[q].className+" ").replace(/[\n\t]/g," ").indexOf(" pageCounter ")&&(k[q].innerHTML=a),-1<(" "+k[q].className+
" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&(k[q].innerHTML="###jsPDFVarTotalPages###");l(f,d,c);d.pdf.margins_doc.bottom+=e;d.y=h};for(var h=f.getElementsByTagName("span"),k=0;k<h.length;++k)-1<(" "+h[k].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&d.pdf.internal.events.subscribe("htmlRenderingFinished",d.pdf.putTotalPages.bind(d.pdf,"###jsPDFVarTotalPages###"),!0);d.pdf.internal.events.subscribe("addPage",a,!1);a();G.FOOTER=1}};B=function(a,d,c,f,h,e){if(!d)return!1;"string"===
typeof d||d.parentNode||(d=""+d.innerHTML);"string"===typeof d&&(d=function(a){var d,c;c="jsPDFhtmlText"+Date.now().toString()+(1E3*Math.random()).toFixed(0);d=document.createElement("div");d.style.cssText="position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;";d.innerHTML='\x3ciframe style\x3d"height:1px;width:1px" name\x3d"'+
c+'" /\x3e';document.body.appendChild(d);d=window.frames[c];d.document.open();d.document.writeln(a);d.document.close();return d.document.body}(d.replace(/<\/?script[^>]*?>/gi,"")));var k=new q(a,c,f,h),t;aa.call(this,d,k,h.elementHandlers,function(a){x(d,k,h.elementHandlers);l(d,k,h.elementHandlers);k.pdf.internal.events.publish("htmlRenderingFinished");t=k.dispose();"function"===typeof e?e(t):a&&console.error("jsPDF Warning: rendering issues? provide a callback to fromHTML!")});return t||{x:k.x,
y:k.y}};q.prototype.init=function(){this.paragraph={text:[],style:[]};return this.pdf.internal.write("q")};q.prototype.dispose=function(){this.pdf.internal.write("Q");return{x:this.x,y:this.y,ready:!0}};q.prototype.executeWatchFunctions=function(a){var d=!1,c=[];if(0<this.watchFunctions.length){for(var f=0;f<this.watchFunctions.length;++f)!0===this.watchFunctions[f](a)?d=!0:c.push(this.watchFunctions[f]);this.watchFunctions=c}return d};q.prototype.splitFragmentsIntoLines=function(a,d){var f,h,e,k,
l,q,t,w,n,H,D;t=this.pdf.internal.scaleFactor;k={};f=e=h=D=l=e=q=h=void 0;w=[];n=[w];f=0;for(H=this.settings.width;a.length;)if(l=a.shift(),D=d.shift(),l)if(h=D["font-family"],q=D["font-style"],e=k[h+q],e||(e=this.pdf.internal.getFont(h,q).metadata.Unicode,k[h+q]=e),h={widths:e.widths,kerning:e.kerning,fontSize:12*D["font-size"],textIndent:f},e=this.pdf.getStringUnitWidth(l,h)*h.fontSize/t,"\u2028"==l)w=[],n.push(w);else if(f+e>H){f=this.pdf.splitTextToSize(l,H,h);for(w.push([f.shift(),D]);f.length;)w=
[[f.shift(),D]],n.push(w);f=this.pdf.getStringUnitWidth(w[0][0],h)*h.fontSize/t}else w.push([l,D]),f+=e;if(void 0!==D["text-align"]&&("center"===D["text-align"]||"right"===D["text-align"]||"justify"===D["text-align"]))for(a=0;a<n.length;++a)d=this.pdf.getStringUnitWidth(n[a][0][0],h)*h.fontSize/t,0<a&&(n[a][0][1]=c(n[a][0][1])),d=H-d,"right"===D["text-align"]?n[a][0][1]["margin-left"]=d:"center"===D["text-align"]?n[a][0][1]["margin-left"]=d/2:"justify"===D["text-align"]&&(k=n[a][0][0].split(" ").length-
1,n[a][0][1]["word-spacing"]=d/k,a===n.length-1&&(n[a][0][1]["word-spacing"]=0));return n};q.prototype.RenderTextFragment=function(a,d){var c;c=0;this.pdf.internal.pageSize.getHeight()-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()&&(this.pdf.internal.write("ET","Q"),this.pdf.addPage(),this.y=this.pdf.margins_doc.top,this.pdf.internal.write("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),d.color,"Td"),c=Math.max(c,
d["line-height"],d["font-size"]),this.pdf.internal.write(0,(-12*c).toFixed(2),"Td"));c=this.pdf.internal.getFont(d["font-family"],d["font-style"]);var f=this.getPdfColor(d.color);f!==this.lastTextColor&&(this.pdf.internal.write(f),this.lastTextColor=f);void 0!==d["word-spacing"]&&0<d["word-spacing"]&&this.pdf.internal.write(d["word-spacing"].toFixed(2),"Tw");this.pdf.internal.write("/"+c.id,(12*d["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(a)+") Tj");void 0!==d["word-spacing"]&&
this.pdf.internal.write(0,"Tw")};q.prototype.getPdfColor=function(a){var d,c,f=/rgb\s*\(\s*(\d+),\s*(\d+),\s*(\d+\s*)\)/.exec(a);null!=f?(d=parseInt(f[1]),c=parseInt(f[2]),a=parseInt(f[3])):("#"!=a.charAt(0)&&((a=u.colorNameToHex(a))||(a="#000000")),d=a.substring(1,3),d=parseInt(d,16),c=a.substring(3,5),c=parseInt(c,16),a=a.substring(5,7),a=parseInt(a,16));"string"===typeof d&&/^#[0-9A-Fa-f]{6}$/.test(d)&&(a=parseInt(d.substr(1),16),d=a>>16&255,c=a>>8&255,a&=255);f=this.f3;return 0===d&&0===c&&0===
a||"undefined"===typeof c?f(d/255)+" g":[f(d/255),f(c/255),f(a/255),"rg"].join(" ")};q.prototype.f3=function(a){return a.toFixed(3)};q.prototype.renderParagraph=function(a){var c,f,h,e,k,l,q,t,w,n;f=d(this.paragraph.text);l=this.paragraph.style;c=this.paragraph.blockstyle;this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:c};if(f.join("").trim()){l=this.splitFragmentsIntoLines(f,l);q=k=void 0;f=12/this.pdf.internal.scaleFactor;this.priorMarginBottom=this.priorMarginBottom||0;k=(Math.max((c["margin-top"]||
0)-this.priorMarginBottom,0)+(c["padding-top"]||0))*f;w=((c["margin-bottom"]||0)+(c["padding-bottom"]||0))*f;this.priorMarginBottom=c["margin-bottom"]||0;"always"===c["page-break-before"]&&(this.pdf.addPage(),this.y=0,k=((c["margin-top"]||0)+(c["padding-top"]||0))*f);t=this.pdf.internal.write;e=h=void 0;this.y+=k;t("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");for(var H=0;l.length;){k=l.shift();h=q=0;for(e=k.length;h!==e;)k[h][0].trim()&&
(q=Math.max(q,k[h][1]["line-height"],k[h][1]["font-size"]),n=7*k[h][1]["font-size"]),h++;e=h=0;void 0!==k[0][1]["margin-left"]&&0<k[0][1]["margin-left"]&&(e=this.pdf.internal.getCoordinateString(k[0][1]["margin-left"]),h=e-H,H=e);t(h+Math.max(c["margin-left"]||0,0)*f,(-12*q).toFixed(2),"Td");h=0;for(e=k.length;h!==e;)k[h][0]&&this.RenderTextFragment(k[h][0],k[h][1]),h++;this.y+=q*f;if(this.executeWatchFunctions(k[0][1])&&0<l.length){var D=[],m=[];l.forEach(function(a){for(var d=0,c=a.length;d!==c;)a[d][0]&&
(D.push(a[d][0]+" "),m.push(a[d][1])),++d});l=this.splitFragmentsIntoLines(d(D),m);t("ET","Q");t("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td")}}a&&"function"===typeof a&&a.call(this,this.x-9,this.y-n/2);t("ET","Q");return this.y+=w}};q.prototype.setBlockBoundary=function(a){return this.renderParagraph(a)};q.prototype.setBlockStyle=function(a){return this.paragraph.blockstyle=a};q.prototype.addText=function(a,d){this.paragraph.text.push(a);
return this.paragraph.style.push(d)};k={helvetica:"helvetica","sans-serif":"helvetica","times new roman":"times",serif:"times",times:"times",monospace:"courier",courier:"courier"};f={100:"normal",200:"normal",300:"normal",400:"normal",500:"bold",600:"bold",700:"bold",800:"bold",900:"bold",normal:"normal",bold:"bold",bolder:"bold",lighter:"normal"};a={normal:"normal",italic:"italic",oblique:"italic"};n={left:"left",right:"right",center:"center",justify:"justify"};h={none:"none",right:"right",left:"left"};
w={none:"none",both:"both"};L={normal:1};e.fromHTML=function(a,d,c,f,h,e){this.margins_doc=e||{top:0,bottom:0};f||(f={});f.elementHandlers||(f.elementHandlers={});return B(this,a,isNaN(d)?4:d,isNaN(c)?4:c,f,h)}})(p.API);(function(e){var c,l,k;e.addJS=function(a){k=a;this.internal.events.subscribe("postPutResources",function(a){c=this.internal.newObject();this.internal.write("\x3c\x3c /Names [(EmbeddedJS) "+(c+1)+" 0 R] \x3e\x3e","endobj");l=this.internal.newObject();this.internal.write("\x3c\x3c /S /JavaScript /JS (",
k,") \x3e\x3e","endobj")});this.internal.events.subscribe("putCatalog",function(){void 0!==c&&void 0!==l&&this.internal.write("/Names \x3c\x3c/JavaScript "+c+" 0 R\x3e\x3e")});return this}})(p.API);(function(e){e.events.push(["postPutResources",function(){var c=/^(\d+) 0 obj$/;if(0<this.outline.root.children.length)for(var e=this.outline.render().split(/\r\n/),k=0;k<e.length;k++){var a=e[k],n=c.exec(a);null!=n&&this.internal.newObjectDeferredBegin(n[1]);this.internal.write(a)}if(this.outline.createNamedDestinations){e=
this.internal.pages.length;c=[];for(k=0;k<e;k++)a=this.internal.newObject(),c.push(a),a=this.internal.getPageInfo(k+1),this.internal.write("\x3c\x3c /D["+a.objId+" 0 R /XYZ null null null]\x3e\x3e endobj");e=this.internal.newObject();this.internal.write("\x3c\x3c /Names [ ");for(k=0;k<c.length;k++)this.internal.write("(page_"+(k+1)+")"+c[k]+" 0 R");this.internal.write(" ] \x3e\x3e","endobj");this.internal.newObject();this.internal.write("\x3c\x3c /Dests "+e+" 0 R");this.internal.write("\x3e\x3e",
"endobj")}}]);e.events.push(["putCatalog",function(){0<this.outline.root.children.length&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+namesOid+" 0 R"))}]);e.events.push(["initialized",function(){var c=this;c.outline={createNamedDestinations:!1,root:{children:[]}};c.outline.add=function(c,e,a){e={title:e,options:a,children:[]};null==c&&(c=this.root);c.children.push(e);return e};c.outline.render=function(){this.ctx=
{};this.ctx.val="";this.ctx.pdf=c;this.genIds_r(this.root);this.renderRoot(this.root);this.renderItems(this.root);return this.ctx.val};c.outline.genIds_r=function(e){e.id=c.internal.newObjectDeferred();for(var k=0;k<e.children.length;k++)this.genIds_r(e.children[k])};c.outline.renderRoot=function(c){this.objStart(c);this.line("/Type /Outlines");0<c.children.length&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));this.line("/Count "+
this.count_r({count:0},c));this.objEnd()};c.outline.renderItems=function(e){for(var k=0;k<e.children.length;k++){var a=e.children[k];this.objStart(a);this.line("/Title "+this.makeString(a.title));this.line("/Parent "+this.makeRef(e));0<k&&this.line("/Prev "+this.makeRef(e.children[k-1]));k<e.children.length-1&&this.line("/Next "+this.makeRef(e.children[k+1]));0<a.children.length&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var l=
this.count=this.count_r({count:0},a);0<l&&this.line("/Count "+l);a.options&&a.options.pageNumber&&(a=c.internal.getPageInfo(a.options.pageNumber),this.line("/Dest ["+a.objId+" 0 R /XYZ 0 "+this.ctx.pdf.internal.pageSize.getHeight()+" 0]"));this.objEnd()}for(k=0;k<e.children.length;k++)a=e.children[k],this.renderItems(a)};c.outline.line=function(c){this.ctx.val+=c+"\r\n"};c.outline.makeRef=function(c){return c.id+" 0 R"};c.outline.makeString=function(e){return"("+c.internal.pdfEscape(e)+")"};c.outline.objStart=
function(c){this.ctx.val+="\r\n"+c.id+" 0 obj\r\n\x3c\x3c\r\n"};c.outline.objEnd=function(c){this.ctx.val+="\x3e\x3e \r\nendobj\r\n"};c.outline.count_r=function(c,e){for(var a=0;a<e.children.length;a++)c.count++,this.count_r(c,e.children[a]);return c.count}}]);return this})(p.API);(function(e){var c=function(c,w,t,d){var h=5,m=a;switch(d){case e.image_compression.FAST:h=3;m=k;break;case e.image_compression.MEDIUM:h=6;m=n;break;case e.image_compression.SLOW:h=9,m=f}d=c.length/w;for(var E=new Uint8Array(c.length+
d),L=[l,k,a,n,f],F=0,p,u,v;F<d;F++){v=F*w;p=c.subarray(v,v+w);if(m)E.set(m(p,t,u),v+F);else{for(var B=0,y=L.length,G=[];B<y;B++)G[B]=L[B](p,t,u);u=G.concat();for(var B=0,y=u.length,fa=void 0,M=void 0,z=void 0;B<y;){for(var fa=u[B].slice(1),R=0,W=fa.length,K=0;R<W;)K+=Math.abs(fa[R++]);fa=K;if(fa<M||!M)M=fa,z=B;B++}E.set(G[z],v+F)}u=p}c=E;w=Uint8Array;t=Math.LOG2E*Math.log(32768)-8<<4|8;m=t<<8|Math.min(3,0)<<6;m|=0;w=new w([t,m+(31-m%31)&255]);t=1;m=0;d=c.length;for(L=0;0<d;){E=void 0<d?void 0:d;d-=
E;do t+=c[L++],m+=t;while(--E);t%=65521;m%=65521}t=(m<<16|t)>>>0;m=new x(h);h=m.append(c);c=m.flush();m=w.length+h.length+c.length;d=new Uint8Array(m+4);d.set(w);d.set(h,w.length);d.set(c,w.length+h.length);d[m++]=t>>>24&255;d[m++]=t>>>16&255;d[m++]=t>>>8&255;d[m++]=t&255;return e.arrayBufferToBinaryString(d)},l=function(a,c,f){a=Array.apply([],a);a.unshift(0);return a},k=function(a,c,f){f=[];var d=0,h=a.length,e;for(f[0]=1;d<h;d++)e=a[d-c]||0,f[d+1]=a[d]-e+256&255;return f},a=function(a,c,f){c=[];
var d=0,h=a.length,e;for(c[0]=2;d<h;d++)e=f&&f[d]||0,c[d+1]=a[d]-e+256&255;return c},n=function(a,c,f){var d=[],h=0,e=a.length,k,l;for(d[0]=3;h<e;h++)k=a[h-c]||0,l=f&&f[h]||0,d[h+1]=a[h]+256-(k+l>>>1)&255;return d},f=function(a,c,f){var d=[],h=0,e=a.length,k,l,t;for(d[0]=4;h<e;h++){k=a[h-c]||0;l=f&&f[h]||0;t=f&&f[h-c]||0;var w=k+l-t,n=Math.abs(w-k),m=Math.abs(w-l),w=Math.abs(w-t);k=n<=m&&n<=w?k:m<=w?l:t;d[h+1]=a[h]-k+256&255}return d};e.processPNG=function(a,f,k,d,l){l=this.color_spaces.DEVICE_RGB;
var h=this.decode.FLATE_DECODE,q=8,t,w,n,p,u;this.isArrayBuffer(a)&&(a=new Uint8Array(a));if(this.isArrayBufferView(a)){if("function"!==typeof m.PNG||"function"!==typeof B)throw Error("PNG support requires png.js and zlib.js");t=new m.PNG(a);a=t.imgData;q=t.bits;l=t.colorSpace;w=t.colors;if(-1!==[4,6].indexOf(t.colorType)){if(8===t.bits){u=32==t.pixelBitlength?new Uint32Array(t.decodePixels().buffer):16==t.pixelBitlength?new Uint16Array(t.decodePixels().buffer):new Uint8Array(t.decodePixels().buffer);
var v=u.length,y=new Uint8Array(v*t.colors),G=new Uint8Array(v),z=t.pixelBitlength-t.bits,M=0;a=0;for(var O,R;M<v;M++){O=u[M];for(R=0;R<z;)y[a++]=O>>>R&255,R+=t.bits;G[M]=O>>>R&255}}if(16===t.bits){u=new Uint32Array(t.decodePixels().buffer);v=u.length;y=new Uint8Array(32/t.pixelBitlength*v*t.colors);G=new Uint8Array(32/t.pixelBitlength*v);q=1<t.colors;for(z=a=M=0;M<v;)O=u[M++],y[a++]=O>>>0&255,q&&(y[a++]=O>>>16&255,O=u[M++],y[a++]=O>>>0&255),G[z++]=O>>>16&255;q=8}if(v=d!==e.image_compression.NONE)if(v=
"function"===typeof x,!v)throw Error("requires deflate.js for compression");v?(a=c(y,t.width*t.colors,t.colors,d),u=c(G,t.width,1,d)):(a=y,u=G,h=null)}if(3===t.colorType&&(l=this.color_spaces.INDEXED,p=t.palette,t.transparency.indexed)){y=t.transparency.indexed;M=G=0;for(v=y.length;M<v;++M)G+=y[M];G/=255;if(G===v-1&&-1!==y.indexOf(0))n=[y.indexOf(0)];else if(G!==v){u=t.decodePixels();G=new Uint8Array(u.length);M=0;for(v=u.length;M<v;M++)G[M]=y[u[M]];u=c(G,t.width,1)}}switch(d){case e.image_compression.FAST:d=
11;break;case e.image_compression.MEDIUM:d=13;break;case e.image_compression.SLOW:d=14;break;default:d=12}w=h===this.decode.FLATE_DECODE?"/Predictor "+d+" /Colors "+w+" /BitsPerComponent "+q+" /Columns "+t.width:"/Colors "+w+" /BitsPerComponent "+q+" /Columns "+t.width;if(this.isArrayBuffer(a)||this.isArrayBufferView(a))a=this.arrayBufferToBinaryString(a);if(u&&this.isArrayBuffer(u)||this.isArrayBufferView(u))u=this.arrayBufferToBinaryString(u);return this.createImageInfo(a,t.width,t.height,l,q,h,
f,k,w,n,p,u,d)}throw Error("Unsupported PNG image data, try using JPEG instead.");}})(p.API);(function(e){var c=e.getCharWidthsArray=function(a,c){c||(c={});var f=c.widths?c.widths:this.internal.getFont().metadata.Unicode.widths,h=f.fof?f.fof:1;c=c.kerning?c.kerning:this.internal.getFont().metadata.Unicode.kerning;var d=c.fof?c.fof:1,e,k,l,n=0,m=f[0]||h,p=[];e=0;for(k=a.length;e<k;e++)l=a.charCodeAt(e),p.push((f[l]||m)/h+(c[l]&&c[l][n]||0)/d),n=l;return p},l=function(a){for(var c=a.length,f=0;c;)c--,
f+=a[c];return f},k=e.getStringUnitWidth=function(a,e){return l(c.call(this,a,e))},a=function(a,c,e,k){for(var d=[],f=0,h=a.length,l=0;f!==h&&l+c[f]<e;)l+=c[f],f++;d.push(a.slice(0,f));e=f;for(l=0;f!==h;)l+c[f]>k&&(d.push(a.slice(e,f)),l=0,e=f),l+=c[f],f++;e!==f&&d.push(a.slice(e,f));return d},n=function(f,e,n){n||(n={});var h=[],d=[h],q=n.textIndent||0,w=0,m=0,p,F=f.split(" "),u=c(" ",n)[0],v,B,x;if(x=-1===n.lineIndent?F[0].length+2:n.lineIndent||0){var y=Array(x).join(" "),G=[];F.map(function(a){a=
a.split(/\s*\n/);1<a.length?G=G.concat(a.map(function(a,d){return(d&&a.length?"\n":"")+a})):G.push(a[0])});F=G;x=k(y,n)}v=0;for(B=F.length;v<B;v++){var z=0;f=F[v];x&&"\n"==f[0]&&(f=f.substr(1),z=1);p=c(f,n);m=l(p);if(q+w+m>e||z){if(m>e){q=a(f,p,e-(q+w),e);h.push(q.shift());for(h=[q.pop()];q.length;)d.push([q.shift()]);m=l(p.slice(f.length-h[0].length))}else h=[f];d.push(h);q=m+x}else h.push(f),q+=w+m;w=u}return d.map(x?function(a,d){return(d?y:"")+a.join(" ")}:function(a){return a.join(" ")})};e.splitTextToSize=
function(a,c,e){e||(e={});var f=e.fontSize||this.internal.getFontSize(),d;var h=e;d={0:1};var k={};h.widths&&h.kerning?d={widths:h.widths,kerning:h.kerning}:(h=this.internal.getFont(h.fontName,h.fontStyle),d=h.metadata.Unicode?{widths:h.metadata.Unicode.widths||d,kerning:h.metadata.Unicode.kerning||k}:{widths:d,kerning:k});a=Array.isArray(a)?a:a.split(/\r?\n/);c=1*this.internal.scaleFactor*c/f;d.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/f:0;d.lineIndent=e.lineIndent;k=[];e=
0;for(f=a.length;e<f;e++)k=k.concat(n(a[e],c,d));return k}})(p.API);(function(e){var c=function(a){for(var c={},e=0;16>e;e++)c["klmnopqrstuvwxyz"[e]]="0123456789abcdef"[e];for(var k={},l=1,d,q=k,n=[],m,p="",F="",u,v=a.length-1,e=1;e!=v;)m=a[e],e+=1,"'"==m?d?(u=d.join(""),d=void 0):d=[]:d?d.push(m):"{"==m?(n.push([q,u]),q={},u=void 0):"}"==m?(m=n.pop(),m[0][m[1]]=q,u=void 0,q=m[0]):"-"==m?l=-1:void 0===u?c.hasOwnProperty(m)?(p+=c[m],u=parseInt(p,16)*l,l=1,p=""):p+=m:c.hasOwnProperty(m)?(F+=c[m],q[u]=
parseInt(F,16)*l,l=1,u=void 0,F=""):F+=m;return k},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},k={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},a={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),
"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),
"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),
Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),
Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),
"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),
"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),
"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),
"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};
e.events.push(["addFont",function(c){var f,e;if(f=a.Unicode[c.PostScriptName])e=c.metadata.Unicode?c.metadata.Unicode:c.metadata.Unicode={},e.widths=f.widths,e.kerning=f.kerning;if(f=k.Unicode[c.PostScriptName])e=c.metadata.Unicode?c.metadata.Unicode:c.metadata.Unicode={},e.encoding=f,f.codePages&&f.codePages.length&&(c.encoding=f.codePages[0])}])})(p.API);(function(e){e.addSVG=function(c,e,k,a,n){function f(a){for(var d=parseFloat(a[1]),c=parseFloat(a[2]),f=[],e=3,h=a.length;e<h;)"c"===a[e]?(f.push([parseFloat(a[e+
1]),parseFloat(a[e+2]),parseFloat(a[e+3]),parseFloat(a[e+4]),parseFloat(a[e+5]),parseFloat(a[e+6])]),e+=7):"l"===a[e]?(f.push([parseFloat(a[e+1]),parseFloat(a[e+2])]),e+=3):e+=1;return[d,c,f]}if(void 0===e||void 0===k)throw Error("addSVG needs values for 'x' and 'y'");var h=function(a){var d=a.createElement("iframe"),c=a.createElement("style");c.type="text/css";c.styleSheet?c.styleSheet.cssText=".jsPDF_sillysvg_iframe {display:none;position:absolute;}":c.appendChild(a.createTextNode(".jsPDF_sillysvg_iframe {display:none;position:absolute;}"));
a.getElementsByTagName("head")[0].appendChild(c);d.name="childframe";d.setAttribute("width",0);d.setAttribute("height",0);d.setAttribute("frameborder","0");d.setAttribute("scrolling","no");d.setAttribute("seamless","seamless");d.setAttribute("class","jsPDF_sillysvg_iframe");a.body.appendChild(d);return d}(document),h=function(a,c){c=(c.contentWindow||c.contentDocument).document;c.write(a);c.close();return c.getElementsByTagName("svg")[0]}(c,h);c=[1,1];var l=parseFloat(h.getAttribute("width")),t=parseFloat(h.getAttribute("height"));
l&&t&&(a&&n?c=[a/l,n/t]:a?c=[a/l,a/l]:n&&(c=[n/t,n/t]));h=h.childNodes;a=0;for(n=h.length;a<n;a++)l=h[a],l.tagName&&"PATH"===l.tagName.toUpperCase()&&(l=f(l.getAttribute("d").split(" ")),l[0]=l[0]*c[0]+e,l[1]=l[1]*c[1]+k,this.lines.call(this,l[2],l[0],l[1],c));return this}})(p.API);(function(e){e.putTotalPages=function(c){c=new RegExp(c,"g");for(var e=1;e<=this.internal.getNumberOfPages();e++)for(var k=0;k<this.internal.pages[e].length;k++)this.internal.pages[e][k]=this.internal.pages[e][k].replace(c,
this.internal.getNumberOfPages());return this}})(p.API);(function(e){var c="",l="",k="";e.addMetadata=function(a,e){l=e||"http://jspdf.default.namespaceuri/";c=a;this.internal.events.subscribe("postPutResources",function(){if(c){var a='\x3crdf:RDF xmlns:rdf\x3d"http://www.w3.org/1999/02/22-rdf-syntax-ns#"\x3e\x3crdf:Description rdf:about\x3d"" xmlns:jspdf\x3d"'+l+'"\x3e\x3cjspdf:metadata\x3e',e=unescape(encodeURIComponent('\x3cx:xmpmeta xmlns:x\x3d"adobe:ns:meta/"\x3e')),a=unescape(encodeURIComponent(a)),
n=unescape(encodeURIComponent(c)),t=unescape(encodeURIComponent("\x3c/jspdf:metadata\x3e\x3c/rdf:Description\x3e\x3c/rdf:RDF\x3e")),d=unescape(encodeURIComponent("\x3c/x:xmpmeta\x3e")),q=a.length+n.length+t.length+e.length+d.length;k=this.internal.newObject();this.internal.write("\x3c\x3c /Type /Metadata /Subtype /XML /Length "+q+" \x3e\x3e");this.internal.write("stream");this.internal.write(e+a+n+t+d);this.internal.write("endstream");this.internal.write("endobj")}else k=""});this.internal.events.subscribe("putCatalog",
function(){k&&this.internal.write("/Metadata "+k+" 0 R")});return this}})(p.API);p.adler32cs=function(){var e="function"===typeof ArrayBuffer&&"function"===typeof Uint8Array,c=null,l=function(){if(!e)return function(){return!1};try{var a={};"function"===typeof a.Buffer&&(c=a.Buffer)}catch(t){}return function(a){return a instanceof ArrayBuffer||null!==c&&a instanceof c}}(),k=function(){return null!==c?function(a){return(new c(a,"utf8")).toString("binary")}:function(a){return unescape(encodeURIComponent(a))}}(),
a=function(a,c){var d=a&65535;a>>>=16;for(var f=0,e=c.length;f<e;f++)d=(d+(c.charCodeAt(f)&255))%65521,a=(a+d)%65521;return(a<<16|d)>>>0},n=function(a,c){var d=a&65535;a>>>=16;for(var f=0,e=c.length;f<e;f++)d=(d+c[f])%65521,a=(a+d)%65521;return(a<<16|d)>>>0},f={},h=f.Adler32=function(){var c=function(a){if(!(this instanceof c))throw new TypeError("Constructor cannot called be as a function.");if(!isFinite(a=null==a?1:+a))throw Error("First arguments needs to be a finite number.");this.checksum=a>>>
0},f=c.prototype={};f.constructor=c;c.from=function(a){a.prototype=f;return a}(function(d){if(!(this instanceof c))throw new TypeError("Constructor cannot called be as a function.");if(null==d)throw Error("First argument needs to be a string.");this.checksum=a(1,d.toString())});c.fromUtf8=function(a){a.prototype=f;return a}(function(d){if(!(this instanceof c))throw new TypeError("Constructor cannot called be as a function.");if(null==d)throw Error("First argument needs to be a string.");d=k(d.toString());
this.checksum=a(1,d)});e&&(c.fromBuffer=function(a){a.prototype=f;return a}(function(a){if(!(this instanceof c))throw new TypeError("Constructor cannot called be as a function.");if(!l(a))throw Error("First argument needs to be ArrayBuffer.");a=new Uint8Array(a);return this.checksum=n(1,a)}));f.update=function(d){if(null==d)throw Error("First argument needs to be a string.");d=d.toString();return this.checksum=a(this.checksum,d)};f.updateUtf8=function(d){if(null==d)throw Error("First argument needs to be a string.");
d=k(d.toString());return this.checksum=a(this.checksum,d)};e&&(f.updateBuffer=function(a){if(!l(a))throw Error("First argument needs to be ArrayBuffer.");a=new Uint8Array(a);return this.checksum=n(this.checksum,a)});f.clone=function(){return new h(this.checksum)};return c}();f.from=function(c){if(null==c)throw Error("First argument needs to be a string.");return a(1,c.toString())};f.fromUtf8=function(c){if(null==c)throw Error("First argument needs to be a string.");c=k(c.toString());return a(1,c)};
e&&(f.fromBuffer=function(a){if(!l(a))throw Error("First argument need to be ArrayBuffer.");a=new Uint8Array(a);return n(1,a)});return f};var u={_colorsTable:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",
cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",
floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",
lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",
mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",
seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},colorNameToHex:function(e){e=e.toLowerCase();return"undefined"!=typeof this._colorsTable[e]?this._colorsTable[e]:!1}},x=
function(e){function c(){var a=this;a.build_tree=function(d){var c=a.dyn_tree,f=a.stat_desc.static_tree,e=a.stat_desc.elems,h,k=-1,l;d.heap_len=0;d.heap_max=573;for(h=0;h<e;h++)0!==c[2*h]?(d.heap[++d.heap_len]=k=h,d.depth[h]=0):c[2*h+1]=0;for(;2>d.heap_len;)l=d.heap[++d.heap_len]=2>k?++k:0,c[2*l]=1,d.depth[l]=0,d.opt_len--,f&&(d.static_len-=f[2*l+1]);a.max_code=k;for(h=Math.floor(d.heap_len/2);1<=h;h--)d.pqdownheap(c,h);l=e;do h=d.heap[1],d.heap[1]=d.heap[d.heap_len--],d.pqdownheap(c,1),f=d.heap[1],
d.heap[--d.heap_max]=h,d.heap[--d.heap_max]=f,c[2*l]=c[2*h]+c[2*f],d.depth[l]=Math.max(d.depth[h],d.depth[f])+1,c[2*h+1]=c[2*f+1]=l,d.heap[1]=l++,d.pqdownheap(c,1);while(2<=d.heap_len);d.heap[--d.heap_max]=d.heap[1];h=a.dyn_tree;for(var k=a.stat_desc.static_tree,t=a.stat_desc.extra_bits,q=a.stat_desc.extra_base,n=a.stat_desc.max_length,m,w,p=0,e=0;15>=e;e++)d.bl_count[e]=0;h[2*d.heap[d.heap_max]+1]=0;for(l=d.heap_max+1;573>l;l++)f=d.heap[l],e=h[2*h[2*f+1]+1]+1,e>n&&(e=n,p++),h[2*f+1]=e,f>a.max_code||
(d.bl_count[e]++,m=0,f>=q&&(m=t[f-q]),w=h[2*f],d.opt_len+=w*(e+m),k&&(d.static_len+=w*(k[2*f+1]+m)));if(0!==p){do{for(e=n-1;0===d.bl_count[e];)e--;d.bl_count[e]--;d.bl_count[e+1]+=2;d.bl_count[n]--;p-=2}while(0<p);for(e=n;0!==e;e--)for(f=d.bl_count[e];0!==f;)k=d.heap[--l],k>a.max_code||(h[2*k+1]!=e&&(d.opt_len+=(e-h[2*k+1])*h[2*k],h[2*k+1]=e),f--)}h=a.max_code;l=d.bl_count;d=[];f=0;for(e=1;15>=e;e++)d[e]=f=f+l[e-1]<<1;for(l=0;l<=h;l++)if(k=c[2*l+1],0!==k){f=2*l;e=d[k]++;t=0;do t|=e&1,e>>>=1,t<<=1;
while(0<--k);c[f]=t>>>1}}}function l(a,c,f,e,h){this.static_tree=a;this.extra_bits=c;this.extra_base=f;this.elems=e;this.max_length=h}function k(a,c,f,e,h){this.good_length=a;this.max_lazy=c;this.nice_length=f;this.max_chain=e;this.func=h}function a(a,c,f,e){var d=a[2*c];a=a[2*f];return d<a||d==a&&e[c]<=e[f]}function n(){function d(){var a;for(a=0;286>a;a++)ma[2*a]=0;for(a=0;30>a;a++)wa[2*a]=0;for(a=0;19>a;a++)ka[2*a]=0;ma[512]=1;qa=La=K.opt_len=K.static_len=0}function f(a,d){var c,f=-1,e,h=a[1],
k=0,l=7,t=4;0===h&&(l=138,t=3);a[2*(d+1)+1]=65535;for(c=0;c<=d;c++)e=h,h=a[2*(c+1)+1],++k<l&&e==h||(k<t?ka[2*e]+=k:0!==e?(e!=f&&ka[2*e]++,ka[32]++):10>=k?ka[34]++:ka[36]++,k=0,f=e,0===h?(l=138,t=3):e==h?(l=6,t=3):(l=7,t=4))}function e(a){K.pending_buf[K.pending++]=a}function h(a){e(a&255);e(a>>>8&255)}function k(a,d){la>16-d?(pa|=a<<la&65535,h(pa),pa=a>>>16-la,la+=d-16):(pa|=a<<la&65535,la+=d)}function n(a,d){a*=2;k(d[a]&65535,d[a+1]&65535)}function w(a,d){var c,f=-1,e,h=a[1],l=0,t=7,q=4;0===h&&(t=
138,q=3);for(c=0;c<=d;c++)if(e=h,h=a[2*(c+1)+1],!(++l<t&&e==h)){if(l<q){do n(e,ka);while(0!==--l)}else 0!==e?(e!=f&&(n(e,ka),l--),n(16,ka),k(l-3,2)):10>=l?(n(17,ka),k(l-3,3)):(n(18,ka),k(l-11,7));l=0;f=e;0===h?(t=138,q=3):e==h?(t=6,q=3):(t=7,q=4)}}function p(){16==la?(h(pa),la=pa=0):8<=la&&(e(pa&255),pa>>>=8,la-=8)}function u(a,d){var e;K.pending_buf[Fa+2*qa]=a>>>8&255;K.pending_buf[Fa+2*qa+1]=a&255;K.pending_buf[Ja+qa]=d&255;qa++;0===a?ma[2*d]++:(La++,a--,ma[2*(c._length_code[d]+256+1)]++,wa[2*c.d_code(a)]++);
if(0===(qa&8191)&&2<da){a=8*qa;d=S-ha;for(e=0;30>e;e++)a+=wa[2*e]*(5+c.extra_dbits[e]);if(La<Math.floor(qa/2)&&a>>>3<Math.floor(d/2))return!0}return qa==Ba-1}function v(a,d){var e,f,h=0,l,t;if(0!==qa){do e=K.pending_buf[Fa+2*h]<<8&65280|K.pending_buf[Fa+2*h+1]&255,f=K.pending_buf[Ja+h]&255,h++,0===e?n(f,a):(l=c._length_code[f],n(l+256+1,a),t=c.extra_lbits[l],0!==t&&(f-=c.base_length[l],k(f,t)),e--,l=c.d_code(e),n(l,d),t=c.extra_dbits[l],0!==t&&(e-=c.base_dist[l],k(e,t)));while(h<qa)}n(256,a);Ga=a[513]}
function x(){8<la?h(pa):0<la&&e(pa&255);la=pa=0}function B(a,d,c){x();Ga=8;c&&(h(d),h(~d));K.pending_buf.set(D.subarray(a,a+d),K.pending);K.pending+=d}function y(a){var e=0<=ha?ha:-1,h=S-ha,t,q,n=0;if(0<da){va.build_tree(K);Aa.build_tree(K);f(ma,va.max_code);f(wa,Aa.max_code);Ia.build_tree(K);for(n=18;3<=n&&0===ka[2*c.bl_order[n]+1];n--);K.opt_len+=3*(n+1)+14;t=K.opt_len+3+7>>>3;q=K.static_len+3+7>>>3;q<=t&&(t=q)}else t=q=h+5;if(h+4<=t&&-1!=e)k(0+(a?1:0),3),B(e,h,!0);else if(q==t)k(2+(a?1:0),3),v(l.static_ltree,
l.static_dtree);else{k(4+(a?1:0),3);e=va.max_code+1;h=Aa.max_code+1;n+=1;k(e-257,5);k(h-1,5);k(n-4,4);for(t=0;t<n;t++)k(ka[2*c.bl_order[t]+1],3);w(ma,e-1);w(wa,h-1);v(ma,wa)}d();a&&x();ha=S;A.flush_pending()}function z(){var a,d,c,e;do{e=U-V-S;if(0===e&&0===S&&0===V)e=T;else if(-1==e)e--;else if(S>=T+T-262){D.set(D.subarray(T,T+T),0);ua-=T;S-=T;ha-=T;c=a=ca;do d=Y[--c]&65535,Y[c]=d>=T?d-T:0;while(0!==--a);c=a=T;do d=X[--c]&65535,X[c]=d>=T?d-T:0;while(0!==--a);e+=T}if(0===A.avail_in)break;a=A.read_buf(D,
S+V,e);V+=a;3<=V&&(N=D[S]&255,N=(N<<C^D[S+1]&255)&ga)}while(262>V&&0!==A.avail_in)}function O(a){var d=65535,c;for(d>P-5&&(d=P-5);;){if(1>=V){z();if(0===V&&0==a)return 0;if(0===V)break}S+=V;V=0;c=ha+d;if(0===S||S>=c)if(V=S-c,S=c,y(!1),0===A.avail_out)return 0;if(S-ha>=T-262&&(y(!1),0===A.avail_out))return 0}y(4==a);return 0===A.avail_out?4==a?2:0:4==a?3:1}function R(a){var d=Ka,c=S,e,f=ra,h=S>T-262?S-(T-262):0,k=Ca,l=H,t=S+258,n=D[c+f-1],q=D[c+f];ra>=za&&(d>>=2);k>V&&(k=V);do if(e=a,D[e+f]==q&&D[e+
f-1]==n&&D[e]==D[c]&&D[++e]==D[c+1]){c+=2;for(e++;D[++c]==D[++e]&&D[++c]==D[++e]&&D[++c]==D[++e]&&D[++c]==D[++e]&&D[++c]==D[++e]&&D[++c]==D[++e]&&D[++c]==D[++e]&&D[++c]==D[++e]&&c<t;);e=258-(t-c);c=t-258;if(e>f){ua=a;f=e;if(e>=k)break;n=D[c+f-1];q=D[c+f]}}while((a=X[a&l]&65535)>h&&0!==--d);return f<=V?f:V}function W(a){for(var d=0,c,e;;){if(262>V){z();if(262>V&&0==a)return 0;if(0===V)break}3<=V&&(N=(N<<C^D[S+2]&255)&ga,d=Y[N]&65535,X[S&H]=Y[N],Y[N]=S);ra=ea;Ea=ua;ea=2;0!==d&&ra<xa&&(S-d&65535)<=T-
262&&(2!=ya&&(ea=R(d)),5>=ea&&(1==ya||3==ea&&4096<S-ua)&&(ea=2));if(3<=ra&&ea<=ra){e=S+V-3;c=u(S-1-Ea,ra-3);V-=ra-1;ra-=2;do++S<=e&&(N=(N<<C^D[S+2]&255)&ga,d=Y[N]&65535,X[S&H]=Y[N],Y[N]=S);while(0!==--ra);ta=0;ea=2;S++;if(c&&(y(!1),0===A.avail_out))return 0}else if(0!==ta){if((c=u(0,D[S-1]&255))&&y(!1),S++,V--,0===A.avail_out)return 0}else ta=1,S++,V--}0!==ta&&(c=u(0,D[S-1]&255),ta=0);y(4==a);return 0===A.avail_out?4==a?2:0:4==a?3:1}var K=this,A,I,P,ia,T,oa,H,D,U,X,Y,N,ca,Q,ga,C,ha,ea,Ea,ta,S,ua,
V,ra,Ka,xa,da,ya,za,Ca,ma,wa,ka,va=new c,Aa=new c,Ia=new c;K.depth=[];var Ja,Ba,qa,Fa,La,Ga,pa,la;K.bl_count=[];K.heap=[];ma=[];wa=[];ka=[];K.pqdownheap=function(d,c){for(var e=K.heap,f=e[c],h=c<<1;h<=K.heap_len;){h<K.heap_len&&a(d,e[h+1],e[h],K.depth)&&h++;if(a(d,f,e[h],K.depth))break;e[c]=e[h];c=h;h<<=1}e[c]=f};K.deflateInit=function(a,c,e,f,h,k){f||(f=8);h||(h=8);k||(k=0);a.msg=null;-1==c&&(c=6);if(1>h||9<h||8!=f||9>e||15<e||0>c||9<c||0>k||2<k)return-2;a.dstate=K;oa=e;T=1<<oa;H=T-1;Q=h+7;ca=1<<
Q;ga=ca-1;C=Math.floor((Q+3-1)/3);D=new Uint8Array(2*T);X=[];Y=[];Ba=1<<h+6;K.pending_buf=new Uint8Array(4*Ba);P=4*Ba;Fa=Math.floor(Ba/2);Ja=3*Ba;da=c;ya=k;a.total_in=a.total_out=0;a.msg=null;K.pending=0;K.pending_out=0;I=113;ia=0;va.dyn_tree=ma;va.stat_desc=l.static_l_desc;Aa.dyn_tree=wa;Aa.stat_desc=l.static_d_desc;Ia.dyn_tree=ka;Ia.stat_desc=l.static_bl_desc;la=pa=0;Ga=8;d();U=2*T;for(a=Y[ca-1]=0;a<ca-1;a++)Y[a]=0;xa=m[da].max_lazy;za=m[da].good_length;Ca=m[da].nice_length;Ka=m[da].max_chain;V=
ha=S=0;ea=ra=2;return N=ta=0};K.deflateEnd=function(){if(42!=I&&113!=I&&666!=I)return-2;D=X=Y=K.pending_buf=null;K.dstate=null;return 113==I?-3:0};K.deflateParams=function(a,d,c){var e=0;-1==d&&(d=6);if(0>d||9<d||0>c||2<c)return-2;m[da].func!=m[d].func&&0!==a.total_in&&(e=a.deflate(1));da!=d&&(da=d,xa=m[da].max_lazy,za=m[da].good_length,Ca=m[da].nice_length,Ka=m[da].max_chain);ya=c;return e};K.deflateSetDictionary=function(a,d,c){a=c;var e=0;if(!d||42!=I)return-2;if(3>a)return 0;a>T-262&&(a=T-262,
e=c-a);D.set(d.subarray(e,e+a),0);ha=S=a;N=D[0]&255;N=(N<<C^D[1]&255)&ga;for(d=0;d<=a-3;d++)N=(N<<C^D[d+2]&255)&ga,X[d&H]=Y[N],Y[N]=d;return 0};K.deflate=function(a,d){var c,f,h;if(4<d||0>d)return-2;if(!a.next_out||!a.next_in&&0!==a.avail_in||666==I&&4!=d)return a.msg=t[4],-2;if(0===a.avail_out)return a.msg=t[7],-5;A=a;h=ia;ia=d;42==I&&(c=8+(oa-8<<4)<<8,f=(da-1&255)>>1,3<f&&(f=3),c|=f<<6,0!==S&&(c|=32),I=113,c+=31-c%31,e(c>>8&255),e(c&255));if(0!==K.pending){if(A.flush_pending(),0===A.avail_out)return ia=
-1,0}else if(0===A.avail_in&&d<=h&&4!=d)return A.msg=t[7],-5;if(666==I&&0!==A.avail_in)return a.msg=t[7],-5;if(0!==A.avail_in||0!==V||0!=d&&666!=I){a=-1;switch(m[da].func){case 0:a=O(d);break;case 1:a:{for(a=0;;){if(262>V){z();if(262>V&&0==d){a=0;break a}if(0===V)break}3<=V&&(N=(N<<C^D[S+2]&255)&ga,a=Y[N]&65535,X[S&H]=Y[N],Y[N]=S);0!==a&&(S-a&65535)<=T-262&&2!=ya&&(ea=R(a));if(3<=ea)if(h=u(S-ua,ea-3),V-=ea,ea<=xa&&3<=V){ea--;do S++,N=(N<<C^D[S+2]&255)&ga,a=Y[N]&65535,X[S&H]=Y[N],Y[N]=S;while(0!==
--ea);S++}else S+=ea,ea=0,N=D[S]&255,N=(N<<C^D[S+1]&255)&ga;else h=u(0,D[S]&255),V--,S++;if(h&&(y(!1),0===A.avail_out)){a=0;break a}}y(4==d);a=0===A.avail_out?4==d?2:0:4==d?3:1}break;case 2:a=W(d)}if(2==a||3==a)I=666;if(0==a||2==a)return 0===A.avail_out&&(ia=-1),0;if(1==a){if(1==d)k(2,3),n(256,l.static_ltree),p(),9>1+Ga+10-la&&(k(2,3),n(256,l.static_ltree),p()),Ga=7;else if(k(0,3),B(0,0,!0),3==d)for(a=0;a<ca;a++)Y[a]=0;A.flush_pending();if(0===A.avail_out)return ia=-1,0}}return 4!=d?0:1}}function f(){this.total_out=
this.avail_out=this.total_in=this.avail_in=this.next_out_index=this.next_in_index=0}var h=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,
14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,
25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,
29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];c._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,
24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28];c.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0];c.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,
96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576];c.d_code=function(a){return 256>a?h[a]:h[256+(a>>>7)]};c.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];c.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];c.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7];c.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];l.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,
8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,
8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,
9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,
8,67,8,195,8,35,8,163,8,99,8,227,8];l.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5];l.static_l_desc=new l(l.static_ltree,c.extra_lbits,257,286,15);l.static_d_desc=new l(l.static_dtree,c.extra_dbits,0,30,15);l.static_bl_desc=new l(null,c.extra_blbits,0,19,7);var m=[new k(0,0,0,0,0),new k(4,4,8,4,1),new k(4,5,16,8,1),new k(4,6,32,32,1),new k(4,4,16,16,2),new k(8,16,32,32,2),new k(8,16,128,128,
2),new k(8,32,128,256,2),new k(32,128,258,1024,2),new k(32,258,258,4096,2)],t="need dictionary;stream end;;;stream error;data error;;buffer error;;".split(";");f.prototype={deflateInit:function(a,c){this.dstate=new n;c||(c=15);return this.dstate.deflateInit(this,a,c)},deflate:function(a){return this.dstate?this.dstate.deflate(this,a):-2},deflateEnd:function(){if(!this.dstate)return-2;var a=this.dstate.deflateEnd();this.dstate=null;return a},deflateParams:function(a,c){return this.dstate?this.dstate.deflateParams(this,
a,c):-2},deflateSetDictionary:function(a,c){return this.dstate?this.dstate.deflateSetDictionary(this,a,c):-2},read_buf:function(a,c,e){var d=this.avail_in;d>e&&(d=e);if(0===d)return 0;this.avail_in-=d;a.set(this.next_in.subarray(this.next_in_index,this.next_in_index+d),c);this.next_in_index+=d;this.total_in+=d;return d},flush_pending:function(){var a=this.dstate.pending;a>this.avail_out&&(a=this.avail_out);0!==a&&(this.next_out.set(this.dstate.pending_buf.subarray(this.dstate.pending_out,this.dstate.pending_out+
a),this.next_out_index),this.next_out_index+=a,this.dstate.pending_out+=a,this.total_out+=a,this.avail_out-=a,this.dstate.pending-=a,0===this.dstate.pending&&(this.dstate.pending_out=0))}};return function(a){var d=new f,c=new Uint8Array(512);"undefined"==typeof a&&(a=-1);d.deflateInit(a);d.next_out=c;this.append=function(a,e){var f=[],h=0,k=0,l=0,t;if(a.length){d.next_in_index=0;d.next_in=a;d.avail_in=a.length;do{d.next_out_index=0;d.avail_out=512;a=d.deflate(0);if(0!=a)throw"deflating: "+d.msg;d.next_out_index&&
(512==d.next_out_index?f.push(new Uint8Array(c)):f.push(new Uint8Array(c.subarray(0,d.next_out_index))));l+=d.next_out_index;e&&0<d.next_in_index&&d.next_in_index!=h&&(e(d.next_in_index),h=d.next_in_index)}while(0<d.avail_in||0===d.avail_out);t=new Uint8Array(l);f.forEach(function(a){t.set(a,k);k+=a.length});return t}};this.flush=function(){var a,e=[],f=0,h=0,k;do{d.next_out_index=0;d.avail_out=512;a=d.deflate(4);if(1!=a&&0!=a)throw"deflating: "+d.msg;0<512-d.avail_out&&e.push(new Uint8Array(c.subarray(0,
d.next_out_index)));h+=d.next_out_index}while(0<d.avail_in||0===d.avail_out);d.deflateEnd();k=new Uint8Array(h);e.forEach(function(a){k.set(a,f);f+=a.length});return k}}}(void 0);p.API.html2canvas=function(){return function c(l,k,a){function n(h,t){if(!k[h]){if(!l[h]){var d="function"==typeof require&&require;if(!t&&d)return d(h,!0);if(f)return f(h,!0);t=Error("Cannot find module '"+h+"'");throw t.code="MODULE_NOT_FOUND",t;}t=k[h]={exports:{}};l[h][0].call(t.exports,function(a){var d=l[h][1][a];return n(d?
d:a)},t,t.exports,c,l,k,a)}return k[h].exports}for(var f="function"==typeof require&&require,h=0;h<a.length;h++)n(a[h]);return n}({1:[function(c,l,k){(function(a){(function(c){function f(a){throw RangeError(G[a]);}function h(a,d){for(var c=a.length;c--;)a[c]=d(a[c]);return a}function n(a,d){return h(a.split(z),d).join(".")}function t(a){for(var d=[],c=0,f=a.length,h,k;c<f;)h=a.charCodeAt(c++),55296<=h&&56319>=h&&c<f?(k=a.charCodeAt(c++),56320==(k&64512)?d.push(((h&1023)<<10)+(k&1023)+65536):(d.push(h),
c--)):d.push(h);return d}function d(a){return h(a,function(a){var d="";65535<a&&(a-=65536,d+=M(a>>>10&1023|55296),a=56320|a&1023);return d+=M(a)}).join("")}function q(a,d){return a+22+75*(26>a)-((0!=d)<<5)}function m(a,d,c){var f=0;a=c?A(a/700):a>>1;for(a+=A(a/d);455<a;f+=36)a=A(a/35);return A(f+36*a/(a+38))}function p(a){var c=[],h=a.length,k,l=0,t=128,n=72,q,w,H,D,U;q=a.lastIndexOf("-");0>q&&(q=0);for(w=0;w<q;++w)128<=a.charCodeAt(w)&&f("not-basic"),c.push(a.charCodeAt(w));for(q=0<q?q+1:0;q<h;){w=
l;k=1;for(H=36;;H+=36){q>=h&&f("invalid-input");D=a.charCodeAt(q++);D=10>D-48?D-22:26>D-65?D-65:26>D-97?D-97:36;(36<=D||D>A((2147483647-l)/k))&&f("overflow");l+=D*k;U=H<=n?1:H>=n+26?26:H-n;if(D<U)break;D=36-U;k>A(2147483647/D)&&f("overflow");k*=D}k=c.length+1;n=m(l-w,k,0==w);A(l/k)>2147483647-t&&f("overflow");t+=A(l/k);l%=k;c.splice(l++,0,t)}return d(c)}function u(a){var d,c,h,k,l,n,w,p,H,D=[],U,X,E;a=t(a);U=a.length;d=128;c=0;l=72;for(n=0;n<U;++n)H=a[n],128>H&&D.push(M(H));for((h=k=D.length)&&D.push("-");h<
U;){w=2147483647;for(n=0;n<U;++n)H=a[n],H>=d&&H<w&&(w=H);X=h+1;w-d>A((2147483647-c)/X)&&f("overflow");c+=(w-d)*X;d=w;for(n=0;n<U;++n)if(H=a[n],H<d&&2147483647<++c&&f("overflow"),H==d){p=c;for(w=36;;w+=36){H=w<=l?1:w>=l+26?26:w-l;if(p<H)break;E=p-H;p=36-H;D.push(M(q(H+E%p,0)));p=A(E/p)}D.push(M(q(p,0)));l=m(c,X,h==k);c=0;++h}++c;++d}return D.join("")}var F="object"==typeof k&&k,v="object"==typeof l&&l&&l.exports==F&&l,x="object"==typeof a&&a;if(x.global===x||x.window===x)c=x;var B=/^xn--/,y=/[^ -~]/,
z=/\x2E|\u3002|\uFF0E|\uFF61/g,G={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input \x3e\x3d 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=Math.floor,M=String.fromCharCode,I,x={version:"1.2.4",ucs2:{decode:t,encode:d},decode:p,encode:u,toASCII:function(a){return n(a,function(a){return y.test(a)?"xn--"+u(a):a})},toUnicode:function(a){return n(a,function(a){return B.test(a)?p(a.slice(4).toLowerCase()):a})}};if(F&&!F.nodeType)if(v)v.exports=x;else for(I in x)x.hasOwnProperty(I)&&
(F[I]=x[I]);else c.punycode=x})(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],2:[function(c,l,k){function a(c,k){for(var h=3===c.nodeType?document.createTextNode(c.nodeValue):c.cloneNode(!1),d=c.firstChild;d;)!0!==k&&1===d.nodeType&&"SCRIPT"===d.nodeName||h.appendChild(a(d,k)),d=d.nextSibling;if(1===c.nodeType)if(h._scrollTop=c.scrollTop,h._scrollLeft=c.scrollLeft,"CANVAS"===c.nodeName)try{h&&(h.width=c.width,h.height=
c.height,h.getContext("2d").putImageData(c.getContext("2d").getImageData(0,0,c.width,c.height),0,0))}catch(q){f("Unable to copy canvas content from",c,q)}else if("TEXTAREA"===c.nodeName||"SELECT"===c.nodeName)h.value=c.value;return h}function n(a){if(1===a.nodeType)for(a.scrollTop=a._scrollTop,a.scrollLeft=a._scrollLeft,a=a.firstChild;a;)n(a),a=a.nextSibling}var f=c("./log");l.exports=function(c,f,k,d,l,m,p){var h=a(c.documentElement,l.javascriptEnabled),t=f.createElement("iframe");t.className="html2canvas-container";
t.style.visibility="hidden";t.style.position="fixed";t.style.left="-10000px";t.style.top="0px";t.style.border="0";t.width=k;t.height=d;t.scrolling="no";f.body.appendChild(t);return new Promise(function(a){var d=t.contentWindow.document;t.contentWindow.onload=t.onload=function(){var c=setInterval(function(){0<d.body.childNodes.length&&(n(d.documentElement),clearInterval(c),"view"===l.type&&(t.contentWindow.scrollTo(m,p),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||t.contentWindow.scrollY===p&&
t.contentWindow.scrollX===m||(d.documentElement.style.top=-p+"px",d.documentElement.style.left=-m+"px",d.documentElement.style.position="absolute")),a(t))},50)};d.open();d.write("\x3c!DOCTYPE html\x3e\x3chtml\x3e\x3c/html\x3e");!c.defaultView||m===c.defaultView.pageXOffset&&p===c.defaultView.pageYOffset||c.defaultView.scrollTo(m,p);d.replaceChild(d.adoptNode(h),d.documentElement);d.close()})}},{"./log":13}],3:[function(c,l,k){function a(a){this.b=this.g=this.r=0;this.a=null;this.fromArray(a)||this.namedColor(a)||
this.rgb(a)||this.rgba(a)||this.hex6(a)||this.hex3(a)}a.prototype.darken=function(d){d=1-d;return new a([Math.round(this.r*d),Math.round(this.g*d),Math.round(this.b*d),this.a])};a.prototype.isTransparent=function(){return 0===this.a};a.prototype.isBlack=function(){return 0===this.r&&0===this.g&&0===this.b};a.prototype.fromArray=function(a){Array.isArray(a)&&(this.r=Math.min(a[0],255),this.g=Math.min(a[1],255),this.b=Math.min(a[2],255),3<a.length&&(this.a=a[3]));return Array.isArray(a)};var n=/^#([a-f0-9]{3})$/i;
a.prototype.hex3=function(a){var d=null;null!==(d=a.match(n))&&(this.r=parseInt(d[1][0]+d[1][0],16),this.g=parseInt(d[1][1]+d[1][1],16),this.b=parseInt(d[1][2]+d[1][2],16));return null!==d};var f=/^#([a-f0-9]{6})$/i;a.prototype.hex6=function(a){var d=null;null!==(d=a.match(f))&&(this.r=parseInt(d[1].substring(0,2),16),this.g=parseInt(d[1].substring(2,4),16),this.b=parseInt(d[1].substring(4,6),16));return null!==d};var h=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;a.prototype.rgb=function(a){var d=
null;null!==(d=a.match(h))&&(this.r=Number(d[1]),this.g=Number(d[2]),this.b=Number(d[3]));return null!==d};var m=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;a.prototype.rgba=function(a){var d=null;null!==(d=a.match(m))&&(this.r=Number(d[1]),this.g=Number(d[2]),this.b=Number(d[3]),this.a=Number(d[4]));return null!==d};a.prototype.toString=function(){return null!==this.a&&1!==this.a?"rgba("+[this.r,this.g,this.b,this.a].join()+")":"rgb("+[this.r,this.g,this.b].join()+
")"};a.prototype.namedColor=function(a){a=a.toLowerCase();var d=t[a];if(d)this.r=d[0],this.g=d[1],this.b=d[2];else if("transparent"===a)return this.r=this.g=this.b=this.a=0,!0;return!!d};a.prototype.isColor=!0;var t={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,
158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,
61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],
hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,
136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,
228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,
143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],
whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};l.exports=a},{}],4:[function(c,l,k){function a(a,c){var h=z++;c=c||{};c.logging&&(F.options.logging=!0,F.options.start=Date.now());c.async="undefined"===typeof c.async?!0:c.async;c.allowTaint="undefined"===typeof c.allowTaint?!1:c.allowTaint;c.removeContainer="undefined"===typeof c.removeContainer?!0:c.removeContainer;c.javascriptEnabled="undefined"===typeof c.javascriptEnabled?!1:c.javascriptEnabled;c.imageTimeout="undefined"===
typeof c.imageTimeout?1E4:c.imageTimeout;c.renderer="function"===typeof c.renderer?c.renderer:p;c.strict=!!c.strict;if("string"===typeof a){if("string"!==typeof c.proxy)return Promise.reject("Proxy must be used when rendering url");var k=null!=c.width?c.width:window.innerWidth,l=null!=c.height?c.height:window.innerHeight;return B(d(a),c.proxy,document,k,l,c).then(function(a){return f(a.contentWindow.document.documentElement,a,c,k,l)})}a=(void 0===a?[document.documentElement]:a.length?a:[a])[0];a.setAttribute("data-html2canvas-node"+
h,h);return n(a.ownerDocument,c,a.ownerDocument.defaultView.innerWidth,a.ownerDocument.defaultView.innerHeight,h).then(function(a){"function"===typeof c.onrendered&&(F("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),c.onrendered(a));return a})}function n(a,d,c,h,k){return x(a,a,c,h,d,a.defaultView.pageXOffset,a.defaultView.pageYOffset).then(function(l){F("Document cloned");var t="data-html2canvas-node"+k,n="["+t+"\x3d'"+k+"']";a.querySelector(n).removeAttribute(t);
var t=l.contentWindow,m=t.document.querySelector(n);return("function"===typeof d.onclone?Promise.resolve(d.onclone(t.document)):Promise.resolve(!0)).then(function(){return f(m,l,d,c,h)})})}function f(a,d,c,f,k){var l=d.contentWindow,n=new q(l.document),w=new E(c,n),p=y(a);f="view"===c.type?f:m(l.document);k="view"===c.type?k:t(l.document);var v=new c.renderer(f,k,w,c,document);return(new u(a,v,n,w,c)).ready.then(function(){F("Finished rendering");var f;f="view"===c.type?h(v.canvas,{width:v.canvas.width,
height:v.canvas.height,top:0,left:0,x:0,y:0}):a===l.document.body||a===l.document.documentElement||null!=c.canvas?v.canvas:h(v.canvas,{width:null!=c.width?c.width:p.width,height:null!=c.height?c.height:p.height,top:p.top,left:p.left,x:0,y:0});c.removeContainer&&(d.parentNode.removeChild(d),F("Cleaned up container"));return f})}function h(a,c){var d=document.createElement("canvas"),f=Math.min(a.width-1,Math.max(0,c.left)),h=Math.min(a.width,Math.max(1,c.left+c.width)),k=Math.min(a.height-1,Math.max(0,
c.top)),l=Math.min(a.height,Math.max(1,c.top+c.height));d.width=c.width;d.height=c.height;h-=f;l-=k;F("Cropping canvas at:","left:",c.left,"top:",c.top,"width:",h,"height:",l);F("Resulting crop with width",c.width,"and height",c.height,"with x",f,"and y",k);d.getContext("2d").drawImage(a,f,k,h,l,c.x,c.y,h,l);return d}function m(a){return Math.max(Math.max(a.body.scrollWidth,a.documentElement.scrollWidth),Math.max(a.body.offsetWidth,a.documentElement.offsetWidth),Math.max(a.body.clientWidth,a.documentElement.clientWidth))}
function t(a){return Math.max(Math.max(a.body.scrollHeight,a.documentElement.scrollHeight),Math.max(a.body.offsetHeight,a.documentElement.offsetHeight),Math.max(a.body.clientHeight,a.documentElement.clientHeight))}function d(a){var c=document.createElement("a");c.href=a;c.href=c.href;return c}var q=c("./support"),p=c("./renderers/canvas"),E=c("./imageloader"),u=c("./nodeparser");k=c("./nodecontainer");var F=c("./log"),v=c("./utils"),x=c("./clone"),B=c("./proxy").loadUrlDocument,y=v.getBounds,z=0;
a.CanvasRenderer=p;a.NodeContainer=k;a.log=F;a.utils=v;c="undefined"===typeof document||"function"!==typeof Object.create||"function"!==typeof document.createElement("canvas").getContext?function(){return Promise.reject("No canvas support")}:a;l.exports=c},{"./clone":2,"./imageloader":11,"./log":13,"./nodecontainer":14,"./nodeparser":15,"./proxy":16,"./renderers/canvas":20,"./support":22,"./utils":26}],5:[function(c,l,k){function a(c){this.src=c;n("DummyImageContainer for",c);if(!this.promise||!this.image){n("Initiating DummyImageContainer");
a.prototype.image=new Image;var h=this.image;a.prototype.promise=new Promise(function(a,c){h.onload=a;h.onerror=c;h.src=f();!0===h.complete&&a(h)})}}var n=c("./log"),f=c("./utils").smallImage;l.exports=a},{"./log":13,"./utils":26}],6:[function(c,l,k){var a=c("./utils").smallImage;l.exports=function(c,f){var h=document.createElement("div"),k=document.createElement("img"),l=document.createElement("span");h.style.visibility="hidden";h.style.fontFamily=c;h.style.fontSize=f;h.style.margin=0;h.style.padding=
0;document.body.appendChild(h);k.src=a();k.width=1;k.height=1;k.style.margin=0;k.style.padding=0;k.style.verticalAlign="baseline";l.style.fontFamily=c;l.style.fontSize=f;l.style.margin=0;l.style.padding=0;l.appendChild(document.createTextNode("Hidden Text"));h.appendChild(l);h.appendChild(k);c=k.offsetTop-l.offsetTop+1;h.removeChild(l);h.appendChild(document.createTextNode("Hidden Text"));h.style.lineHeight="normal";k.style.verticalAlign="super";k=k.offsetTop-h.offsetTop+1;document.body.removeChild(h);
this.baseline=c;this.lineWidth=1;this.middle=k}},{"./utils":26}],7:[function(c,l,k){function a(){this.data={}}var n=c("./font");a.prototype.getMetrics=function(a,c){void 0===this.data[a+"-"+c]&&(this.data[a+"-"+c]=new n(a,c));return this.data[a+"-"+c]};l.exports=a},{"./font":6}],8:[function(c,l,k){function a(a,f,k){this.image=null;this.src=a;var d=this,h=n(a);this.promise=(f?new Promise(function(c){"about:blank"===a.contentWindow.document.URL||null==a.contentWindow.document.documentElement?a.contentWindow.onload=
a.onload=function(){c(a)}:c(a)}):this.proxyLoad(k.proxy,h,k)).then(function(a){return c("./core")(a.contentWindow.document.documentElement,{type:"view",width:a.width,height:a.height,proxy:k.proxy,javascriptEnabled:k.javascriptEnabled,removeContainer:k.removeContainer,allowTaint:k.allowTaint,imageTimeout:k.imageTimeout/2})}).then(function(a){return d.image=a})}var n=c("./utils").getBounds,f=c("./proxy").loadUrlDocument;a.prototype.proxyLoad=function(a,c,k){var d=this.src;return f(d.src,a,d.ownerDocument,
c.width,c.height,k)};l.exports=a},{"./core":4,"./proxy":16,"./utils":26}],9:[function(c,l,k){function a(a){this.src=a.value;this.colorStops=[];this.type=null;this.y1=this.x1=this.y0=this.x0=.5;this.promise=Promise.resolve(!0)}a.TYPES={LINEAR:1,RADIAL:2};a.REGEXP_COLORSTOP=/^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i;l.exports=a},{}],10:[function(c,l,k){l.exports=function(a,c){this.src=a;this.image=new Image;
var f=this;this.tainted=null;this.promise=new Promise(function(h,k){f.image.onload=h;f.image.onerror=k;c&&(f.image.crossOrigin="anonymous");f.image.src=a;!0===f.image.complete&&h(f.image)})}},{}],11:[function(c,l,k){function a(a,c){this.link=null;this.options=a;this.support=c;this.origin=this.getOrigin(window.location.href)}var n=c("./log"),f=c("./imagecontainer"),h=c("./dummyimagecontainer"),m=c("./proxyimagecontainer"),t=c("./framecontainer"),d=c("./svgcontainer"),q=c("./svgnodecontainer"),p=c("./lineargradientcontainer"),
E=c("./webkitgradientcontainer"),u=c("./utils").bind;a.prototype.findImages=function(a){var c=[];a.reduce(function(a,c){switch(c.node.nodeName){case "IMG":return a.concat([{args:[c.node.src],method:"url"}]);case "svg":case "IFRAME":return a.concat([{args:[c.node],method:c.node.nodeName}])}return a},[]).forEach(this.addImage(c,this.loadImage),this);return c};a.prototype.findBackgroundImage=function(a,c){c.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(a,this.loadImage),
this);return a};a.prototype.addImage=function(a,c){return function(d){d.args.forEach(function(f){this.imageExists(a,f)||(a.splice(0,0,c.call(this,d)),n("Added image #"+a.length,"string"===typeof f?f.substring(0,100):f))},this)}};a.prototype.hasImageBackground=function(a){return"none"!==a.method};a.prototype.loadImage=function(a){return"url"===a.method?(a=a.args[0],!this.isSVG(a)||this.support.svg||this.options.allowTaint?a.match(/data:image\/.*;base64,/i)?new f(a.replace(/url\(['"]{0,}|['"]{0,}\)$/ig,
""),!1):this.isSameOrigin(a)||!0===this.options.allowTaint||this.isSVG(a)?new f(a,!1):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new f(a,!0):this.options.proxy?new m(a,this.options.proxy):new h(a):new d(a)):"linear-gradient"===a.method?new p(a):"gradient"===a.method?new E(a):"svg"===a.method?new q(a.args[0],this.support.svg):"IFRAME"===a.method?new t(a.args[0],this.isSameOrigin(a.args[0].src),this.options):new h(a)};a.prototype.isSVG=function(a){return"svg"===a.substring(a.length-
3).toLowerCase()||d.prototype.isInline(a)};a.prototype.imageExists=function(a,c){return a.some(function(a){return a.src===c})};a.prototype.isSameOrigin=function(a){return this.getOrigin(a)===this.origin};a.prototype.getOrigin=function(a){var c=this.link||(this.link=document.createElement("a"));c.href=a;c.href=c.href;return c.protocol+c.hostname+c.port};a.prototype.getPromise=function(a){return this.timeout(a,this.options.imageTimeout)["catch"](function(){return(new h(a.src)).promise.then(function(c){a.image=
c})})};a.prototype.get=function(a){var c=null;return this.images.some(function(d){return(c=d).src===a})?c:null};a.prototype.fetch=function(a){this.images=a.reduce(u(this.findBackgroundImage,this),this.findImages(a));this.images.forEach(function(a,c){a.promise.then(function(){n("Succesfully loaded image #"+(c+1),a)},function(d){n("Failed loading image #"+(c+1),a,d)})});this.ready=Promise.all(this.images.map(this.getPromise,this));n("Finished searching images");return this};a.prototype.timeout=function(a,
c){var d,f=Promise.race([a.promise,new Promise(function(f,h){d=setTimeout(function(){n("Timed out loading image",a);h(a)},c)})]).then(function(a){clearTimeout(d);return a});f["catch"](function(){clearTimeout(d)});return f};l.exports=a},{"./dummyimagecontainer":5,"./framecontainer":8,"./imagecontainer":10,"./lineargradientcontainer":12,"./log":13,"./proxyimagecontainer":17,"./svgcontainer":23,"./svgnodecontainer":24,"./utils":26,"./webkitgradientcontainer":27}],12:[function(c,l,k){function a(c){n.apply(this,
arguments);this.type=n.TYPES.LINEAR;var h=a.REGEXP_DIRECTION.test(c.args[0])||!n.REGEXP_COLORSTOP.test(c.args[0]);h?c.args[0].split(/\s+/).reverse().forEach(function(a,c){switch(a){case "left":this.x0=0;this.x1=1;break;case "top":this.y0=0;this.y1=1;break;case "right":this.x0=1;this.x1=0;break;case "bottom":this.y0=1;this.y1=0;break;case "to":c=this.y0;a=this.x0;this.y0=this.y1;this.x0=this.x1;this.x1=a;this.y1=c;break;case "center":break;default:a=.01*parseFloat(a,10),isNaN(a)||(0===c?(this.y0=a,
this.y1=1-this.y0):(this.x0=a,this.x1=1-this.x0))}},this):(this.y0=0,this.y1=1);this.colorStops=c.args.slice(h?1:0).map(function(a){a=a.match(n.REGEXP_COLORSTOP);var c=+a[2],h=0===c?"%":a[3];return{color:new f(a[1]),stop:"%"===h?c/100:null}});null===this.colorStops[0].stop&&(this.colorStops[0].stop=0);null===this.colorStops[this.colorStops.length-1].stop&&(this.colorStops[this.colorStops.length-1].stop=1);this.colorStops.forEach(function(a,c){null===a.stop&&this.colorStops.slice(c).some(function(d,
f){return null!==d.stop?(a.stop=(d.stop-this.colorStops[c-1].stop)/(f+1)+this.colorStops[c-1].stop,!0):!1},this)},this)}var n=c("./gradientcontainer"),f=c("./color");a.prototype=Object.create(n.prototype);a.REGEXP_DIRECTION=/^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i;l.exports=a},{"./color":3,"./gradientcontainer":9}],13:[function(c,l,k){var a=function(){a.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,
[Date.now()-a.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))};a.options={logging:!1};l.exports=a},{}],14:[function(c,l,k){function a(a,c){this.node=a;this.parent=c;this.borders=this.bounds=this.stack=null;this.clip=[];this.backgroundClip=[];this.computedStyles=this.visible=this.offsetBounds=null;this.colors={};this.styles={};this.transformMatrix=this.transformData=this.backgroundImages=null;this.isPseudoElement=!1;this.opacity=null}function n(a){if(a&&"matrix"===a[1])return a[2].split(",").map(function(a){return parseFloat(a.trim())});
if(a&&"matrix3d"===a[1])return a=a[2].split(",").map(function(a){return parseFloat(a.trim())}),[a[0],a[1],a[4],a[5],a[12],a[13]]}function f(a){return-1!==a.toString().indexOf("%")}function h(a){return a.replace("px","")}function m(a){return parseFloat(a)}var t=c("./color");c=c("./utils");var d=c.getBounds,q=c.parseBackgrounds,p=c.offsetBounds;a.prototype.cloneTo=function(a){a.visible=this.visible;a.borders=this.borders;a.bounds=this.bounds;a.clip=this.clip;a.backgroundClip=this.backgroundClip;a.computedStyles=
this.computedStyles;a.styles=this.styles;a.backgroundImages=this.backgroundImages;a.opacity=this.opacity};a.prototype.getOpacity=function(){return null===this.opacity?this.opacity=this.cssFloat("opacity"):this.opacity};a.prototype.assignStack=function(a){this.stack=a;a.children.push(this)};a.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:"none"!==this.css("display")&&"hidden"!==this.css("visibility")&&!this.node.hasAttribute("data-html2canvas-ignore")&&
("INPUT"!==this.node.nodeName||"hidden"!==this.node.getAttribute("type"))};a.prototype.css=function(a){this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null));return this.styles[a]||(this.styles[a]=this.computedStyles[a])};a.prototype.prefixedCss=function(a){var c=["webkit","moz","ms","o"],d=this.css(a);void 0===d&&c.some(function(c){d=this.css(c+a.substr(0,1).toUpperCase()+a.substr(1));return void 0!==d},this);
return void 0===d?null:d};a.prototype.computedStyle=function(a){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,a)};a.prototype.cssInt=function(a){a=parseInt(this.css(a),10);return isNaN(a)?0:a};a.prototype.color=function(a){return this.colors[a]||(this.colors[a]=new t(this.css(a)))};a.prototype.cssFloat=function(a){a=parseFloat(this.css(a));return isNaN(a)?0:a};a.prototype.fontWeight=function(){var a=this.css("fontWeight");switch(parseInt(a,10)){case 401:a="bold";break;case 400:a=
"normal"}return a};a.prototype.parseClip=function(){var a=this.css("clip").match(this.CLIP);return a?{top:parseInt(a[1],10),right:parseInt(a[2],10),bottom:parseInt(a[3],10),left:parseInt(a[4],10)}:null};a.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=q(this.css("backgroundImage")))};a.prototype.cssList=function(a,c){a=(this.css(a)||"").split(",");a=a[c||0]||a[0]||"auto";a=a.trim().split(" ");1===a.length&&(a=[a[0],f(a[0])?"auto":a[0]]);return a};a.prototype.parseBackgroundSize=
function(a,c,d){d=this.cssList("backgroundSize",d);var h;if(f(d[0]))h=a.width*parseFloat(d[0])/100;else{if(/contain|cover/.test(d[0]))return c=c.width/c.height,a.width/a.height<c^"contain"===d[0]?{width:a.height*c,height:a.height}:{width:a.width,height:a.width/c};h=parseInt(d[0],10)}a="auto"===d[0]&&"auto"===d[1]?c.height:"auto"===d[1]?h/c.width*c.height:f(d[1])?a.height*parseFloat(d[1])/100:parseInt(d[1],10);"auto"===d[0]&&(h=a/c.height*c.width);return{width:h,height:a}};a.prototype.parseBackgroundPosition=
function(a,c,d,h){d=this.cssList("backgroundPosition",d);var k;k=f(d[0])?(a.width-(h||c).width)*(parseFloat(d[0])/100):parseInt(d[0],10);a="auto"===d[1]?k/c.width*c.height:f(d[1])?(a.height-(h||c).height)*parseFloat(d[1])/100:parseInt(d[1],10);"auto"===d[0]&&(k=a/c.height*c.width);return{left:k,top:a}};a.prototype.parseBackgroundRepeat=function(a){return this.cssList("backgroundRepeat",a)[0]};a.prototype.parseTextShadows=function(){var a=this.css("textShadow"),c=[];if(a&&"none"!==a)for(var a=a.match(this.TEXT_SHADOW_PROPERTY),
d=0;a&&d<a.length;d++){var f=a[d].match(this.TEXT_SHADOW_VALUES);c.push({color:new t(f[0]),offsetX:f[1]?parseFloat(f[1].replace("px","")):0,offsetY:f[2]?parseFloat(f[2].replace("px","")):0,blur:f[3]?f[3].replace("px",""):0})}return c};a.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var a=this.parseBounds(),c=this.prefixedCss("transformOrigin").split(" ").map(h).map(m);c[0]+=a.left;c[1]+=a.top;this.transformData={origin:c,matrix:this.parseTransformMatrix()}}else this.transformData=
{origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData};a.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var a=this.prefixedCss("transform");this.transformMatrix=(a=a?n(a.match(this.MATRIX_PROPERTY)):null)?a:[1,0,0,1,0,0]}return this.transformMatrix};a.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?p(this.node):d(this.node))};a.prototype.hasTransform=function(){return"1,0,0,1,0,0"!==this.parseTransformMatrix().join(",")||this.parent&&
this.parent.hasTransform()};a.prototype.getValue=function(){var a=this.node.value||"";"SELECT"===this.node.tagName?(a=this.node,a=(a=a.options[a.selectedIndex||0])?a.text||"":""):"password"===this.node.type&&(a=Array(a.length+1).join("\u2022"));return 0===a.length?this.node.placeholder||"":a};a.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/;a.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g;a.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g;a.prototype.CLIP=
/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/;l.exports=a},{"./color":3,"./utils":26}],15:[function(c,l,k){function a(a,c,d,f,h){ja("Starting NodeParser");this.renderer=c;this.options=h;this.range=null;this.support=d;this.renderQueue=[];this.stack=new X(!0,1,a.ownerDocument,null);d=new T(a,null);h.background&&c.rectangle(0,0,c.width,c.height,new U(h.background));if(a===a.ownerDocument.documentElement){var k=new T(d.color("backgroundColor").isTransparent()?a.ownerDocument.body:a.ownerDocument.documentElement,
null);c.rectangle(0,0,c.width,c.height,k.color("backgroundColor"))}d.visibile=d.isElementVisible();this.createPseudoHideStyles(a.ownerDocument);this.disableAnimations(a.ownerDocument);this.nodes=[].concat.apply([],[d].concat(this.getChildren(d)).filter(function(a){return a.visible=a.isElementVisible()}).map(this.getPseudoElements,this));this.fontMetrics=new D;ja("Fetched nodes, total:",this.nodes.length);ja("Calculate overflow clips");this.calculateOverflowClips();ja("Start fetching images");this.images=
f.fetch(this.nodes.filter(M));this.ready=this.images.ready.then(Y(function(){ja("Images loaded, starting parsing");ja("Creating stacking contexts");this.createStackingContexts();ja("Sorting stacking contexts");this.sortStackingContexts(this.stack);this.parse(this.stack);ja("Render queue created with "+this.renderQueue.length+" items");return new Promise(Y(function(a){h.async?"function"===typeof h.async?h.async.call(this,this.renderQueue,a):0<this.renderQueue.length?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,
a)):a():(this.renderQueue.forEach(this.paint,this),a())},this))},this))}function n(a){return a.replace(/(\-[a-z])/g,function(a){return a.toUpperCase().replace("-","")})}function f(){}function h(a,c,d,f){return a.map(function(h,k){if(0<h.width){var l=c.left,n=c.top,t=c.width,H=c.height-a[2].width;switch(k){case 0:H=a[0].width;h.args=q({c1:[l,n],c2:[l+t,n],c3:[l+t-a[1].width,n+H],c4:[l+a[3].width,n+H]},f[0],f[1],d.topLeftOuter,d.topLeftInner,d.topRightOuter,d.topRightInner);break;case 1:l=c.left+c.width-
a[1].width;t=a[1].width;h.args=q({c1:[l+t,n],c2:[l+t,n+H+a[2].width],c3:[l,n+H],c4:[l,n+a[0].width]},f[1],f[2],d.topRightOuter,d.topRightInner,d.bottomRightOuter,d.bottomRightInner);break;case 2:n=n+c.height-a[2].width;H=a[2].width;h.args=q({c1:[l+t,n+H],c2:[l,n+H],c3:[l+a[3].width,n],c4:[l+t-a[3].width,n]},f[2],f[3],d.bottomRightOuter,d.bottomRightInner,d.bottomLeftOuter,d.bottomLeftInner);break;case 3:t=a[3].width,h.args=q({c1:[l,n+H+a[2].width],c2:[l,n],c3:[l+t,n+a[0].width],c4:[l+t,n+H]},f[3],
f[0],d.bottomLeftOuter,d.bottomLeftInner,d.topLeftOuter,d.topLeftInner)}}return h})}function m(a,c,f,h){var k=(Math.sqrt(2)-1)/3*4,l=f*k,k=h*k;f=a+f;h=c+h;return{topLeft:d({x:a,y:h},{x:a,y:h-k},{x:f-l,y:c},{x:f,y:c}),topRight:d({x:a,y:c},{x:a+l,y:c},{x:f,y:h-k},{x:f,y:h}),bottomRight:d({x:f,y:c},{x:f,y:c+k},{x:a+l,y:h},{x:a,y:h}),bottomLeft:d({x:f,y:h},{x:f-l,y:h},{x:a,y:c+k},{x:a,y:c})}}function t(a,c,d){var f=a.left,h=a.top,k=a.width;a=a.height;var l=c[0][0]<k/2?c[0][0]:k/2,n=c[0][1]<a/2?c[0][1]:
a/2,t=c[1][0]<k/2?c[1][0]:k/2,H=c[1][1]<a/2?c[1][1]:a/2,D=c[2][0]<k/2?c[2][0]:k/2,q=c[2][1]<a/2?c[2][1]:a/2,C=c[3][0]<k/2?c[3][0]:k/2;c=c[3][1]<a/2?c[3][1]:a/2;var w=k-t,p=a-q,U=k-D,X=a-c;return{topLeftOuter:m(f,h,l,n).topLeft.subdivide(.5),topLeftInner:m(f+d[3].width,h+d[0].width,Math.max(0,l-d[3].width),Math.max(0,n-d[0].width)).topLeft.subdivide(.5),topRightOuter:m(f+w,h,t,H).topRight.subdivide(.5),topRightInner:m(f+Math.min(w,k+d[3].width),h+d[0].width,w>k+d[3].width?0:t-d[3].width,H-d[0].width).topRight.subdivide(.5),
bottomRightOuter:m(f+U,h+p,D,q).bottomRight.subdivide(.5),bottomRightInner:m(f+Math.min(U,k-d[3].width),h+Math.min(p,a+d[0].width),Math.max(0,D-d[1].width),q-d[2].width).bottomRight.subdivide(.5),bottomLeftOuter:m(f,h+X,C,c).bottomLeft.subdivide(.5),bottomLeftInner:m(f+d[3].width,h+X,Math.max(0,C-d[3].width),c-d[2].width).bottomLeft.subdivide(.5)}}function d(a,c,f,h){var k=function(a,c,d){return{x:a.x+(c.x-a.x)*d,y:a.y+(c.y-a.y)*d}};return{start:a,startControl:c,endControl:f,end:h,subdivide:function(l){var n=
k(a,c,l),t=k(c,f,l),H=k(f,h,l),m=k(n,t,l),t=k(t,H,l);l=k(m,t,l);return[d(a,n,m,l),d(l,t,H,h)]},curveTo:function(a){a.push(["bezierCurve",c.x,c.y,f.x,f.y,h.x,h.y])},curveToReversed:function(d){d.push(["bezierCurve",f.x,f.y,c.x,c.y,a.x,a.y])}}}function q(a,c,d,f,h,k,l){var n=[];0<c[0]||0<c[1]?(n.push(["line",f[1].start.x,f[1].start.y]),f[1].curveTo(n)):n.push(["line",a.c1[0],a.c1[1]]);0<d[0]||0<d[1]?(n.push(["line",k[0].start.x,k[0].start.y]),k[0].curveTo(n),n.push(["line",l[0].end.x,l[0].end.y]),l[0].curveToReversed(n)):
(n.push(["line",a.c2[0],a.c2[1]]),n.push(["line",a.c3[0],a.c3[1]]));0<c[0]||0<c[1]?(n.push(["line",h[1].end.x,h[1].end.y]),h[1].curveToReversed(n)):n.push(["line",a.c4[0],a.c4[1]]);return n}function p(a,c,d,f,h,k,l){0<c[0]||0<c[1]?(a.push(["line",f[0].start.x,f[0].start.y]),f[0].curveTo(a),f[1].curveTo(a)):a.push(["line",k,l]);(0<d[0]||0<d[1])&&a.push(["line",h[0].start.x,h[0].start.y])}function u(a){return 0>a.cssInt("zIndex")}function v(a){return 0<a.cssInt("zIndex")}function x(a){return 0===a.cssInt("zIndex")}
function B(a){return-1!==["inline","inline-block","inline-table"].indexOf(a.css("display"))}function y(a){return 0<a.node.data.trim().length}function z(a){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(c){c=a.css("border"+c+"Radius").split(" ");1>=c.length&&(c[1]=c[0]);return c.map(W)})}function A(a){return a.nodeType===Node.TEXT_NODE||a.nodeType===Node.ELEMENT_NODE}function I(a){return"static"!==a.css("position")}function G(a){return"none"!==a.css("float")}function P(a){var c=
this;return function(){return!a.apply(c,arguments)}}function M(a){return a.node.nodeType===Node.ELEMENT_NODE}function O(a){return a.node.nodeType===Node.TEXT_NODE}function R(a){return function(c,d){return c.cssInt("zIndex")+a.indexOf(c)/a.length-(d.cssInt("zIndex")+a.indexOf(d)/a.length)}}function W(a){return parseInt(a,10)}function K(a){return a.width}function sa(a){return a.node.nodeType!==Node.ELEMENT_NODE||-1==="SCRIPT HEAD TITLE OBJECT BR OPTION".split(" ").indexOf(a.node.nodeName)}function Da(a){for(var c=
[],d=0,f=!1,h;a.length;)-1!==[32,13,10,9,45].indexOf(a[d])===f?(h=a.splice(0,d),h.length&&c.push(ia.ucs2.encode(h)),f=!f,d=0):d++,d>=a.length&&(h=a.splice(0,d),h.length&&c.push(ia.ucs2.encode(h)));return c}var ja=c("./log"),ia=c("punycode"),T=c("./nodecontainer"),oa=c("./textcontainer"),H=c("./pseudoelementcontainer"),D=c("./fontmetrics"),U=c("./color"),X=c("./stackingcontext");c=c("./utils");var Y=c.bind,N=c.getBounds,ca=c.parseBackgrounds,Q=c.offsetBounds;a.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(a){if(M(a)){!0===
a.isPseudoElement&&a.appendToDOM();a.borders=this.parseBorders(a);var c="hidden"===a.css("overflow")?[a.borders.clip]:[],d=a.parseClip();d&&-1!==["absolute","fixed"].indexOf(a.css("position"))&&c.push([["rect",a.bounds.left+d.left,a.bounds.top+d.top,d.right-d.left,d.bottom-d.top]]);a.clip=a.parent&&a.parent.clip.length?a.parent.clip.concat(c):c;a.backgroundClip="hidden"!==a.css("overflow")?a.clip.concat([a.borders.clip]):a.clip;!0===a.isPseudoElement&&a.cleanDOM()}else O(a)&&(a.clip=a.parent&&a.parent.clip.length?
a.parent.clip:[]);!0!==a.isPseudoElement&&(a.bounds=null)},this)};a.prototype.asyncRenderer=function(a,c,d){d=d||Date.now();this.paint(a[this.renderIndex++]);a.length===this.renderIndex?c():d+20>Date.now()?this.asyncRenderer(a,c,d):setTimeout(Y(function(){this.asyncRenderer(a,c)},this),0)};a.prototype.createPseudoHideStyles=function(a){this.createStyles(a,"."+H.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+H.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+
':after { content: "" !important; display: none !important; }')};a.prototype.disableAnimations=function(a){this.createStyles(a,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")};a.prototype.createStyles=function(a,c){var d=a.createElement("style");d.innerHTML=c;a.body.appendChild(d)};
a.prototype.getPseudoElements=function(a){var c=[[a]];if(a.node.nodeType===Node.ELEMENT_NODE){var d=this.getPseudoElement(a,":before");a=this.getPseudoElement(a,":after");d&&c.push(d);a&&c.push(a)}return[].concat.apply([],c)};a.prototype.getPseudoElement=function(a,c){var d=a.computedStyle(c);if(!d||!d.content||"none"===d.content||"-moz-alt-content"===d.content||"none"===d.display)return null;var f,h=d.content;f=h.substr(0,1);f=f===h.substr(h.length-1)&&f.match(/'|"/)?h.substr(1,h.length-2):h;var k=
"url"===f.substr(0,3),h=document.createElement(k?"img":"html2canvaspseudoelement");a=new H(h,a,c);for(c=d.length-1;0<=c;c--){var l=n(d.item(c));h.style[l]=d[l]}h.className=H.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+H.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER;if(k)return h.src=ca(f)[0].args[0],[a];d=document.createTextNode(f);h.appendChild(d);return[a,new oa(d,a)]};a.prototype.getChildren=function(a){return[].concat.apply([],[].filter.call(a.node.childNodes,A).map(function(c){var d=[c.nodeType===
Node.TEXT_NODE?new oa(c,a):new T(c,a)].filter(sa);return c.nodeType===Node.ELEMENT_NODE&&d.length&&"TEXTAREA"!==c.tagName?d[0].isElementVisible()?d.concat(this.getChildren(d[0])):[]:d},this))};a.prototype.newStackingContext=function(a,c){var d=new X(c,a.getOpacity(),a.node,a.parent);a.cloneTo(d);(c?d.getParentStack(this):d.parent.stack).contexts.push(d);a.stack=d};a.prototype.createStackingContexts=function(){this.nodes.forEach(function(a){var c;if(c=M(a))(c=this.isRootElement(a)||1>a.getOpacity())||
(c=a.css("position"),c="auto"!==(-1!==["absolute","relative","fixed"].indexOf(c)?a.css("zIndex"):"auto")),c=c||this.isBodyWithTransparentRoot(a)||a.hasTransform();c?this.newStackingContext(a,!0):M(a)&&(I(a)&&x(a)||-1!==["inline-block","inline-table"].indexOf(a.css("display"))||G(a))?this.newStackingContext(a,!1):a.assignStack(a.parent.stack)},this)};a.prototype.isBodyWithTransparentRoot=function(a){return"BODY"===a.node.nodeName&&a.parent.color("backgroundColor").isTransparent()};a.prototype.isRootElement=
function(a){return null===a.parent};a.prototype.sortStackingContexts=function(a){a.contexts.sort(R(a.contexts.slice(0)));a.contexts.forEach(this.sortStackingContexts,this)};a.prototype.parseTextBounds=function(a){return function(c,d,f){if("none"!==a.parent.css("textDecoration").substr(0,4)||0!==c.trim().length){if(this.support.rangeBounds&&!a.parent.hasTransform())return d=f.slice(0,d).join("").length,this.getRangeBounds(a.node,d,c.length);if(a.node&&"string"===typeof a.node.data)return c=a.node.splitText(c.length),
d=this.getWrapperBounds(a.node,a.parent.hasTransform()),a.node=c,d}else if(!this.support.rangeBounds||a.parent.hasTransform())a.node=a.node.splitText(c.length);return{}}};a.prototype.getWrapperBounds=function(a,c){var d=a.ownerDocument.createElement("html2canvaswrapper"),f=a.parentNode,h=a.cloneNode(!0);d.appendChild(a.cloneNode(!0));f.replaceChild(d,a);a=c?Q(d):N(d);f.replaceChild(h,d);return a};a.prototype.getRangeBounds=function(a,c,d){var f=this.range||(this.range=a.ownerDocument.createRange());
f.setStart(a,c);f.setEnd(a,c+d);return f.getBoundingClientRect()};a.prototype.parse=function(a){var c=a.contexts.filter(u),d=a.children.filter(M),h=d.filter(P(G)),k=h.filter(P(I)).filter(P(B)),d=d.filter(P(I)).filter(G),l=h.filter(P(I)).filter(B),h=a.contexts.concat(h.filter(I)).filter(x),n=a.children.filter(O).filter(y);a=a.contexts.filter(v);c.concat(k).concat(d).concat(l).concat(h).concat(n).concat(a).forEach(function(a){this.renderQueue.push(a);a instanceof X&&(this.parse(a),this.renderQueue.push(new f))},
this)};a.prototype.paint=function(a){try{a instanceof f?this.renderer.ctx.restore():O(a)?(!0===a.parent.isPseudoElement&&a.parent.appendToDOM(),this.paintText(a),!0===a.parent.isPseudoElement&&a.parent.cleanDOM()):this.paintNode(a)}catch(ha){if(ja(ha),this.options.strict)throw ha;}};a.prototype.paintNode=function(a){a instanceof X&&(this.renderer.setOpacity(a.opacity),this.renderer.ctx.save(),a.hasTransform()&&this.renderer.setTransform(a.parseTransform()));"INPUT"===a.node.nodeName&&"checkbox"===
a.node.type?this.paintCheckbox(a):"INPUT"===a.node.nodeName&&"radio"===a.node.type?this.paintRadio(a):this.paintElement(a)};a.prototype.paintElement=function(a){var c=a.parseBounds();this.renderer.clip(a.backgroundClip,function(){this.renderer.renderBackground(a,c,a.borders.borders.map(K))},this);this.renderer.clip(a.clip,function(){this.renderer.renderBorders(a.borders.borders)},this);this.renderer.clip(a.backgroundClip,function(){switch(a.node.nodeName){case "svg":case "IFRAME":var d=this.images.get(a.node);
d?this.renderer.renderImage(a,c,a.borders,d):ja("Error loading \x3c"+a.node.nodeName+"\x3e",a.node);break;case "IMG":(d=this.images.get(a.node.src))?this.renderer.renderImage(a,c,a.borders,d):ja("Error loading \x3cimg\x3e",a.node.src);break;case "CANVAS":this.renderer.renderImage(a,c,a.borders,{image:a.node});break;case "SELECT":case "INPUT":case "TEXTAREA":this.paintFormValue(a)}},this)};a.prototype.paintCheckbox=function(a){var c=a.parseBounds(),d=Math.min(c.width,c.height),f={width:d-1,height:d-
1,top:c.top,left:c.left},c=[3,3],k=[c,c,c,c],l=[1,1,1,1].map(function(a){return{color:new U("#A5A5A5"),width:a}}),n=t(f,k,l);this.renderer.clip(a.backgroundClip,function(){this.renderer.rectangle(f.left+1,f.top+1,f.width-2,f.height-2,new U("#DEDEDE"));this.renderer.renderBorders(h(l,f,n,k));a.node.checked&&(this.renderer.font(new U("#424242"),"normal","normal","bold",d-3+"px","arial"),this.renderer.text("\u2714",f.left+d/6,f.top+d-1))},this)};a.prototype.paintRadio=function(a){var c=a.parseBounds(),
d=Math.min(c.width,c.height)-2;this.renderer.clip(a.backgroundClip,function(){this.renderer.circleStroke(c.left+1,c.top+1,d,new U("#DEDEDE"),1,new U("#A5A5A5"));a.node.checked&&this.renderer.circle(Math.ceil(c.left+d/4)+1,Math.ceil(c.top+d/4)+1,Math.floor(d/2),new U("#424242"))},this)};a.prototype.paintFormValue=function(a){var c=a.getValue();if(0<c.length){var d=a.node.ownerDocument,f=d.createElement("html2canvaswrapper");"lineHeight textAlign fontFamily fontWeight fontSize color paddingLeft paddingTop paddingRight paddingBottom width height borderLeftStyle borderTopStyle borderLeftWidth borderTopWidth boxSizing whiteSpace wordWrap".split(" ").forEach(function(c){try{f.style[c]=
a.css(c)}catch(ua){ja("html2canvas: Parse: Exception caught in renderFormValue: "+ua.message)}});var h=a.parseBounds();f.style.position="fixed";f.style.left=h.left+"px";f.style.top=h.top+"px";f.textContent=c;d.body.appendChild(f);this.paintText(new oa(f.firstChild,a));d.body.removeChild(f)}};a.prototype.paintText=function(a){a.applyTextTransform();var c=ia.ucs2.decode(a.node.data),d=this.options.letterRendering&&!/^(normal|none|0px)$/.test(a.parent.css("letterSpacing"))||/[^\u0000-\u00ff]/.test(a.node.data)?
c.map(function(a){return ia.ucs2.encode([a])}):Da(c),c=a.parent.fontWeight(),f=a.parent.css("fontSize"),h=a.parent.css("fontFamily"),k=a.parent.parseTextShadows();this.renderer.font(a.parent.color("color"),a.parent.css("fontStyle"),a.parent.css("fontVariant"),c,f,h);k.length?this.renderer.fontShadow(k[0].color,k[0].offsetX,k[0].offsetY,k[0].blur):this.renderer.clearShadow();this.renderer.clip(a.parent.clip,function(){d.map(this.parseTextBounds(a),this).forEach(function(c,k){c&&(this.renderer.text(d[k],
c.left,c.bottom),this.renderTextDecoration(a.parent,c,this.fontMetrics.getMetrics(h,f)))},this)},this)};a.prototype.renderTextDecoration=function(a,c,d){switch(a.css("textDecoration").split(" ")[0]){case "underline":this.renderer.rectangle(c.left,Math.round(c.top+d.baseline+d.lineWidth),c.width,1,a.color("color"));break;case "overline":this.renderer.rectangle(c.left,Math.round(c.top),c.width,1,a.color("color"));break;case "line-through":this.renderer.rectangle(c.left,Math.ceil(c.top+d.middle+d.lineWidth),
c.width,1,a.color("color"))}};var ga={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};a.prototype.parseBorders=function(a){var c=a.parseBounds(),d=z(a),f=["Top","Right","Bottom","Left"].map(function(c,d){var f=a.css("border"+c+"Style"),h=a.color("border"+c+"Color");"inset"===f&&h.isBlack()&&(h=new U([255,255,255,h.a]));d=ga[f]?ga[f][d]:null;return{width:a.cssInt("border"+c+"Width"),color:d?h[d[0]](d[1]):h,args:null}}),k=t(c,d,f);return{clip:this.parseBackgroundClip(a,k,f,d,c),borders:h(f,
c,k,d)}};a.prototype.parseBackgroundClip=function(a,c,d,f,h){var k=[];switch(a.css("backgroundClip")){case "content-box":case "padding-box":p(k,f[0],f[1],c.topLeftInner,c.topRightInner,h.left+d[3].width,h.top+d[0].width);p(k,f[1],f[2],c.topRightInner,c.bottomRightInner,h.left+h.width-d[1].width,h.top+d[0].width);p(k,f[2],f[3],c.bottomRightInner,c.bottomLeftInner,h.left+h.width-d[1].width,h.top+h.height-d[2].width);p(k,f[3],f[0],c.bottomLeftInner,c.topLeftInner,h.left+d[3].width,h.top+h.height-d[2].width);
break;default:p(k,f[0],f[1],c.topLeftOuter,c.topRightOuter,h.left,h.top),p(k,f[1],f[2],c.topRightOuter,c.bottomRightOuter,h.left+h.width,h.top),p(k,f[2],f[3],c.bottomRightOuter,c.bottomLeftOuter,h.left+h.width,h.top+h.height),p(k,f[3],f[0],c.bottomLeftOuter,c.topLeftOuter,h.left,h.top+h.height)}return k};l.exports=a},{"./color":3,"./fontmetrics":7,"./log":13,"./nodecontainer":14,"./pseudoelementcontainer":18,"./stackingcontext":21,"./textcontainer":25,"./utils":26,punycode:1}],16:[function(c,l,k){function a(a,
c,d){var k="withCredentials"in new XMLHttpRequest;if(!c)return Promise.reject("No proxy configured");var l=f(k);a=h(c,a,l);return k?t(a):n(d,a,l).then(function(a){return p(a.content)})}function n(a,c,d){return new Promise(function(f,h){var k=a.createElement("script"),l=function(){delete window.html2canvas.proxy[d];a.body.removeChild(k)};window.html2canvas.proxy[d]=function(a){l();f(a)};k.src=c;k.onerror=function(a){l();h(a)};a.body.appendChild(k)})}function f(a){return a?"":"html2canvas_"+Date.now()+
"_"+ ++u+"_"+Math.round(1E5*Math.random())}function h(a,c,d){return a+"?url\x3d"+encodeURIComponent(c)+(d.length?"\x26callback\x3dhtml2canvas.proxy."+d:"")}function m(a){return function(c){var f=new DOMParser,h;try{h=f.parseFromString(c,"text/html")}catch(na){d("DOMParser not supported, falling back to createHTMLDocument");h=document.implementation.createHTMLDocument("");try{h.open(),h.write(c),h.close()}catch(Z){d("createHTMLDocument write not supported, falling back to document.body.innerHTML"),
h.body.innerHTML=c}}c=h.querySelector("base");c&&c.href.host||(c=h.createElement("base"),c.href=a,h.head.insertBefore(c,h.head.firstChild));return h}}var t=c("./xhr");l=c("./utils");var d=c("./log"),q=c("./clone"),p=l.decode64,u=0;k.Proxy=a;k.ProxyURL=function(a,c,d){var k="crossOrigin"in new Image,l=f(k);a=h(c,a,l);return k?Promise.resolve(a):n(d,a,l).then(function(a){return"data:"+a.type+";base64,"+a.content})};k.loadUrlDocument=function(c,d,f,h,k,l){return(new a(c,d,window.document)).then(m(c)).then(function(a){return q(a,
f,h,k,l,0,0)})}},{"./clone":2,"./log":13,"./utils":26,"./xhr":28}],17:[function(c,l,k){var a=c("./proxy").ProxyURL;l.exports=function(c,f){var h=document.createElement("a");h.href=c;this.src=c=h.href;this.image=new Image;var k=this;this.promise=new Promise(function(h,d){k.image.crossOrigin="Anonymous";k.image.onload=h;k.image.onerror=d;(new a(c,f,document)).then(function(a){k.image.src=a})["catch"](d)})}},{"./proxy":16}],18:[function(c,l,k){function a(a,c,k){n.call(this,a,c);this.isPseudoElement=
!0;this.before=":before"===k}var n=c("./nodecontainer");a.prototype.cloneTo=function(c){a.prototype.cloneTo.call(this,c);c.isPseudoElement=!0;c.before=this.before};a.prototype=Object.create(n.prototype);a.prototype.appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node);this.parent.node.className+=" "+this.getHideClass()};a.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node);this.parent.node.className=
this.parent.node.className.replace(this.getHideClass(),"")};a.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]};a.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before";a.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after";l.exports=a},{"./nodecontainer":14}],19:[function(c,l,k){function a(a,c,k,l,d){this.width=a;this.height=c;this.images=k;this.options=l;this.document=d}var n=c("./log");
a.prototype.renderImage=function(a,c,k,l){var d=a.cssInt("paddingLeft"),f=a.cssInt("paddingTop"),h=a.cssInt("paddingRight");a=a.cssInt("paddingBottom");k=k.borders;h=c.width-(k[1].width+k[3].width+d+h);a=c.height-(k[0].width+k[2].width+f+a);this.drawImage(l,0,0,l.image.width||h,l.image.height||a,c.left+d+k[3].width,c.top+f+k[0].width,h,a)};a.prototype.renderBackground=function(a,c,k){0<c.height&&0<c.width&&(this.renderBackgroundColor(a,c),this.renderBackgroundImage(a,c,k))};a.prototype.renderBackgroundColor=
function(a,c){a=a.color("backgroundColor");a.isTransparent()||this.rectangle(c.left,c.top,c.width,c.height,a)};a.prototype.renderBorders=function(a){a.forEach(this.renderBorder,this)};a.prototype.renderBorder=function(a){a.color.isTransparent()||null===a.args||this.drawShape(a.args,a.color)};a.prototype.renderBackgroundImage=function(a,c,k){a.parseBackgroundImages().reverse().forEach(function(f,d,h){switch(f.method){case "url":var l=this.images.get(f.args[0]);l?this.renderBackgroundRepeating(a,c,
l,h.length-(d+1),k):n("Error loading background-image",f.args[0]);break;case "linear-gradient":case "gradient":(d=this.images.get(f.value))?this.renderBackgroundGradient(d,c,k):n("Error loading background-image",f.args[0]);break;case "none":break;default:n("Unknown background-image type",f.args[0])}},this)};a.prototype.renderBackgroundRepeating=function(a,c,k,l,d){var f=a.parseBackgroundSize(c,k.image,l),h=a.parseBackgroundPosition(c,k.image,l,f);switch(a.parseBackgroundRepeat(l)){case "repeat-x":case "repeat no-repeat":this.backgroundRepeatShape(k,
h,f,c,c.left+d[3],c.top+h.top+d[0],99999,f.height,d);break;case "repeat-y":case "no-repeat repeat":this.backgroundRepeatShape(k,h,f,c,c.left+h.left+d[3],c.top+d[0],f.width,99999,d);break;case "no-repeat":this.backgroundRepeatShape(k,h,f,c,c.left+h.left+d[3],c.top+h.top+d[0],f.width,f.height,d);break;default:this.renderBackgroundRepeat(k,h,f,{top:c.top,left:c.left},d[3],d[0])}};l.exports=a},{"./log":13}],20:[function(c,l,k){function a(a,c){f.apply(this,arguments);this.canvas=this.options.canvas||this.document.createElement("canvas");
this.options.canvas||(this.canvas.width=a,this.canvas.height=c);this.ctx=this.canvas.getContext("2d");this.taintCtx=this.document.createElement("canvas").getContext("2d");this.ctx.textBaseline="bottom";this.variables={};m("Initialized CanvasRenderer with size",a,"x",c)}function n(a){return 0<a.length}var f=c("../renderer"),h=c("../lineargradientcontainer"),m=c("../log");a.prototype=Object.create(f.prototype);a.prototype.setFillStyle=function(a){this.ctx.fillStyle="object"===typeof a&&a.isColor?a.toString():
a;return this.ctx};a.prototype.rectangle=function(a,c,f,h,k){this.setFillStyle(k).fillRect(a,c,f,h)};a.prototype.circle=function(a,c,f,h){this.setFillStyle(h);this.ctx.beginPath();this.ctx.arc(a+f/2,c+f/2,f/2,0,2*Math.PI,!0);this.ctx.closePath();this.ctx.fill()};a.prototype.circleStroke=function(a,c,f,h,k,l){this.circle(a,c,f,h);this.ctx.strokeStyle=l.toString();this.ctx.stroke()};a.prototype.drawShape=function(a,c){this.shape(a);this.setFillStyle(c).fill()};a.prototype.taints=function(a){if(null===
a.tainted){this.taintCtx.drawImage(a.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),a.tainted=!1}catch(d){this.taintCtx=document.createElement("canvas").getContext("2d"),a.tainted=!0}}return a.tainted};a.prototype.drawImage=function(a,c,f,h,k,l,n,m,w){this.taints(a)&&!this.options.allowTaint||this.ctx.drawImage(a.image,c,f,h,k,l,n,m,w)};a.prototype.clip=function(a,c,f){this.ctx.save();a.filter(n).forEach(function(a){this.shape(a).clip()},this);c.call(f);this.ctx.restore()};a.prototype.shape=function(a){this.ctx.beginPath();
a.forEach(function(a,c){"rect"===a[0]?this.ctx.rect.apply(this.ctx,a.slice(1)):this.ctx[0===c?"moveTo":a[0]+"To"].apply(this.ctx,a.slice(1))},this);this.ctx.closePath();return this.ctx};a.prototype.font=function(a,c,f,h,k,l){this.setFillStyle(a).font=[c,f,h,k,l].join(" ").split(",")[0]};a.prototype.fontShadow=function(a,c,f,h){this.setVariable("shadowColor",a.toString()).setVariable("shadowOffsetY",c).setVariable("shadowOffsetX",f).setVariable("shadowBlur",h)};a.prototype.clearShadow=function(){this.setVariable("shadowColor",
"rgba(0,0,0,0)")};a.prototype.setOpacity=function(a){this.ctx.globalAlpha=a};a.prototype.setTransform=function(a){this.ctx.translate(a.origin[0],a.origin[1]);this.ctx.transform.apply(this.ctx,a.matrix);this.ctx.translate(-a.origin[0],-a.origin[1])};a.prototype.setVariable=function(a,c){this.variables[a]!==c&&(this.variables[a]=this.ctx[a]=c);return this};a.prototype.text=function(a,c,f){this.ctx.fillText(a,c,f)};a.prototype.backgroundRepeatShape=function(a,c,f,h,k,l,n,m,w){this.clip([[["line",Math.round(k),
Math.round(l)],["line",Math.round(k+n),Math.round(l)],["line",Math.round(k+n),Math.round(m+l)],["line",Math.round(k),Math.round(m+l)]]],function(){this.renderBackgroundRepeat(a,c,f,h,w[3],w[0])},this)};a.prototype.renderBackgroundRepeat=function(a,c,f,h,k,l){k=Math.round(h.left+c.left+k);c=Math.round(h.top+c.top+l);this.setFillStyle(this.ctx.createPattern(this.resizeImage(a,f),"repeat"));this.ctx.translate(k,c);this.ctx.fill();this.ctx.translate(-k,-c)};a.prototype.renderBackgroundGradient=function(a,
c){if(a instanceof h){var d=this.ctx.createLinearGradient(c.left+c.width*a.x0,c.top+c.height*a.y0,c.left+c.width*a.x1,c.top+c.height*a.y1);a.colorStops.forEach(function(a){d.addColorStop(a.stop,a.color.toString())});this.rectangle(c.left,c.top,c.width,c.height,d)}};a.prototype.resizeImage=function(a,c){a=a.image;if(a.width===c.width&&a.height===c.height)return a;var d=document.createElement("canvas");d.width=c.width;d.height=c.height;d.getContext("2d").drawImage(a,0,0,a.width,a.height,0,0,c.width,
c.height);return d};l.exports=a},{"../lineargradientcontainer":12,"../log":13,"../renderer":19}],21:[function(c,l,k){function a(a,c,k,l){n.call(this,k,l);this.ownStacking=a;this.contexts=[];this.children=[];this.opacity=(this.parent?this.parent.stack.opacity:1)*c}var n=c("./nodecontainer");a.prototype=Object.create(n.prototype);a.prototype.getParentStack=function(a){var c=this.parent?this.parent.stack:null;return c?c.ownStacking?c:c.getParentStack(a):a.stack};l.exports=a},{"./nodecontainer":14}],
22:[function(c,l,k){function a(a){this.rangeBounds=this.testRangeBounds(a);this.cors=this.testCORS();this.svg=this.testSVG()}a.prototype.testRangeBounds=function(a){var c,h,k=!1;a.createRange&&(c=a.createRange(),c.getBoundingClientRect&&(h=a.createElement("boundtest"),h.style.height="123px",h.style.display="block",a.body.appendChild(h),c.selectNode(h),c=c.getBoundingClientRect(),c=c.height,123===c&&(k=!0),a.body.removeChild(h)));return k};a.prototype.testCORS=function(){return"undefined"!==typeof(new Image).crossOrigin};
a.prototype.testSVG=function(){var a=new Image,c=document.createElement("canvas"),h=c.getContext("2d");a.src="data:image/svg+xml,\x3csvg xmlns\x3d'http://www.w3.org/2000/svg'\x3e\x3c/svg\x3e";try{h.drawImage(a,0,0),c.toDataURL()}catch(w){return!1}return!0};l.exports=a},{}],23:[function(c,l,k){function a(a){this.src=a;this.image=null;var c=this;this.promise=this.hasFabric().then(function(){return c.isInline(a)?Promise.resolve(c.inlineFormatting(a)):n(a)}).then(function(a){return new Promise(function(d){window.html2canvas.svg.fabric.loadSVGFromString(a,
c.createCanvas.call(c,d))})})}var n=c("./xhr"),f=c("./utils").decode64;a.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?Promise.resolve():Promise.reject(Error("html2canvas.svg.js is not loaded, cannot render svg"))};a.prototype.inlineFormatting=function(a){return/^data:image\/svg\+xml;base64,/.test(a)?this.decode64(this.removeContentType(a)):this.removeContentType(a)};a.prototype.removeContentType=function(a){return a.replace(/^data:image\/svg\+xml(;base64)?,/,
"")};a.prototype.isInline=function(a){return/^data:image\/svg\+xml/i.test(a)};a.prototype.createCanvas=function(a){var c=this;return function(f,d){var h=new window.html2canvas.svg.fabric.StaticCanvas("c");c.image=h.lowerCanvasEl;h.setWidth(d.width).setHeight(d.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(f,d)).renderAll();a(h.lowerCanvasEl)}};a.prototype.decode64=function(a){return"function"===typeof window.atob?window.atob(a):f(a)};l.exports=a},{"./utils":26,"./xhr":28}],24:[function(c,
l,k){function a(a,c){this.src=a;this.image=null;var f=this;this.promise=c?new Promise(function(c,h){f.image=new Image;f.image.onload=c;f.image.onerror=h;f.image.src="data:image/svg+xml,"+(new XMLSerializer).serializeToString(a);!0===f.image.complete&&c(f.image)}):this.hasFabric().then(function(){return new Promise(function(c){window.html2canvas.svg.fabric.parseSVGDocument(a,f.createCanvas.call(f,c))})})}c=c("./svgcontainer");a.prototype=Object.create(c.prototype);l.exports=a},{"./svgcontainer":23}],
25:[function(c,l,k){function a(a,c){f.call(this,a,c)}function n(a,c,f){if(0<a.length)return c+f.toUpperCase()}var f=c("./nodecontainer");a.prototype=Object.create(f.prototype);a.prototype.applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))};a.prototype.transform=function(a){var c=this.node.data;switch(a){case "lowercase":return c.toLowerCase();case "capitalize":return c.replace(/(^|\s|:|-|\(|\))([a-z])/g,n);case "uppercase":return c.toUpperCase();default:return c}};
l.exports=a},{"./nodecontainer":14}],26:[function(c,l,k){k.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"};k.bind=function(a,c){return function(){return a.apply(c,arguments)}};k.decode64=function(a){var c=a.length,f,h,k,l,d,m,p="";for(f=0;f<c;f+=4)h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[f]),k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[f+1]),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[f+
2]),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[f+3]),h=h<<2|k>>4,k=(k&15)<<4|l>>2,m=(l&3)<<6|d,p=64===l?p+String.fromCharCode(h):64===d||-1===d?p+String.fromCharCode(h,k):p+String.fromCharCode(h,k,m);return p};k.getBounds=function(a){if(a.getBoundingClientRect){var c=a.getBoundingClientRect(),f=null==a.offsetWidth?c.width:a.offsetWidth;return{top:c.top,bottom:c.bottom||c.top+c.height,right:c.left+f,left:c.left,width:f,height:null==a.offsetHeight?c.height:a.offsetHeight}}return{}};
k.offsetBounds=function(a){var c=a.offsetParent?k.offsetBounds(a.offsetParent):{top:0,left:0};return{top:a.offsetTop+c.top,bottom:a.offsetTop+a.offsetHeight+c.top,right:a.offsetLeft+c.left+a.offsetWidth,left:a.offsetLeft+c.left,width:a.offsetWidth,height:a.offsetHeight}};k.parseBackgrounds=function(a){var c,f,h,k,l,d=[],m=0,p=0,u,v,x=function(){c&&('"'===f.substr(0,1)&&(f=f.substr(1,f.length-2)),f&&v.push(f),"-"===c.substr(0,1)&&0<(k=c.indexOf("-",1)+1)&&(h=c.substr(0,k),c=c.substr(k)),d.push({prefix:h,
method:c.toLowerCase(),value:l,args:v,image:null}));v=[];c=h=f=l=""};v=[];c=h=f=l="";a.split("").forEach(function(a){if(!(0===m&&-1<" \r\n\t".indexOf(a))){switch(a){case '"':u?u===a&&(u=null):u=a;break;case "(":if(!u){if(0===m){m=1;l+=a;return}p++}break;case ")":if(!u&&1===m){if(0===p){m=0;l+=a;x();return}p--}break;case ",":if(!u){if(0===m){x();return}if(1===m&&0===p&&!c.match(/^url$/i)){v.push(f);f="";l+=a;return}}}l+=a;0===m?c+=a:f+=a}});x();return d}},{}],27:[function(c,l,k){function a(a){n.apply(this,
arguments);this.type="linear"===a.args[0]?n.TYPES.LINEAR:n.TYPES.RADIAL}var n=c("./gradientcontainer");a.prototype=Object.create(n.prototype);l.exports=a},{"./gradientcontainer":9}],28:[function(c,l,k){l.exports=function(a){return new Promise(function(c,f){var h=new XMLHttpRequest;h.open("GET",a);h.onload=function(){200===h.status?c(h.responseText):f(Error(h.statusText))};h.onerror=function(){f(Error("Network Error"))};h.send()})}},{}]},{},[4])(4)}();!0;(function(e){var c;c=function(){function c(a){var c,
f,e,d;this.data=a;this.pos=8;this.palette=[];this.imgData=[];this.transparency={};this.animation=null;this.text={};for(e=null;;){c=this.readUInt32();d=a=void 0;d=[];for(a=0;4>a;++a)d.push(String.fromCharCode(this.data[this.pos++]));a=d.join("");switch(a){case "IHDR":this.width=this.readUInt32();this.height=this.readUInt32();this.bits=this.data[this.pos++];this.colorType=this.data[this.pos++];this.compressionMethod=this.data[this.pos++];this.filterMethod=this.data[this.pos++];this.interlaceMethod=
this.data[this.pos++];break;case "acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||Infinity,frames:[]};break;case "PLTE":this.palette=this.read(c);break;case "fcTL":e&&this.animation.frames.push(e);this.pos+=4;e={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()};a=this.readUInt16();c=this.readUInt16()||100;e.delay=1E3*a/c;e.disposeOp=this.data[this.pos++];e.blendOp=this.data[this.pos++];e.data=[];break;case "IDAT":case "fdAT":"fdAT"===
a&&(this.pos+=4,c-=4);a=(null!=e?e.data:void 0)||this.imgData;for(d=0;0<=c?d<c:d>c;0<=c?++d:--d)a.push(this.data[this.pos++]);break;case "tRNS":this.transparency={};switch(this.colorType){case 3:a=this.palette.length/3;this.transparency.indexed=this.read(c);if(this.transparency.indexed.length>a)throw Error("More transparent colors than palette size");c=a-this.transparency.indexed.length;if(0<c)for(a=0;0<=c?a<c:a>c;0<=c?++a:--a)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=
this.read(c)[0];break;case 2:this.transparency.rgb=this.read(c)}break;case "tEXt":d=this.read(c);c=d.indexOf(0);a=String.fromCharCode.apply(String,d.slice(0,c));this.text[a]=String.fromCharCode.apply(String,d.slice(c+1));break;case "IEND":e&&this.animation.frames.push(e);a:{switch(this.colorType){case 0:case 3:case 4:e=1;break a;case 2:case 6:e=3;break a}e=void 0}this.colors=e;this.hasAlphaChannel=4===(f=this.colorType)||6===f;f=this.colors+(this.hasAlphaChannel?1:0);this.pixelBitlength=this.bits*
f;a:{switch(this.colors){case 1:f="DeviceGray";break a;case 3:f="DeviceRGB";break a}f=void 0}this.colorSpace=f;this.imgData=new Uint8Array(this.imgData);return;default:this.pos+=c}this.pos+=4;if(this.pos>this.data.length)throw Error("Incomplete or corrupt PNG file");}}var k,a,n;c.load=function(a,e,k){var f;"function"===typeof e&&(k=e);f=new XMLHttpRequest;f.open("GET",a,!0);f.responseType="arraybuffer";f.onload=function(){var a;a=new Uint8Array(f.response||f.mozResponseArrayBuffer);a=new c(a);"function"===
typeof(null!=e?e.getContext:void 0)&&a.render(e);return"function"===typeof k?k(a):void 0};return f.send(null)};c.prototype.read=function(a){var c,f;f=[];for(c=0;0<=a?c<a:c>a;0<=a?++c:--c)f.push(this.data[this.pos++]);return f};c.prototype.readUInt32=function(){var a,c,e,k;a=this.data[this.pos++]<<24;c=this.data[this.pos++]<<16;e=this.data[this.pos++]<<8;k=this.data[this.pos++];return a|c|e|k};c.prototype.readUInt16=function(){var a,c;a=this.data[this.pos++]<<8;c=this.data[this.pos++];return a|c};
c.prototype.decodePixels=function(a){var c,f,e,d,k,l,n,m,p,u,v,x,y,z,A;null==a&&(a=this.imgData);if(0===a.length)return new Uint8Array(0);a=new B(a);a=a.getBytes();m=this.pixelBitlength/8;x=m*this.width;p=new Uint8Array(x*this.height);l=a.length;for(f=u=v=0;u<l;){switch(a[u++]){case 0:for(d=c=0;c<x;d=c+=1)p[f++]=a[u++];break;case 1:for(d=y=0;y<x;d=y+=1)c=a[u++],k=d<m?0:p[f-m],p[f++]=(c+k)%256;break;case 2:for(d=k=0;k<x;d=k+=1)c=a[u++],e=(d-d%m)/m,y=v&&p[(v-1)*x+e*m+d%m],p[f++]=(y+c)%256;break;case 3:for(d=
A=0;A<x;d=A+=1)c=a[u++],e=(d-d%m)/m,k=d<m?0:p[f-m],y=v&&p[(v-1)*x+e*m+d%m],p[f++]=(c+Math.floor((k+y)/2))%256;break;case 4:for(d=A=0;A<x;d=A+=1)c=a[u++],e=(d-d%m)/m,k=d<m?0:p[f-m],0===v?y=z=0:(y=p[(v-1)*x+e*m+d%m],z=e&&p[(v-1)*x+(e-1)*m+d%m]),n=k+y-z,d=Math.abs(n-k),e=Math.abs(n-y),n=Math.abs(n-z),k=d<=e&&d<=n?k:e<=n?y:z,p[f++]=(c+k)%256;break;default:throw Error("Invalid filter algorithm: "+a[u-1]);}v++}return p};c.prototype.decodePalette=function(){var a,c,e,k,d,l,n,m,p;e=this.palette;l=this.transparency.indexed||
[];d=new Uint8Array((l.length||0)+e.length);c=n=a=k=0;for(m=e.length;n<m;c=n+=3)d[k++]=e[c],d[k++]=e[c+1],d[k++]=e[c+2],d[k++]=null!=(p=l[a++])?p:255;return d};c.prototype.copyToImageData=function(a,c){var f,e,d,h,k,l,n;e=this.colors;n=null;f=this.hasAlphaChannel;this.palette.length&&(n=null!=(d=this._decodedPalette)?d:this._decodedPalette=this.decodePalette(),e=4,f=!0);a=a.data||a;l=a.length;h=n||c;d=k=0;if(1===e)for(;d<l;)e=n?4*c[d/4]:k,k=h[e++],a[d++]=k,a[d++]=k,a[d++]=k,a[d++]=f?h[e++]:255,k=
e;else for(;d<l;)e=n?4*c[d/4]:k,a[d++]=h[e++],a[d++]=h[e++],a[d++]=h[e++],a[d++]=f?h[e++]:255,k=e};c.prototype.decode=function(){var a;a=new Uint8Array(this.width*this.height*4);this.copyToImageData(a,this.decodePixels());return a};try{a=e.document.createElement("canvas"),n=a.getContext("2d")}catch(f){return-1}k=function(c){n.width=c.width;n.height=c.height;n.clearRect(0,0,c.width,c.height);n.putImageData(c,0,0);c=new Image;c.src=a.toDataURL();return c};c.prototype.decodeFrames=function(a){var c,
f,e,d,l,n,m;if(this.animation){n=this.animation.frames;m=[];c=d=0;for(l=n.length;d<l;c=++d)c=n[c],f=a.createImageData(c.width,c.height),e=this.decodePixels(new Uint8Array(c.data)),this.copyToImageData(f,e),c.imageData=f,m.push(c.image=k(f));return m}};c.prototype.renderFrame=function(a,c){var e,f;f=this.animation.frames;e=f[c];f=f[c-1];0===c&&a.clearRect(0,0,this.width,this.height);1===(null!=f?f.disposeOp:void 0)?a.clearRect(f.xOffset,f.yOffset,f.width,f.height):2===(null!=f?f.disposeOp:void 0)&&
a.putImageData(f.imageData,f.xOffset,f.yOffset);0===e.blendOp&&a.clearRect(e.xOffset,e.yOffset,e.width,e.height);return a.drawImage(e.image,e.xOffset,e.yOffset)};c.prototype.animate=function(a){var c,f,e,d,k,l,n=this;f=0;l=this.animation;d=l.numFrames;e=l.frames;k=l.numPlays;return(c=function(){var h,l;h=f++%d;l=e[h];n.renderFrame(a,h);if(1<d&&f/d<k)return n.animation._timeout=setTimeout(c,l.delay)})()};c.prototype.stopAnimation=function(){var a;return clearTimeout(null!=(a=this.animation)?a._timeout:
void 0)};c.prototype.render=function(a){var c;a._png&&a._png.stopAnimation();a._png=this;a.width=this.width;a.height=this.height;a=a.getContext("2d");if(this.animation)return this.decodeFrames(a),this.animate(a);c=a.createImageData(this.width,this.height);this.copyToImageData(c,this.decodePixels());return a.putImageData(c,0,0)};return c}();e.AcroForm.PNG=c})("undefined"!==typeof window&&window||void 0);var z=function(){function e(){this.bufferLength=this.pos=0;this.eof=!1;this.buffer=null}e.prototype=
{ensureBuffer:function(c){var e=this.buffer,k=e?e.byteLength:0;if(c<k)return e;for(var a=512;a<c;)a<<=1;c=new Uint8Array(a);for(a=0;a<k;++a)c[a]=e[a];return this.buffer=c},getByte:function(){for(var c=this.pos;this.bufferLength<=c;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(c){var e=this.pos;if(c){this.ensureBuffer(e+c);for(c=e+c;!this.eof&&this.bufferLength<c;)this.readBlock();var k=this.bufferLength;c>k&&(c=k)}else{for(;!this.eof;)this.readBlock();
c=this.bufferLength}this.pos=c;return this.buffer.subarray(e,c)},lookChar:function(){for(var c=this.pos;this.bufferLength<=c;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var c=this.pos;this.bufferLength<=c;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(c,e,k){for(var a=c+e;this.bufferLength<=a&&!this.eof;)this.readBlock();return new Stream(this.buffer,c,e,
k)},skip:function(c){c||(c=1);this.pos+=c},reset:function(){this.pos=0}};return e}(),B=function(){function e(a){throw Error(a);}function c(a){var c=0,f=a[c++],d=a[c++];-1!=f&&-1!=d||e("Invalid header in flate stream");8!=(f&15)&&e("Unknown compression method in flate stream");0!=((f<<8)+d)%31&&e("Bad FCHECK in flate stream");d&32&&e("FDICT bit set in flate stream");this.bytes=a;this.bytesPos=c;this.codeBuf=this.codeSize=0;z.call(this)}if("undefined"!==typeof Uint32Array){var l=new Uint32Array([16,
17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),k=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),a=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),n=[new Uint32Array([459008,524368,524304,524568,459024,524400,
524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59E4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,
524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,
524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,
524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,
524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,
524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,
524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,
524367,590079]),9],f=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];c.prototype=Object.create(z.prototype);c.prototype.getBits=function(a){for(var c=this.codeSize,f=this.codeBuf,d=this.bytes,h=this.bytesPos,k;c<a;)"undefined"==typeof(k=d[h++])&&e("Bad encoding in flate stream"),f|=k<<c,c+=8;this.codeBuf=f>>a;this.codeSize=
c-=a;this.bytesPos=h;return f&(1<<a)-1};c.prototype.getCode=function(a){var c=a[0],f=a[1];a=this.codeSize;for(var d=this.codeBuf,h=this.bytes,k=this.bytesPos;a<f;){var l;"undefined"==typeof(l=h[k++])&&e("Bad encoding in flate stream");d|=l<<a;a+=8}f=c[d&(1<<f)-1];c=f>>16;f&=65535;(0==a||a<c||0==c)&&e("Bad encoding in flate stream");this.codeBuf=d>>c;this.codeSize=a-c;this.bytesPos=k;return f};c.prototype.generateHuffmanTable=function(a){for(var c=a.length,e=0,d=0;d<c;++d)a[d]>e&&(e=a[d]);for(var f=
1<<e,h=new Uint32Array(f),k=1,l=0,n=2;k<=e;++k,l<<=1,n<<=1)for(var m=0;m<c;++m)if(a[m]==k){for(var p=0,u=l,d=0;d<k;++d)p=p<<1|u&1,u>>=1;for(d=p;d<f;d+=n)h[d]=k<<16|m;++l}return[h,e]};c.prototype.readBlock=function(){function c(a,c,d,e,f){for(a=a.getBits(d)+e;0<a--;)c[x++]=f}var m=this.getBits(3);m&1&&(this.eof=!0);m>>=1;if(0==m){var p=this.bytes,d=this.bytesPos,q;"undefined"==typeof(q=p[d++])&&e("Bad block header in flate stream");var u=q;"undefined"==typeof(q=p[d++])&&e("Bad block header in flate stream");
u|=q<<8;"undefined"==typeof(q=p[d++])&&e("Bad block header in flate stream");m=q;"undefined"==typeof(q=p[d++])&&e("Bad block header in flate stream");(m|q<<8)!=(~u&65535)&&e("Bad uncompressed block length in flate stream");this.codeSize=this.codeBuf=0;q=this.bufferLength;m=this.ensureBuffer(q+u);this.bufferLength=u=q+u;for(var v=q;v<u;++v){if("undefined"==typeof(q=p[d++])){this.eof=!0;break}m[v]=q}this.bytesPos=d}else{if(1==m)d=n,q=f;else if(2==m){m=this.getBits(5)+257;q=this.getBits(5)+1;for(var p=
this.getBits(4)+4,d=Array(l.length),x=0;x<p;)d[l[x++]]=this.getBits(3);d=this.generateHuffmanTable(d);x=p=0;q=m+q;for(u=Array(q);x<q;)v=this.getCode(d),16==v?c(this,u,2,3,p):17==v?c(this,u,3,3,p=0):18==v?c(this,u,7,11,p=0):u[x++]=p=v;d=this.generateHuffmanTable(u.slice(0,m));q=this.generateHuffmanTable(u.slice(m,q))}else e("Unknown block type in flate stream");u=(m=this.buffer)?m.length:0;for(v=this.bufferLength;;){var y=this.getCode(d);if(256>y)v+1>=u&&(m=this.ensureBuffer(v+1),u=m.length),m[v++]=
y;else{if(256==y){this.bufferLength=v;break}var y=y-257,y=k[y],B=y>>16;0<B&&(B=this.getBits(B));p=(y&65535)+B;y=this.getCode(q);y=a[y];B=y>>16;0<B&&(B=this.getBits(B));y=(y&65535)+B;v+p>=u&&(m=this.ensureBuffer(v+p),u=m.length);for(B=0;B<p;++B,++v)m[v]=m[v-y]}}}};return c}}();String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/,"")});String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s\s*$/,"")});return p}})})},"widgets/PublicNotification/Download_CSV":function(){define(["dojo/_base/array",
"dojo/_base/declare","dojo/Deferred"],function(A,z,u){return z(null,{save:function(x,v){var p=new u;x=A.map(x,function(m){return'"'+m.join('","')+'"\n'});v=this._createAndSaveCSV(x,v);p.resolve(v);return p},_createAndSaveCSV:function(u,v){u=new Blob(u,{type:"text/csv"});if(v)if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(u,v+".csv");else{var p=window.document.createElement("a");p.href=window.URL.createObjectURL(u);p.download=v+".csv";document.body.appendChild(p);p.click();document.body.removeChild(p);
window.URL.revokeObjectURL(u)}return u}})})},"widgets/PublicNotification/Highlighter":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/Deferred esri/graphic esri/symbols/SimpleFillSymbol esri/symbols/SimpleLineSymbol esri/symbols/SimpleMarkerSymbol".split(" "),function(A,z,u,x,v,p,m,y){return z([],{constructor:function(m){this._drawingChunkSize="number"===typeof m?m:100},createGraphic:function(u,x){function B(a,c){var e;a.getLayer&&(e=a.getLayer())&&(a=a.getLayer()._getSymbol(a),
!a||isNaN(a.width)||isNaN(a.height)||(c=1+Math.max(a.width,a.height)));return c}var e,c,l=null,k=10;if(u)if(u.geometry)c=u.geometry,e=c.type;else if(c=u,c.hasOwnProperty("x")&&c.hasOwnProperty("y"))e="point";else if(c.hasOwnProperty("paths"))e="polyline";else if(c.hasOwnProperty("rings"))e="polygon";else if(c.hasOwnProperty("points"))e="multipoint";else return null;else return null;switch(e){case "point":if(isNaN(c.x)||isNaN(c.y))return null;k=B(u,k);l=new v(c,new y(y.STYLE_SQUARE,k,new m(m.STYLE_SOLID,
x.point.lineColor,x.point.lineWidth),x.point.fillColor));break;case "polyline":l=new v(c,new m(m.STYLE_SOLID,x.line.lineColor,x.line.lineWidth));break;case "polygon":l=new v(c,new p(p.STYLE_SOLID,new m(m.STYLE_SOLID,x.polygon.lineColor,x.polygon.lineWidth),x.polygon.fillColor));break;case "multipoint":k=B(u,k),l=new v(c,new y(y.STYLE_SQUARE,k,new m(m.STYLE_SOLID,x.point.lineColor,x.point.lineWidth),x.point.fillColor))}return l},highlightFeatures:function(m,p,v,e,c){var l,k=new x;0<m.length?m.length<=
this._drawingChunkSize?this._highlightFeatures(m,p,v,e).then(function(){k.resolve(!0)}):(c(0),l=Math.ceil(m.length/this._drawingChunkSize),setTimeout(u.hitch(this,function(){this._highlightFeaturesContinuation(m,p,v,e,c,this._drawingChunkSize,l,0,0).then(function(){k.resolve(!0)})}),50)):k.resolve(!0);return k},_highlightFeaturesContinuation:function(m,p,v,e,c,l,k,a,n){var f,h=new x;if(n>=m.length)return h.resolve(!0),h;f=Math.min(n+l,m.length);this._highlightFeatures(m.slice(n,f),p,v,e).then(u.hitch(this,
function(){++a;c(100*a/k);setTimeout(u.hitch(this,function(){this._highlightFeaturesContinuation(m,p,v,e,c,this._drawingChunkSize,k,a,f).then(function(){h.resolve(!0)})}),10)}));return h},_highlightFeatures:function(m,p,u,e){var c=new x;A.forEach(m,function(c){p(c,u,e)},this);c.resolve(!0);return c}})})},"widgets/PublicNotification/labelFormatUtils":function(){define("dojo/_base/array dojo/_base/kernel dojo/_base/lang dojo/Deferred dojo/promise/all esri/arcade/arcade esri/arcade/Feature esri/support/expressionUtils esri/arcadeProfiles/utils esri/graphic ./generalUtils".split(" "),
function(A,z,u,x,v,p,m,y,P,I,B){var e={convertPopupToLabelSpec:function(c){var l=[],k,a,m;k=c.description;a=c.fieldInfos;m=c.expressionInfos;c=B.sanitizeNoTags(e.convertBreaksToEOLs(e.convertEndParasToEOLs(k))).trim();c=c.replace(/\{/gi,"${");c=c.replace(/\u00a0/gi," ");c=c.split("\n");c=A.map(c,function(c){var e="";c=c.replace(/\{([^}]+)\}/g,function(c,f){var d;A.some(a,function(a){var c;if(a.fieldName.toLowerCase()===f.toLowerCase()){d=a.fieldName;c=a.label||a.fieldName;if(!a.hasOwnProperty("label")&&
m)for(a=0;a<m.length;a++)c==="expression/"+m[a].name&&(c=m[a].title);e=""===e?c:e+" "+c;return!0}});return d?f?"{"+d+"}":c:f?"{"+f+"}":c});l.push(e);return c.trim()});c.csvHeaderRow=l;return c},createLabelsFromFeatures:function(c,l,k,a){var m=new x,f=[],h=[],p=0;e.layer=k;e.map=a;e.expressionInfos=l.expressionInfos;if(l.relationships)A.forEach(c,function(a){e.objEach(l.relationships,function(c,d){var f=new x,k=c.relatedQuery,m;h.push(f);m=a.attributes[c.operLayer.layerObject.objectIdField];k.objectIds=
[m];c.operLayer.layerObject.queryRelatedFeatures(k,function(c){var h=[];c[m]&&c[m].features&&(c=c[m].features,A.forEach(c,function(c){var f,k,m;f=a.attributes;k="relationships/"+d+"/";e.objEach(c.attributes,function(a,c){m=k+c;f[m]=a});c=new I(a.geometry,null,f);h.push(e.populateLabelLines(c,l))}));v(h).then(function(a){f.resolve(a)})})})}),v(h).then(function(a){A.forEach(a,function(a){A.forEach(a,function(a){++p;f.push(a)})});console.log(p+" related address features found");m.resolve(f)});else{var t=
[];A.forEach(c,function(a){t.push(e.populateLabelLines(a,l))});v(t).then(function(a){m.resolve(a)})}return m},populateLabelLines:function(c,l){var k=new x,a=[];e.combineFeatureAttributesAndExpressionResolutions(c,l.parsedExpressions).then(function(c){A.forEach(l,function(f){a.push(e.substitute(f,c,e.useEmptyStringForNull))});k.resolve(a)});return k.promise},substitute:function(c,e,k){var a=z.global;k=k?u.hitch(a,k):function(a){return a};return c.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(a,
c){if(""===c)return"$";a=k(e[c],c);if("undefined"===typeof a)throw Error('string.substitute could not find key "'+c+'" in template');return a.toString()})},parseArcadeExpressions:function(c){var e;Array.isArray(c)&&0<c.length&&(e={},A.forEach(c,function(c){e[c.name]=p.parseScript(c.expression)}));return e},initArcadeContext:function(c){var l=null,k=null,a=null,m=null;e.expressionInfos&&(a=e.expressionInfos);e.map&&(k=e.map);e.layer&&e.layer.layerObject&&(l=e.layer.layerObject);c&&c.geometry&&c.geometry.spatialReference&&
(m=c.geometry.spatialReference);return e.getEvalOptions({expression:a,feature:c,layer:l,map:k,sr:m}).context},getEvalOptions:function(c){var e=c.feature,k=c.layer,a=c.map;c=c.spatialReference;var e=e?m.createFromGraphicLikeObject(e.geometry,e.attributes,k):null,n,f;k&&(f={spatialReference:c},n=k.getMap()?y.createFeatureSetFromLayer(k,f):y.createFeatureSetFromLayerUrl(k.url,f),f=(k=P.getServiceUrl(k.url))?y.createFeatureSetCollectionFromServiceUrl(k,f):null);a=a?y.createFeatureSetCollectionFromMap(a):
null;return{context:{vars:{$feature:e,$layer:n,$datastore:f,$map:a},spatialReference:c}}},combineFeatureAttributesAndExpressionResolutions:function(c,l){var k=new x,a=[],m,f;m=u.mixin({},c.attributes);if(l){c=e.initArcadeContext(c);for(f in l)a.push(e.executeArcadeExpression(f,l[f],c,m));v(a).then(function(){k.resolve(m)})}else k.resolve(m);return k.promise},executeArcadeExpression:function(c,e,k,a){var l=new x;(e=p.executeScript(e,k))&&e.then?e.then(function(e){a["expression/"+c]=e?e.toString():
"";l.resolve(e)},function(e){a["expression/"+c]=e?e.toString():"";l.resolve(e)}):(a["expression/"+c]=e?e.toString():"",l.resolve(e));return l.promise},convertEndParasToEOLs:function(c){var e=c;c=c.match(/<\/p>/gi);A.forEach(c,function(c){e=e.replace(c,"\n")});return e},convertBreaksToEOLs:function(c){var e=c;c=c.match(/<br\s*\/?>/gi);A.forEach(c,function(c){e=e.replace(c,"\n")});return e},useEmptyStringForNull:function(c){return c?c:""},objEach:function(c,e,k){for(var a in c)c.hasOwnProperty(a)&&
e.call(k,c[a],a)}};return e})},"widgets/PublicNotification/generalUtils":function(){define(["jimu/utils"],function(A){return{sanitizeNoTags:function(z){if(!z)return z;var u;u=A.sanitizeHTML(z);z=/<(?:!--(?:(?:-*[^->])*--+|-?)|script\b(?:[^"'>]|"[^"]*"|'[^']*')*>[\s\S]*?<\/script\s*|style\b(?:[^"'>]|"[^"]*"|'[^']*')*>[\s\S]*?<\/style\s*|\/?[a-z](?:[^"'>]|"[^"]*"|'[^']*')*)>/gi;var x;do x=u,u=u.replace(z,"");while(u!==x);return u=u.replace(/</g,"\x26lt;").trim()}}})},"widgets/PublicNotification/Queryer":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/DeferredList esri/geometry/geometryEngineAsync esri/tasks/BufferParameters esri/tasks/GeometryService esri/tasks/query esri/tasks/QueryTask".split(" "),
function(A,z,u,x,v,p,m,y,P,I){return z([],{constructor:function(m,e){this.map=m;this._geometryService=new y(e)},createUnionOfGeometries:function(m){var e;e=new x;if(!Array.isArray(m))return e.reject("No geometries to buffer"),e;p.union(m).then(u.hitch(this,function(c){c?e.resolve(c):e.reject("Unioning failed")}),u.hitch(this,function(){e.reject("Unioning failed")}));return e},bufferGeometries:function(p,e){var c,l;c=new x;if(!Array.isArray(p))return c.reject("No geometries to buffer"),c;l=new m;l.bufferSpatialReference=
this.map.spatialReference;l.distances=e;l.unionResults=!0;l.geodesic=!0;l.geometries=p;l.outSpatialReference=this.map.spatialReference;l.unit=y.UNIT_METER;this._geometryService.buffer(l,function(e){Array.isArray(e)&&0<e.length?c.resolve(e[0]):c.reject("Buffering failed")},function(e){c.reject("Buffering failed: "+e)});return c},groupGeometriesByType:function(m){var e=[],c=[],l=[],k=[],a=[],n=new x;0<m.length?(A.forEach(m,u.hitch(this,function(f){"point"===f.type?(e.push(f),k.push(.2)):"polyline"===
f.type?(c.push(f),a.push(.2)):"polygon"===f.type&&l.push(f)})),m=[],0<e.length&&m.push(this.bufferGeometries(e,k)),0<c.length&&m.push(this.bufferGeometries(c,a)),0<m.length?(new v(m)).then(u.hitch(this,function(a){if(0<a.length){for(var c=0;c<a.length;c++)l.push(a[c][1]);n.resolve(l)}}),function(a){n.reject("Buffering point/line geometires failed: "+a)}):n.resolve(l)):n.resolve(m);return n},createBufferFromGeometries:function(v,e){var c,l,k;c=new x;if(!Array.isArray(v)||0>=v.length)return c.reject("No geometries to buffer"),
c;this.groupGeometriesByType(v).then(u.hitch(this,function(a){l=e;p.union(a).then(u.hitch(this,function(a){a?0<l||"polygon"===a.type?(0===l&&(l=-.1),k=new m,k.bufferSpatialReference=this.map.spatialReference,k.distances=[l],k.geodesic=!0,k.geometries=[a],k.outSpatialReference=this.map.spatialReference,k.unit=y.UNIT_METER,this._geometryService.buffer(k,function(a){Array.isArray(a)&&0<a.length?c.resolve(a[0]):c.reject("Buffering failed")},function(a){c.reject("Buffering failed: "+a)})):c.resolve(a):
c.reject("Unioning failed")}),function(a){c.reject(a)})}));return c},findIntersectingFeatures:function(v,e,c,l,k){var a,n=new x,f={};e=new I(e);a=new P;v&&(a.geometry=v);a.returnGeometry=!0;a.outFields=c;l&&(a.where=l);k&&(a.outSpatialReference=k);e.execute(a,u.hitch(this,function(a){a&&Array.isArray(a.features)&&0<a.features.length?p.union(this._getFeatureGeometries(a.features)).then(u.hitch(this,function(c){var e;Array.isArray(c.rings)&&0<c.rings.length?(e=new m,e.bufferSpatialReference=this.map.spatialReference,
e.distances=[-.1],e.geodesic=!0,e.geometries=[c],e.outSpatialReference=this.map.spatialReference,e.unit=y.UNIT_METER,this._geometryService.buffer(e,function(c){Array.isArray(c)&&0<c.length?(f.intersectGeometry=v,f.features=a.features,f.highlight=c[0],n.resolve(f)):n.reject("Buffering union failed")})):(f.intersectGeometry=v,f.features=a.features,f.highlight=c,n.resolve(f))})):(f.intersectGeometry=v,f.features=[],f.highlight=null,n.resolve(f))}),function(a){n.reject(a)});return n},find:function(m,
e,c,l,k){var a=new x;this.findIntersectingFeatures(m,e,c,k).then(u.hitch(this,function(c){console.log(c.features.length+" "+l+" features found");a.resolve(c)}),function(c){a.reject(c)});return a},_getFeatureGeometries:function(m){return A.map(m,u.hitch(this,function(e){return e.geometry}))}})})},"widgets/PublicNotification/SearchLayers":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/on dojo/when dojo/promise/all jimu/BaseWidget jimu/portalUtils jimu/utils esri/lang esri/request esri/dijit/Search esri/tasks/locator esri/layers/FeatureLayer esri/InfoTemplate".split(" "),
function(A,z,u,x,v,p,m,y,P,I,B,e,c,l,k,a){return A([y],{baseClass:"jimu-search-layers",declaredClass:"jimu.dijit.SearchLayers",_searchDijitReady:null,_searchDijit:null,_layerInfosObj:null,_esriLocatorRegExp:/geocode(.){0,3}\.arcgis.com\/arcgis\/rest\/services\/World\/GeocodeServer/g,_mainWidgetNode:null,constructor:function(a,e,h,k,l){this._mainWidgetNode=l;this._searchDijitReady=new x;this._layerInfosObj=h;this.own(h.on("layerInfosFilterChanged",z.hitch(this,this._onLayerInfosFilterChanged)));p(this._getConfigInfo(a,
e)).then(z.hitch(this,function(a){return m(this._convertConfig(a)).then(function(a){return u.filter(a,function(a){return a})})})).then(z.hitch(this,function(d){a.sources=d;this._searchDijit=new c(a,k);this._searchDijit.startup();this.setFocus();this._searchDijitReady.resolve(this._searchDijit)}))},searchDijit:function(){return this._searchDijitReady},setFocus:function(){this._searchDijit&&(this._mainWidgetNode.openAtStartAysn=!0,I.isAutoFocusFirstNodeWidget(this._mainWidgetNode)&&this._searchDijit.inputNode.focus())},
destroy:function(){this._searchDijit&&(this._searchDijit.destroy(),this._searchDijit=null);this.inherited(arguments)},_onLayerInfosFilterChanged:function(a){u.some(a,z.hitch(this,function(a){this._searchDijit&&this._searchDijit.sources&&0<this._searchDijit.sources.length&&u.forEach(this._searchDijit.sources,function(c){c._featureLayerId===a.id&&c.featureLayer.setDefinitionExpression(a.getFilter())})}))},_getConfigInfo:function(a,c){return a&&a.sources&&0<a.sources.length?(c=null,this._searchLayer(a.map)&&
a.upgradeFromGeocoder?(c=a.map.itemInfo.itemData.applicationProperties.viewing.search,c=u.map(c.layers,z.hitch(this,function(c,e){e.hintText=c;return this._getQueryTypeGeocoder(a.map,e)},c.hintText)),m(c).then(z.hitch(this,function(c){a.sources=[].concat(c).concat(a.sources);return a}))):a):p(this._getSourcesFromPortalAndWebmap(a.map,c)).then(z.hitch(this,function(a){return{allPlaceholder:"",showInfoWindowOnSelect:!1,sources:a}}))},_convertConfig:function(a){return u.map(a.sources,z.hitch(this,function(c){var e=
new x;if(c&&c.url&&"locator"===c.type){var f={locator:new l(c.url||""),outFields:["*"],singleLineFieldName:c.singleLineFieldName||"",name:I.stripHTML(c.name||""),placeholder:I.stripHTML(c.placeholder||""),countryCode:c.countryCode||"",maxSuggestions:c.maxSuggestions,maxResults:c.maxResults||6,zoomScale:c.zoomScale||5E4,useMapExtent:!!c.searchInCurrentMapExtent};c.enableLocalSearch&&(f.localSearchOptions={minScale:c.localSearchMinScale,distance:c.localSearchDistance});e.resolve(f)}else c&&c.url&&"query"===
c.type?(f=new k(c.url||null,{outFields:["*"]}),this.own(v(f,"load",z.hitch(this,function(f){var d=f.layer,h=this._getInfoTemplate(d,c,c.displayField),k=null;c.searchFields&&0<c.searchFields.length?k=c.searchFields:(k=[],u.forEach(d.fields,function(a){"esriFieldTypeOID"!==a.type&&a.name!==d.objectIdField&&"esriFieldTypeGeometry"!==a.type&&k.push(a.name)}));f={featureLayer:d,outFields:["*"],searchFields:k,displayField:c.displayField||"",exactMatch:!!c.exactMatch,name:I.stripHTML(c.name||""),placeholder:I.stripHTML(c.placeholder||
""),maxSuggestions:c.maxSuggestions||6,maxResults:c.maxResults||6,zoomScale:c.zoomScale||5E4,infoTemplate:h,useMapExtent:!!c.searchInCurrentMapExtent,_featureLayerId:c.layerId,enableHighlight:!0,showInfoWindowOnSelect:a.showInfoWindowOnSelect,enableInfoWindow:a.showInfoWindowOnSelect};h||delete f.infoTemplate;f._featureLayerId&&(h=this._layerInfosObj.getLayerInfoById(f._featureLayerId),d.setDefinitionExpression(h.getFilter()));e.resolve(f)}))),this.own(v(f,"error",function(){e.resolve(null)}))):e.resolve(null);
return e}))},_getInfoTemplate:function(c,e,h){var f=this._layerInfosObj.getLayerInfoById(e.layerId),k=f&&f.getInfoTemplate(),d=f&&k;if(f&&!d)return null;d||(k=new a,k.setTitle("\x26nbsp;"),k.setContent(z.hitch(this,"_formatContent",e.name,c,h)));return k},_getSourcesFromPortalAndWebmap:function(a,c){var e=[],f=null;this._searchLayer(a)&&(f=a.itemInfo.itemData.applicationProperties.viewing.search,u.forEach(f.layers,z.hitch(this,function(c,d){d.hintText=c;e.push(this._getQueryTypeGeocoder(a,d))},f.hintText)));
return P.getPortalSelfInfo(c).then(z.hitch(this,function(a){if((a=a.helperServices&&a.helperServices.geocode)&&0<a.length)for(var c=0,f=a.length;c<f;c++){var h=a[c];h&&e.push(this._processSingleLine(h))}return m(e).then(z.hitch(this,function(a){for(var c=[],d=0;d<a.length;d++){var e=a[d];e&&(e&&"query"===e.type||(e={name:e.name||this._getGeocodeName(e.url),url:e.url,singleLineFieldName:e.singleLineFieldName,placeholder:e.placeholder||e.name||this._getGeocodeName(e.url),maxResults:6,searchInCurrentMapExtent:!1,
type:"locator"},e.enableLocalSearch=this._isEsriLocator(e.url),e.localSearchMinScale=3E5,e.localSearchDistance=5E4),c.push(e))}return c}))}))},_getQueryTypeGeocoder:function(a,c){a=a.getLayer(c.id);var e=null,f=null,k=null,k=B.isDefined(c.subLayer)?c.id+"_"+c.subLayer:c.id,e=this._layerInfosObj.traversal(function(a){return a.id===k?(f=a,!0):!1});return a&&e&&f?(e=B.isDefined(c.subLayer)?f.url||a.url+"/"+c.subLayer:f.url||a.url,{name:f.title,layerId:k,url:e,placeholder:c.hintText,searchFields:[c.field.name],
displayField:c.field.name,exactMatch:c.field.exactMatch||!1,maxResults:6,searchInCurrentMapExtent:!1,type:"query"}):null},_isEsriLocator:function(a){this._esriLocatorRegExp.lastIndex=0;return this._esriLocatorRegExp.test(a)},_processSingleLine:function(a){if(a.singleLineFieldName)return a;if(this._isEsriLocator(a.url))return a.singleLineFieldName="SingleLine",a;var c=new x;e({url:a.url,content:{f:"json"},handleAs:"json",callbackParamName:"callback"}).then(z.hitch(this,function(e){e.singleLineAddressField&&
e.singleLineAddressField.name?(a.singleLineFieldName=e.singleLineAddressField.name,c.resolve(a)):(console.warn(a.url+"has no singleLineFieldName"),c.resolve(null))}),z.hitch(this,function(a){console.error(a);c.resolve(null)}));return c.promise},_getGeocodeName:function(a){if("string"!==typeof a)return"geocoder";a=a.split("/");return a[a.length-2]||"geocoder"},_getGeocoderName:function(a){return this._getGeocodeName(a)},_hasAppSearchInfo:function(a){return a.itemInfo&&a.itemInfo.itemData&&a.itemInfo.itemData.applicationProperties&&
a.itemInfo.itemData.applicationProperties.viewing&&a.itemInfo.itemData.applicationProperties.viewing.search},_searchLayer:function(a){if(!this._hasAppSearchInfo(a))return!1;a=a.itemInfo.itemData.applicationProperties.viewing.search;return a.enabled&&0!==a.layers.length?!0:!1}})})},"esri/dijit/Search":function(){define("require dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Evented dojo/Deferred dojo/keys dojo/on dojo/query dojo/uacss dojo/regexp dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-style dojo/dom-construct dojo/date/locale dojo/i18n!../nls/jsapi dojo/text!./Search/templates/Search.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/_FocusMixin dijit/a11yclick dijit/focus ../lang ../InfoTemplate ../kernel ../SpatialReference ../graphic ../promiseList ../symbols/PictureMarkerSymbol ../symbols/SimpleMarkerSymbol ../symbols/SimpleLineSymbol ../symbols/SimpleFillSymbol ../symbols/TextSymbol ../symbols/Font ../geometry/Point ../geometry/Extent ../geometry/normalizeUtils ../geometry/scaleUtils ../tasks/locator ../tasks/query ../Color ../styles/basic".split(" "),
function(A,z,u,x,v,p,m,y,P,I,B,e,c,l,k,a,n,f,h,w,t,d,q,J,E,L,F,ba,aa,na,Z,Ha,G,fa,M,O,R,W,K,sa,Da,ja,ia,T){function oa(a,c){a&&c&&(a._layer=c,a._sourceLayer=c)}z=z([w,t,d,v],{declaredClass:"esri.dijit.Search",templateString:h,reHostedFS:/https?:\/\/services.*\.arcgis\.com/i,constructor:function(a,c){this.css={searchGroup:"searchGroup",searchInput:"searchInput",searchInputGroup:"searchInputGroup",searchBtn:"searchBtn",searchSubmit:"searchSubmit",searchIcon:"searchIcon esri-icon-search",searchButtonText:"searchButtonText",
searchToggle:"searchToggle",searchToggleIcon:"searchIcon esri-icon-down-arrow",searchMenu:"searchMenu",searchMenuHeader:"menuHeader",searchClear:"searchClear",searchClearIcon:"searchIcon esri-icon-close searchClose",searchSpinner:"searchIcon esri-icon-loading-indicator searchSpinner",searchSourceName:"sourceName",suggestionsMenu:"suggestionsMenu",sourcesMenu:"sourcesMenu",activeSource:"active",hasValue:"hasValue",hasButtonMode:"hasButtonMode",hasMultipleSources:"hasMultipleSources",showSuggestions:"showSuggestions",
showSources:"showSources",showNoResults:"showNoResults",searchLoading:"searchLoading",latLonHeader:"searchLatLongHeader",searchMoreResults:"moreResults",searchMoreResultsList:"resultsList",searchMoreResultsHeader:"moreHeader",searchMoreResultsItem:"moreItem",searchMoreResultsListHeader:"popupHeader",searchShowMoreResults:"showMoreResults",searchNoResultsMenu:"noResultsMenu",searchNoResultsBody:"noResultsBody",searchNoResultsHeader:"noResultsHeader",searchNoValueIcon:"noValueIcon esri-icon-notice-triangle",
searchNoValueText:"noValueText",searchNoResultsText:"noResultsText",searchExpandContainer:"searchExpandContainer",searchAnimateContainer:"searchAnimate",searchExpanded:"searchExpanded",searchCollapsed:"searchCollapsed",searchClearFloat:"searchClearFloat"};this._allIndex="all";this._objectIdIdentifier="_objectId";this._deferreds=[];this._sourceNames=[];this.defaultSource={locator:new Da("//geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer"),singleLineFieldName:"SingleLine",outFields:["Addr_type",
"Match_addr","StAddr","City"],name:f.widgets.Search.main.esriLocatorName,localSearchOptions:{minScale:3E5,distance:5E4},placeholder:f.widgets.Search.main.placeholder,highlightSymbol:(new Z(A.toUrl("./Search/images/search-pointer.png"),36,36)).setOffset(9,18)};this.options={map:null,theme:"arcgisSearch",visible:!0,value:"",allPlaceholder:"",sources:[this.defaultSource],activeSourceIndex:0,suggestionDelay:150,enableSourcesMenu:!0,enableSuggestionsMenu:!0,enableInfoWindow:!0,showInfoWindowOnSelect:!0,
enableSuggestions:!0,enableButtonMode:!1,autoNavigate:!0,autoSelect:!0,addLayersFromMap:!1,zoomScale:1E3,graphicsLayer:null,enableHighlight:!0,highlightGraphic:null,enableLabel:!1,labelSymbol:(new M).setColor(new ia([181,56,46,.9])).setFont(new O("14px",O.STYLE_NORMAL,O.VARIANT_NORMAL,O.WEIGHT_BOLD,"Arial")),labelGraphic:null,infoTemplate:new L(f.widgets.Search.main.searchResult,'\x3cdiv class\x3d"${searchTheme}"\x3e\x3cdiv id\x3d"${searchMoreResultsId}" class\x3d"${searchMoreResults}"\x3e\x3cdiv class\x3d"${searchMoreResultsItem}"\x3e${searchResult}\x3c/div\x3e\x3cdiv\x3e${searchMoreResultsHtml}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'),
searchResults:null,suggestResults:null,selectedResult:null,magicKey:null,selectedFeatureId:null,expanded:!1,maxLength:128,maxResults:6,maxSuggestions:6,locationToAddressDistance:1500,minCharacters:1,enableSearchingAll:!0};a=u.mixin({},this.options,a);this.set(a);this._updateActiveSource();this._i18n=f;this._defaultSR=new ba(4326);this.domNode=c},startup:function(){this.inherited(arguments);this.sources||(this.sources=[]);this._mapLoaded().then(u.hitch(this,this._init))},postCreate:function(){var a=
this;this.inherited(arguments);this._moreResultsId=this.id+"_more_results";this.own(y(this.submitNode,q,u.hitch(this,this._searchButton)));this.own(y(this.sourcesBtnNode,q,u.hitch(this,this._toggleSourcesMenu)));this.own(y(this.inputNode,q,u.hitch(this,this._inputClick)));this.own(y(this.clearNode,q,u.hitch(this,this._clearButton)));this.own(y(this.formNode,"submit",u.hitch(this,function(a){a.preventDefault();this._cancelSuggest();this.search()})));this.own(y(this.inputNode,"keyup",u.hitch(this,function(a){this._inputKey(a)})));
this.own(y(this.sourcesBtnNode,"keyup",u.hitch(this,function(a){this._sourceBtnKey(a)})));this.own(y(this.suggestionsNode,"li:click, li:keyup",function(c){a._suggestionsEvent(c,this)}));this.own(y(this.sourcesNode,"li:click, li:keyup",function(c){a._sourcesEvent(c,this)}));this.own(y(this.inputNode,"input, paste",u.hitch(this,function(){this._suggestDelay()})));this.map&&this.map.infoWindow&&this.map.infoWindow.domNode&&this.enableInfoWindow&&(this.own(y(this.map.infoWindow.domNode,"#"+this._moreResultsId+
"_show:click",u.hitch(this,function(a){this._showMoreResultsClick(a)}))),this.own(y(this.map.infoWindow.domNode,"#"+this._moreResultsId+"_list li a:click",u.hitch(this,function(a){this._moreResultsClick(a)}))),this.own(y(this.map.infoWindow.domNode,"#"+this._moreResultsId+" [data-switch-coordinates]:click",u.hitch(this,function(a){this._switchCoordinatesClick(a)}))));this.value&&this._checkStatus();this._hideMenus();this._updateVisible();this._insertSources(this.sources);this._setPlaceholder(this.activeSourceIndex);
this._updateButtonMode(this.enableButtonMode);this.toggle(this.expanded)},destroy:function(){this.clear();a.empty(this.domNode);this.inherited(arguments)},clear:function(){this.clearGraphics();c.get(this.inputNode,"value")&&c.set(this.inputNode,"value","");this._changeAttrValue("value","");this.set("searchResults",null);this.set("suggestResults",null);this.set("selectedResult",null);this.set("magicKey",null);this.set("selectedFeatureId",null);l.remove(this.containerNode,this.css.hasValue);c.set(this.clearNode,
"title","");this._hideMenus();this._closePopup();this._hideLoading();this.emit("clear-search")},show:function(){k.set(this.domNode,"display","block")},hide:function(){k.set(this.domNode,"display","none")},expand:function(){this.enableButtonMode&&(l.add(this.containerNode,this.css.searchExpanded),l.remove(this.containerNode,this.css.searchCollapsed),this._hideMenus(),this.set("expanded",!0))},collapse:function(){this.enableButtonMode&&(l.remove(this.containerNode,this.css.searchExpanded),l.add(this.containerNode,
this.css.searchCollapsed),this._hideMenus(),this.set("expanded",!1))},toggle:function(a){this.enableButtonMode&&("undefined"===typeof a&&(a=!this.expanded),a?this.expand():this.collapse())},search:function(a){var c=new p;this._mapLoaded().then(u.hitch(this,function(){this._searchDeferred(a).then(u.hitch(this,function(a){var d=a.results;this.set("searchResults",d);0===a.numResults&&(this._noResults(a.value),this._showNoResultsMenu());this._hideLoading();this.emit("search-results",a);this._selectFirstResult(d,
a.activeSourceIndex);c.resolve(d)}),u.hitch(this,function(a){c.reject(a)}))}));return c.promise},suggest:function(a){var c=new p;this._mapLoaded().then(u.hitch(this,function(){this._suggestDeferred(a).then(u.hitch(this,function(a){if(a){var d=a.results;this.set("suggestResults",d);this._insertSuggestions(d,a.value);this.emit("suggest-results",a);c.resolve(d)}}),u.hitch(this,function(a){c.reject(a)}))}));return c.promise},select:function(a){var c=this._getDefaultSymbol(a),d=this.labelSymbol,e,f=this.sources,
h=this.activeSourceIndex,k=this.enableHighlight,l=this.enableLabel,m=this.autoNavigate,H=this.showInfoWindowOnSelect,n=this.enableInfoWindow,p=this.infoTemplate,q=a.feature?new aa(a.feature.toJson()):null,t=q?a.feature._sourceLayer:null;oa(q,t);if(h===this._allIndex){var v=this._getSourceIndexOfResult(a);null!==v&&(e=f[v],h=v)}else e=f[h];e&&(e.hasOwnProperty("highlightSymbol")&&(c=e.highlightSymbol),e.hasOwnProperty("labelSymbol")&&(d=e.labelSymbol),e.hasOwnProperty("enableHighlight")&&(k=e.enableHighlight),
e.hasOwnProperty("enableLabel")&&(l=e.enableLabel),e.hasOwnProperty("autoNavigate")&&(m=e.autoNavigate),e.hasOwnProperty("showInfoWindowOnSelect")&&(H=e.showInfoWindowOnSelect),e.hasOwnProperty("enableInfoWindow")&&(n=e.enableInfoWindow),e.hasOwnProperty("infoTemplate")?p=e.infoTemplate:e.featureLayer&&e.featureLayer.infoTemplate&&(p=e.featureLayer.infoTemplate));this._hideMenus();this._hideLoading();if(q){var f=this.highlightGraphic,w=this.graphicsLayer,v=this.labelGraphic,x=u.mixin({},q.attributes,
{searchTheme:this.theme,searchResult:this._searchResultHTML(a),searchMoreResults:this.css.searchMoreResults,searchMoreResultsItem:this.css.searchMoreResultsItem,searchMoreResultsId:this._moreResultsId,searchMoreResultsHtml:this._moreResultsHTML(a)}),y=null;n&&(y=p);v?(v.setGeometry(q.geometry),v.setAttributes(x),v.setSymbol(d),d&&"textsymbol"===d.type&&v.symbol.setText(a.name)):(v=new aa(q.geometry,d,x),oa(v,t),d&&"textsymbol"===d.type&&v.symbol.setText(a.name),l&&(w?w.add(v):this.map&&this.map.graphics&&
this.map.graphics.add(v)));f?(f.setGeometry(q.geometry),f.setAttributes(x),f.setInfoTemplate(y),f.setSymbol(c)):(f=new aa(q.geometry,c,x,y),oa(f,t),k&&(w?w.add(f):this.map&&this.map.graphics&&this.map.graphics.add(f)));f&&f.symbol&&"textsymbol"===f.symbol.type&&f.symbol.setText(a.name);this.map&&this.map.infoWindow&&n&&H&&(this.map.infoWindow.setFeatures([f]),c=this._getPointFromGeometry(f.geometry),this.map.infoWindow.show(c));this.map&&m&&a&&a.hasOwnProperty("extent")&&"function"===typeof this.map.setExtent&&
this.map.setExtent(a.extent,!0);this.set("highlightGraphic",f);this.set("labelGraphic",v)}this.set("selectedResult",a);this.emit("select-result",{result:a,source:e,sourceIndex:h})},focus:function(){J.focus(this.inputNode)},blur:function(){this.inputNode.blur();J.curNode&&J.curNode.blur()},clearGraphics:function(){var a=this.highlightGraphic,c=this.graphicsLayer,d=this.labelGraphic;a&&(c?c.remove(a):this.map&&this.map.graphics&&this.map.graphics.remove(a));d&&(c?c.remove(d):this.map&&this.map.graphics&&
this.map.graphics.remove(d));this.set("labelGraphic",null);this.set("highlightGraphic",null)},_mapLoaded:function(){var a=new p;if(this.map)if(this.map.loaded)a.resolve();else y.once(this.map,"load",u.hitch(this,function(){a.resolve()}));else a.resolve();return a.promise},_init:function(){this._getMapLayers().then(u.hitch(this,function(){this.set("loaded",!0);this.emit("load")}))},_clearButton:function(){this.clear();J.focus(this.inputNode)},_error:function(a){return Error(this.declaredClass+" "+
a)},_searchDeferred:function(a){var c=new p,d=this.value,e=this.activeSourceIndex;a&&a.hasOwnProperty("index")&&(e=a.index);this._showLoading();this._hideMenus();this._closePopup();this.clearGraphics();var f={magicKey:this.magicKey,text:d};a?"string"===typeof a?(f.text=a,a=this._searchQueries(f)):a="object"===typeof a&&a.hasOwnProperty("magicKey")?this._searchQueries(a):"object"===typeof a&&a.hasOwnProperty("geometry")?this._searchQueries({geometry:a}):"object"===typeof a&&a.hasOwnProperty(this._objectIdIdentifier)?
this._searchQueries(a):"object"===typeof a&&"point"===a.type?this._searchQueries({point:a}):a instanceof Array&&2===a.length?this._searchQueries({latlon:a}):this._searchQueries(f):a=this._searchQueries(f);a.always(u.hitch(this,function(a){a=this._formatResults(a,e,d);c.resolve(a)}));return c.promise},_suggestDeferred:function(a){var c=new p;this._deferreds.push(c);a||(a=this.value);var d=this.activeSourceIndex;this._suggestQueries({text:a}).always(u.hitch(this,function(e){var f;if(e)for(var h=0;h<
e.length;h++)e[h]&&(f=!0);f?(e=this._formatResults(e,d,a),c.resolve(e)):c.resolve()}));return c.promise},_getDefaultSymbol:function(a){var c,d,e,f;this.map&&(f=this.map.getBasemap());f||(f="topo");a&&a.feature&&a.feature.geometry&&(e=a.feature.geometry.type);"polyline"===e?e="line":"circle"===e||"extent"===e?e="polygon":"multipoint"===e&&(e="point");if(e){if(a=T.getSchemes({theme:"default",basemap:f,geometryType:e}))d=a.primaryScheme;if(d){d.color&&d.hasOwnProperty("opacity")&&(d.color.a=d.opacity);
c=d;a=d.color;d=d.size;var h;switch(e){case "point":h=new Ha;h.setColor(a);h.setSize(null!==d?d:c.size);e=new G;e.setColor(c.outline.color);e.setWidth(c.outline.width);h.setOutline(e);break;case "line":h=new G;h.setColor(a);h.setWidth(null!==d?d:c.width);break;case "polygon":h=new fa,h.setColor(a),e=new G,e.setColor(c.outline.color),e.setWidth(c.outline.width),h.setOutline(e)}c=h}}return c},_selectFirstResult:function(a,c){if(this.autoSelect&&a){var d;c===this._allIndex?d=this._getFirstResult(a):
a[c]&&a[c][0]&&(d=a[c][0]);d&&this.select(d)}},_getSourceIndexOfResult:function(a){var c=this.searchResults;if(c)for(var d in c)if(c[d]&&c[d].length)for(var e=0;e<c[d].length;e++)if(c[d][e]===a)return parseInt(d,10);return null},_getFirstResult:function(a){if(a)for(var c in a)if(a[c]&&a[c][0])return a[c][0];return!1},_onFocus:function(){this.map&&"function"===typeof this.map.disableKeyboardNavigation&&this.map.disableKeyboardNavigation();this.emit("focus");this.inherited(arguments)},_onBlur:function(){this._hideMenus();
this.map&&"function"===typeof this.map.enableKeyboardNavigation&&this.map.enableKeyboardNavigation();this.enableButtonMode&&this.loaded&&this.collapse();this.emit("blur");this.inherited(arguments)},_getMapLayers:function(){var a=new p;if(this.addLayersFromMap&&this.map){var c=[],d=this.map.graphicsLayerIds;if(d&&d.length){for(var e=0;e<d.length;e++){var f=this.map.getLayer(d[e]);f&&c.push(this._featureLayerLoaded(f))}na(c).always(u.hitch(this,function(c){for(var d,e=this.sources,f=0;f<c.length;f++)c[f]&&
c[f].loaded&&"Feature Layer"===c[f].type&&(e.push({featureLayer:c[f],enableSuggestions:!0}),d=!0);d&&this.set("sources",e);a.resolve()}))}else a.resolve()}else a.resolve();return a.promise},_switchCoordinatesClick:function(a){a.preventDefault();if(a=c.get(a.target,"data-switch-coordinates"))this._cancelSuggest(),this.set("value",a),this.search()},_moreResultsClick:function(a){a.preventDefault();var d=a.target;a=parseInt(c.get(d,"data-source-index"),10);var d=parseInt(c.get(d,"data-index"),10),e=this.searchResults;
e&&e[a]&&(a=e[a][d])&&this.select(a)},_showMoreResultsClick:function(a){a.preventDefault();if(a=e.byId(this._moreResultsId)){l.toggle(a,this.css.searchShowMoreResults);var d=e.byId(this._moreResultsId+"_show");d&&(l.contains(a,this.css.searchShowMoreResults)?c.set(d,"textContent",f.widgets.Search.main.hideMoreResults):c.set(d,"textContent",f.widgets.Search.main.showMoreResults))}},_featureLayerLoaded:function(a){var c=new p;if(a.loaded)c.resolve(a);else if(a.loadError)c.reject(this._error("Layer failed to load."));
else{var d,e;d=y.once(a,"load",u.hitch(this,function(){e.remove();c.resolve(a)}));e=y.once(a,"error",u.hitch(this,function(){d.remove();c.reject(this._error("Layer could not be loaded."))}))}return c.promise},_getObjectSize:function(a){var c=0,d;for(d in a)a.hasOwnProperty(d)&&c++;return c},_sourcesEvent:function(a,d){var e=c.get(d,"data-index"),f=P("li",this.sourcesNode);d=x.indexOf(f,d);e!==this._allIndex&&(e=parseInt(e,10));"click"===a.type||a.keyCode===m.ENTER?(this.set("activeSourceIndex",e),
J.focus(this.inputNode),this._hideSourcesMenu()):a.keyCode===m.UP_ARROW?(a.stopPropagation(),a.preventDefault(),a=d-1,0>a?J.focus(this.sourcesBtnNode):J.focus(f[a])):a.keyCode===m.DOWN_ARROW?(a.stopPropagation(),a.preventDefault(),a=d+1,a>=f.length?J.focus(this.sourcesBtnNode):J.focus(f[a])):a.keyCode===m.ESCAPE&&(this._hideSourcesMenu(),J.focus(this.inputNode))},_suggestionsEvent:function(a,d){var e=c.get(d,"data-source-index"),f=parseInt(c.get(d,"data-index"),10),h=P("li",this.suggestionsNode),
k=this.sources;d=x.indexOf(h,d);e!==this._allIndex&&(e=parseInt(e,10));var l;this._clearQueryTimeout();"click"===a.type||a.keyCode===m.ENTER?((h=this.suggestResults)&&h[e]&&h[e][f]&&(l=h[e][f]),l&&(l.index=e,k[e].featureLayer?(e=k[e].featureLayer.objectIdField,l[this._objectIdIdentifier]=l.feature.attributes[e],this.set("value",this._getSuggestionName(l)),this.set("selectedFeatureId",l.feature.attributes[e])):l.magicKey&&l.text&&(this.set("value",l.text),this.set("magicKey",l.magicKey)),this.search(l),
J.focus(this.inputNode))):a.keyCode===m.BACKSPACE||a.keyCode===m.DELETE?J.focus(this.inputNode):a.keyCode===m.UP_ARROW?(a.stopPropagation(),a.preventDefault(),l=d-1,0>l?J.focus(this.inputNode):J.focus(h[l])):a.keyCode===m.DOWN_ARROW?(a.stopPropagation(),a.preventDefault(),l=d+1,l>=h.length?J.focus(this.inputNode):J.focus(h[l])):a.keyCode===m.ESCAPE&&(this._hideMenus(),J.focus(this.inputNode))},_getResultName:function(a){var c;a.hasOwnProperty("name")&&null!==a.name&&(c=a.name.toString());c||(c=f.widgets.Search.main.untitledResult);
return c},_getSuggestionName:function(a){var c;a.hasOwnProperty("name")&&null!==a.name&&(c=a.name.toString());a=a.text||c;a||(a=f.widgets.Search.main.untitledResult);return a},_searchResultHTML:function(a){var c="";if(a.feature&&a.feature.attributes&&a.feature.attributes.Addr_type&&"LatLong"===a.feature.attributes.Addr_type){var d=a.name.split(" "),e,h;2===d.length&&(e=d[0],h=d[1]);h&&e?(a=parseFloat(e),h=parseFloat(h),d=h+", "+a,c+='\x3cdiv class\x3d"'+this.css.searchMoreResultsItem+'"\x3e',c+='\x3cdiv class\x3d"'+
this.css.latLonHeader+'"\x3e'+f.widgets.Search.main.lonlat+"\x3c/div\x3e",c=c+(a+", "+h)+"\x3c/div\x3e"+('\x3cdiv class\x3d"'+this.css.searchMoreResultsItem+'"\x3e'),a===h||90<a||-90>a||180<h||-180>h||(c+='\x3cdiv class\x3d"'+this.css.latLonHeader+'"\x3e'+f.widgets.Search.main.reverseLonLatHeader+"\x3c/div\x3e",c=c+('\x3ca data-switch-coordinates\x3d"'+d+'" tabindex\x3d"0" href\x3d"#"\x3e'+d+"\x3c/a\x3e")+"\x3c/div\x3e")):c=a.name}else c=a.name;return c},_moreResultsHTML:function(a){var c="",d="",
e=this.searchResults,h=this.sources,k=0;if(e){var d=d+('\x3cdiv class\x3d"'+this.css.searchMoreResultsItem+'"\x3e'),d=d+('\x3ca href\x3d"#" id\x3d"'+this._moreResultsId+'_show"\x3e'+f.widgets.Search.main.showMoreResults+"\x3c/a\x3e"),d=d+"\x3c/div\x3e"+('\x3cdiv class\x3d"'+this.css.searchMoreResultsList+'"\x3e'),d=d+('\x3cdiv id\x3d"'+this._moreResultsId+'_list"\x3e'),l;for(l in e)if(e[l]){var m=e[l].length;if(m){var n=1===m&&e[l][0]===a;if(1<this._getObjectSize(e)&&!n)var p=this._getSourceName(l),
d=d+('\x3cdiv class\x3d"'+this.css.searchMoreResultsListHeader+'"\x3e'+p+"\x3c/div\x3e");if(m&&!n){d+="\x3cul\x3e";p=h[l].maxResults||this.maxResults;for(n=0;n<m&&n<p;++n)if(e[l][n]!==a){var q=this._getResultName(e[l][n]),d=d+('\x3cli\x3e\x3ca tabindex\x3d"0" data-index\x3d"'+n+'" data-source-index\x3d"'+l+'" href\x3d"#"\x3e'+q+"\x3c/a\x3e\x3c/li\x3e");k++}d+="\x3c/ul\x3e"}}}d+="\x3c/div\x3e\x3c/div\x3e"}k&&(c+=d);return c},_validField:function(a,c){return a.getField(c)},_validFields:function(a,c){if(a&&
c&&c.length){for(var d=0;d<c.length;d++)if(!this._validField(a,c[d]))return!1;return!0}return!1},_getCodedName:function(a,c){if(a&&a.length)for(var d=0,e=a.length;d<e;d++){var f=a[d];if(f.code===c)return f.name}},_getCodedValue:function(a,c,d){if(a&&a.length)for(var e=0,f=a.length;e<f;e++){var h=a[e],k=h.name,l=c;d||(k=k.toLowerCase(),l=l.toLowerCase());if(k===l)return h.code}return!1},_whereClause:function(a,c,d,e){var f=null;if(a){var h="";this.reHostedFS.test(c.url)&&this._containsNonLatinCharacter(a)&&
(h="N");if(d&&d.length)for(var k=0,l=d.length;k<l;k++){var m="",n=a.replace(/\'/g,"''"),m=d[k],p=c.getField(m),q=c.getDomain(m);q&&"codedValue"===q.type&&(n=this._getCodedValue(q.codedValues,n,e));!1!==n&&(p=p.type,"esriFieldTypeString"===p||"esriFieldTypeDate"===p?m=e?m+" \x3d "+h+"'"+n+"'":"UPPER("+m+") LIKE "+h+"'%"+n.toUpperCase()+"%'":"esriFieldTypeOID"===p||"esriFieldTypeSmallInteger"===p||"esriFieldTypeInteger"===p||"esriFieldTypeSingle"===p||"esriFieldTypeDouble"===p?(n=parseFloat(n),m=isNaN(n)?
!1:m+" \x3d "+n):m=m+" \x3d "+n,m&&(f=f?f+" or ":"",f+=m))}}return f},_suggest:function(a){a||(a={index:this.activeSourceIndex,text:this.value});var c=new p,d=a.index,e=this.sources[d],f=this.enableSuggestions;e.hasOwnProperty("enableSuggestions")&&(f=e.enableSuggestions);var h=0,k;a.hasOwnProperty("text")&&a.text&&(k=u.trim(a.text),h=a.text.length);a=e.minCharacters||this.minCharacters;if(f&&k&&h>=a&&this._supportsPagination(e)){var l="";e.prefix&&(l+=e.prefix);l+=k;e.suffix&&(l+=e.suffix);var m=
this._defaultSR;this.map&&(m=this.map.spatialReference);f={};e.locator?(e.categories&&(f.categories=e.categories),e.locator.outSpatialReference=m,this.map&&e.localSearchOptions&&e.localSearchOptions.hasOwnProperty("distance")&&e.localSearchOptions.hasOwnProperty("minScale")&&(h=this._getScale(),!e.localSearchOptions.minScale||h&&h<=parseFloat(e.localSearchOptions.minScale))&&(f.location=this.map.extent.getCenter(),f.distance=e.localSearchOptions.distance),f.text=l,e.useMapExtent&&this.map&&this.map.extent&&
(f.searchExtent=this.map.extent),e.searchExtent&&(f.searchExtent=e.searchExtent),f.maxSuggestions=e.maxSuggestions||this.maxSuggestions,e.sourceCountry&&(f.countryCode=e.sourceCountry),e.countryCode&&(f.countryCode=e.countryCode),e.locator.suggestLocations(f).then(u.hitch(this,function(a){c.resolve(a)}),u.hitch(this,function(a){a||(a=this._error("Locator suggestLocations could not be performed."));c.reject(a)}))):e.featureLayer?this._featureLayerLoaded(e.featureLayer).then(u.hitch(this,function(){var a=
this._getDisplayField(e),f=e.searchFields||[a],h=[];e.suggestionTemplate?e.suggestionTemplate.replace(/(?:\$\{([^}]+)\})/g,function(a,c){h.push(c)}):h=[a];-1===x.indexOf(h,e.featureLayer.objectIdField)&&h.push(e.featureLayer.objectIdField);var a=this._validField(e.featureLayer,a),k=this._validFields(e.featureLayer,h),n=this._validFields(e.featureLayer,f);if(a&&k&&n){a=new ja;e.hasOwnProperty("suggestQueryParams")&&u.mixin(a,e.suggestQueryParams);a.outSpatialReference=m;a.returnGeometry=!1;a.num=e.maxSuggestions||
this.maxSuggestions;a.outFields=h;e.useMapExtent&&this.map&&this.map.extent&&(a.geometry=this.map.extent);e.searchExtent&&(a.geometry=e.searchExtent);var p;if(f=this._whereClause(l,e.featureLayer,f,!1))a.where=f,p=!0;p?e.featureLayer.queryFeatures(a,u.hitch(this,function(a){var e;(a=a.features)&&(e=this._hydrateResults(a,d,!0));c.resolve(e)}),u.hitch(this,function(a){a||(a=this._error("FeatureLayer queryFeatures errored with suggestions"));c.reject(a)})):c.resolve()}else c.reject(this._error("Invalid FeatureLayer field"))})):
c.reject(this._error("Invalid source"))}else c.resolve();return c.promise},_supportsPagination:function(a){var c;a.locator?c=!0:a.featureLayer&&a.featureLayer.advancedQueryCapabilities&&a.featureLayer.advancedQueryCapabilities.supportsPagination&&(c=!0);return c},_suggestQueries:function(a){var c=this.sources,d=this.activeSourceIndex,e=[],f;if(d===this._allIndex)for(d=0;d<c.length;d++)f=a,f.index=d,f=this._suggest(f),e.push(f);else a.index=d,f=this._suggest(a),e.push(f);return na(e)},_getPointFromGeometry:function(a){var c;
switch(a.type){case "extent":c=a.getCenter();break;case "multipoint":c=a.getPoint(0);break;case "point":c=a;break;case "polygon":c=a.getCentroid();break;case "polyline":c=a.getPoint(0,0)}return c},_searchQueries:function(a){a.hasOwnProperty("index")||(a.index=this.activeSourceIndex);var c=[],d;if(a.index===this._allIndex)for(var e=this.sources,f=0;f<e.length;f++)d=a,d.index=f,d=this._search(d),c.push(d);else a=this._search(a),c.push(a);return na(c)},_searchButton:function(){this.enableButtonMode&&
!this.expanded?(this.expand(),J.focus(this.inputNode)):(this._cancelSuggest(),this.search())},_search:function(a){a||(a={text:this.value,magicKey:null,geometry:null,point:null,index:this.activeSourceIndex,latlon:null});this.selectedFeatureId&&(a.text=null,a[this._objectIdIdentifier]=this.selectedFeatureId);var c,d=new p,e=a.index,f=this.sources[e],h;a.hasOwnProperty("text")&&a.text&&(h=u.trim(a.text));if(f){var k="";f.prefix&&!a.magicKey&&(k+=f.prefix);k+=h;f.suffix&&!a.magicKey&&(k+=f.suffix);var l=
this._defaultSR;this.map&&(l=this.map.spatialReference);if(f.locator)if(a.hasOwnProperty("text")&&h){var m={};f.categories&&(m.categories=f.categories);f.locationType&&(m.locationType=f.locationType);l&&(f.locator.outSpatialReference=l);if(this.map&&f.localSearchOptions&&f.localSearchOptions.hasOwnProperty("distance")&&f.localSearchOptions.hasOwnProperty("minScale")){var n=this._getScale();if(!f.localSearchOptions.minScale||n&&n<=parseFloat(f.localSearchOptions.minScale))m.location=this.map.extent.getCenter(),
m.distance=f.localSearchOptions.distance}m.address={};m.maxLocations=f.maxResults||this.maxResults;f.useMapExtent&&this.map&&this.map.extent&&(m.searchExtent=this.map.extent);f.searchExtent&&(m.searchExtent=f.searchExtent);f.sourceCountry&&(m.countryCode=f.sourceCountry);f.countryCode&&(m.countryCode=f.countryCode);a.magicKey&&(m.magicKey=a.magicKey);f.singleLineFieldName?m.address[f.singleLineFieldName]=k:m.address["Single Line Input"]=k;f.outFields&&(m.outFields=f.outFields);f.locator.addressToLocations(m).then(u.hitch(this,
function(a){a=this._hydrateResults(a,e,!1);d.resolve(a)}),u.hitch(this,function(a){a||(a=this._error("Locator addressToLocations could not be performed"));d.reject(a)}))}else a.geometry?(c=this._getPointFromGeometry(a.geometry.geometry))?this._reverseGeocodePoint(e,c).then(function(a){d.resolve(a)},function(a){d.reject(a)}):d.reject(this._error("Invalid point to reverse geocode")):a.point?this._reverseGeocodePoint(e,a.point).then(function(a){d.resolve(a)},function(a){d.reject(a)}):a.latlon?(m=new R(a.latlon,
this._defaultSR),this._reverseGeocodePoint(e,m).then(function(a){d.resolve(a)},function(a){d.reject(a)})):a.hasOwnProperty("text")&&!h?d.resolve([]):d.reject(this._error("Invalid query type for Locator"));else f.featureLayer?this._featureLayerLoaded(f.featureLayer).then(u.hitch(this,function(){var m=this._getDisplayField(f),n=f.searchFields||[m],m=this._validField(f.featureLayer,m),p=this._validFields(f.featureLayer,n);if(m&&p){m=new ja;f.hasOwnProperty("searchQueryParams")&&u.mixin(m,f.searchQueryParams);
l&&(m.outSpatialReference=l,p=this.map&&this.map.getMaxResolution()||1/sa.getUnitValueForSR(l))&&(m.maxAllowableOffset=p);m.returnGeometry=!0;f.outFields&&(m.outFields=f.outFields);var q;a.hasOwnProperty(this._objectIdIdentifier)||(this._supportsPagination(f)&&(m.num=f.maxResults||this.maxResults),f.useMapExtent&&this.map&&this.map.extent&&(m.geometry=this.map.extent),f.searchExtent&&(m.geometry=f.searchExtent),q=f.exactMatch);a.hasOwnProperty("text")&&h?(n=this._whereClause(k,f.featureLayer,n,q))?
(m.where=n,n=!0):n=!1:a.hasOwnProperty(this._objectIdIdentifier)?(m.objectIds=[a[this._objectIdIdentifier]],n=!0):a.geometry?(m.geometry=a.geometry,n=!0):a.point?(m.geometry=a.point,n=!0):a.latlon?(c=new R(a.latlon,this._defaultSR),m.geometry=c,n=!0):(a.hasOwnProperty("text")&&!h?d.resolve([]):d.reject(this._error("Invalid query type for FeatureLayer")),n=!1);n?f.featureLayer.queryFeatures(m,u.hitch(this,function(a){a=a.features;var c;a&&(c=this._hydrateResults(a,e,!1));d.resolve(c)}),u.hitch(this,
function(a){a||(a=this._error("FeatureLayer queryFeatures could not be performed"));d.reject(a)})):d.resolve()}else d.reject(this._error("Invalid FeatureLayer field"))})):d.reject(this._error("Invalid source"))}else d.reject(this._error("Source is undefined"));return d.promise},_clearQueryTimeout:function(){this._queryTimer&&clearTimeout(this._queryTimer)},_formatResults:function(a,c,d){d={activeSourceIndex:c,value:d,numResults:0,numErrors:0,errors:null,results:null};var e={},f={};if(a)if(c===this._allIndex)for(c=
0;c<a.length;c++)a[c]&&(a[c]instanceof Error?(e[c]=a[c],d.numErrors++):(f[c]=a[c],d.numResults+=a[c].length));else a[0]&&(a[0]instanceof Error?(e[c]=a[0],d.numErrors++):(f[c]=a[0],d.numResults+=a[0].length));d.numErrors&&(d.errors=e);d.numResults&&(d.results=f);return d},_reverseGeocodePoint:function(a,c){var d=new p,e=this.sources[a];if(c&&e){var f=e.locationToAddressDistance||this.locationToAddressDistance;e.locator.outSpatialReference=this._defaultSR;this.map&&(e.locator.outSpatialReference=this.map.spatialReference);
e.locator.locationToAddress(c,f,u.hitch(this,function(c){c=this._hydrateResults([c],a,!1);d.resolve(c)}),u.hitch(this,function(a){a||(a=this._error("Locator locationToAddress could not be performed"));d.reject(a)}))}else d.reject(this._error("No point or source defined for reverse geocoding"));return d.promise},_cancelDeferreds:function(){if(this._deferreds&&this._deferreds.length)for(var a=0;a<this._deferreds.length;a++)this._deferreds[a].cancel(this.declaredClass+" cancelling request");this._deferreds=
[]},_sourceBtnKey:function(a){if(a){var c=P("li",this.sourcesNode);a.keyCode===m.UP_ARROW?(a.stopPropagation(),a.preventDefault(),this._showSourcesMenu(),(a=c.length)&&J.focus(c[a-1])):a.keyCode===m.DOWN_ARROW&&(a.stopPropagation(),a.preventDefault(),this._showSourcesMenu(),c[0]&&J.focus(c[0]))}},_inputKey:function(a){if(a){var c=P("li",this.suggestionsNode),d=this.suggestResults;if(a.keyCode===m.TAB||a.keyCode===m.ESCAPE)this._cancelSuggest(),this._hideMenus();else if(a.keyCode===m.UP_ARROW)a.stopPropagation(),
a.preventDefault(),this._cancelSuggest(),d&&this._showSuggestionsMenu(),(a=c.length)&&J.focus(c[a-1]);else if(a.keyCode===m.DOWN_ARROW)a.stopPropagation(),a.preventDefault(),this._cancelSuggest(),d&&this._showSuggestionsMenu(),c[0]&&J.focus(c[0]);else{if(a.ctrlKey||a.metaKey||a.keyCode===m.copyKey||a.keyCode===m.LEFT_ARROW||a.keyCode===m.RIGHT_ARROW||a.keyCode===m.ENTER)return a;this._suggestDelay()}}},_cancelSuggest:function(){this._cancelDeferreds();this._clearQueryTimeout()},_suggestDelay:function(){this._cancelSuggest();
this._changeValue();this._queryTimer=setTimeout(u.hitch(this,function(){this.suggest()}),this.suggestionDelay)},_changeValue:function(){this.set("magicKey",null);this.set("selectedFeatureId",null);this._changeAttrValue("value",this.inputNode.value);this._checkStatus()},_inputClick:function(){this._hideSourcesMenu();this._hideNoResultsMenu()},_getSourceName:function(a){return this._sourceNames[a]},_loadSources:function(a){a=x.filter(a,function(a){return!!a.featureLayer});a=x.map(a,function(a){return this._featureLayerLoaded(a.featureLayer)},
this);return na(a)},_createSourceNameMap:function(a){return this._loadSources(a).then(u.hitch(this,function(){var c=x.map(a,function(a){return a.name||a.featureLayer&&a.featureLayer.name||f.widgets.Search.main.untitledSource});this._preventDuplicateSourceNames(a,c);return c}))},_getDuplicateSourceNameIndexes:function(a){var c={},d=[];x.forEach(a,function(e,f){c.hasOwnProperty(e)?(-1===d.indexOf(c[e])&&d.push(c[e]),d.push(f)):a.lastIndexOf(e)!==f&&(c[e]=f)});return d},_preventDuplicateSourceNames:function(a,
c){if(c&&1<c.length){var d=this._getDuplicateSourceNameIndexes(c);x.forEach(d,function(d){c[d]+=this._getFieldsString(a[d])},this)}},_getFieldsString:function(a){var c="",d=a.featureLayer;if(d){a=a.searchFields||[this._getDisplayField(a)];for(var e=0;e<a.length;e++)var c=0===e?c+": ":c+", ",f=a[e],h=d.getFieldLabel(f),c=c+(h||f)}return c},_splitResult:function(a,c){c=B.escapeString(c);return a.replace(new RegExp("(^|)("+c+")(|$)","ig"),"$1|$2|$3").split("|")},_insertSuggestions:function(c,d){if(this.enableSuggestionsMenu&&
this.suggestionsNode){this._hideSourcesMenu();this._hideNoResultsMenu();var e,f=this.sources;if(c){e=a.create("div");for(var h in c)if(c[h]&&c[h].length){var k=this._getSourceName(h);1<f.length&&this.activeSourceIndex===this._allIndex&&a.create("div",{className:this.css.searchMenuHeader,textContent:k},e);for(var k=a.create("ul",{role:"menu"},e),l=f[h].maxSuggestions||this.maxSuggestions,m=0;m<c[h].length&&m<l;++m)for(var n=a.create("li",{"data-index":m,"data-source-index":h,role:"menuitem",tabindex:0},
k),p=this._getSuggestionName(c[h][m]),p=this._splitResult(p,d),q=p.length,t=0;t<q;t++){var u=p[t];u.toLowerCase()===d.toLowerCase()?a.create("strong",{textContent:u},n):(u=document.createTextNode(u),a.place(u,n))}}}e?(a.place(e,this.suggestionsNode,"only"),this._showSuggestionsMenu()):(a.empty(this.suggestionsNode),this._hideSuggestionsMenu())}},_insertSources:function(c){if(this.enableSourcesMenu&&c&&1<c.length){var d,e,h=this.activeSourceIndex,k=a.create("ul",{role:"menu"});this.enableSearchingAll&&
(d="",h===this._allIndex&&(d="active"),a.create("li",{"data-index":this._allIndex,role:"menuitem",className:d,tabIndex:0,textContent:f.widgets.Search.main.all},k));for(e=0;e<c.length;e++){d="";e===h&&(d=this.css.activeSource);var m=this._getSourceName(e);a.create("li",{"data-index":e,role:"menuitem",className:d,tabIndex:0,textContent:m},k)}l.add(this.containerNode,this.css.hasMultipleSources);a.place(k,this.sourcesNode,"only")}else l.remove(this.containerNode,this.css.hasMultipleSources),a.empty(this.sourcesNode)},
_showLoading:function(){l.add(this.containerNode,this.css.searchLoading)},_hideLoading:function(){l.remove(this.containerNode,this.css.searchLoading)},_checkStatus:function(){this.value?(l.add(this.containerNode,this.css.hasValue),c.set(this.clearNode,"title",f.widgets.Search.main.clearButtonTitle)):this.clear()},_closePopup:function(){this.enableInfoWindow&&this.map&&this.map.infoWindow&&this.map.infoWindow.hide()},_noResults:function(c){var d;c&&(d=u.trim(c));var e=a.create("div",{className:this.css.searchNoResultsBody});
c&&d?(a.create("div",{className:this.css.searchNoResultsHeader,textContent:f.widgets.Search.main.noResults},e),a.create("div",{className:this.css.searchNoResultsText,textContent:E.substitute({value:'"'+c+'"'},f.widgets.Search.main.noResultsFound)},e)):(c=a.create("div",{},e),a.create("span",{"aria-hidden":"true",className:this.css.searchNoValueIcon},c),a.create("span",{className:this.css.searchNoValueText,textContent:f.widgets.Search.main.emptyValue},c));a.place(e,this.noResultsMenuNode,"only")},
_hideMenus:function(){this._hideSourcesMenu();this._hideSuggestionsMenu();this._hideNoResultsMenu()},_hideNoResultsMenu:function(){l.remove(this.containerNode,this.css.showNoResults)},_showNoResultsMenu:function(){this._hideSourcesMenu();this._hideSuggestionsMenu();l.add(this.containerNode,this.css.showNoResults)},_hideSourcesMenu:function(){l.remove(this.containerNode,this.css.showSources)},_hideSuggestionsMenu:function(){l.remove(this.containerNode,this.css.showSuggestions)},_showSourcesMenu:function(){this._hideSuggestionsMenu();
this._hideNoResultsMenu();l.add(this.containerNode,this.css.showSources)},_showSuggestionsMenu:function(){this._hideSourcesMenu();this._hideNoResultsMenu();l.add(this.containerNode,this.css.showSuggestions)},_toggleSourcesMenu:function(){this._hideSuggestionsMenu();this._hideNoResultsMenu();l.toggle(this.containerNode,this.css.showSources)},_getFirstStringField:function(a){if(a&&(a=a.fields)&&a.length)for(var c=0;c<a.length;c++){var d=a[c];if("esriFieldTypeString"===d.type)return d.name}return""},
_getDisplayField:function(a){return a.displayField||a.featureLayer.displayField||this._getFirstStringField(a.featureLayer)},_validLocation:function(a){return a&&"number"===typeof a.x&&"number"===typeof a.y},_validExtent:function(a){return a&&"number"===typeof a.xmin&&"number"===typeof a.ymin&&"number"===typeof a.xmax&&"number"===typeof a.ymax},_hydrateResult:function(a,c,d){var e={},f=this._defaultSR,h;c=this.sources[c];this.map&&(f=this.map.spatialReference);if(a.hasOwnProperty("text")&&a.hasOwnProperty("magicKey"))return a;
if(a.hasOwnProperty("geometry"))h=new aa(a.toJson()),e.feature=h,(h=e.feature.geometry)&&h.setSpatialReference(f);else if(a.hasOwnProperty("location")&&this._validLocation(a.location)){var k=new R(a.location.x,a.location.y,f);h={};a.hasOwnProperty("attributes")&&(h=a.attributes);a.hasOwnProperty("address")&&"object"===typeof a.address&&u.mixin(h,a.address);a.hasOwnProperty("score")&&(h.score=a.score);e.feature=new aa(k,null,h,null)}!e.feature&&d&&(h={},a.hasOwnProperty("attributes")&&(h=a.attributes),
a.hasOwnProperty("score")&&(h.score=a.score),e.feature=new aa(null,null,h,null));if(e.feature){if(a.hasOwnProperty("extent")&&this._validExtent(a.extent))e.extent=new W(a.extent),e.extent.setSpatialReference(f);else if(e.feature&&e.feature.geometry)switch(e.feature.geometry.type){case "extent":e.extent=e.feature.geometry;break;case "multipoint":e.extent=K.getDenormalizedExtent(e.feature.geometry);break;case "polygon":e.extent=K.getDenormalizedExtent(e.feature.geometry);break;case "polyline":e.extent=
K.getDenormalizedExtent(e.feature.geometry);break;case "point":this.map?(f=this.zoomScale,c&&c.zoomScale&&(f=c.zoomScale),this._getScale()>f?e.extent=sa.getExtentForScale(this.map,f).centerAt(e.feature.geometry):e.extent=this.map.extent.centerAt(e.feature.geometry)):e.extent=new W({xmin:e.feature.geometry.x-.25,ymin:e.feature.geometry.y-.25,xmax:e.feature.geometry.x+.25,ymax:e.feature.geometry.y+.25,spatialReference:this._defaultSR})}else e.extent=null;e.name="";c.featureLayer?c.suggestionTemplate&&
d?e.name=E.substitute(a.attributes,c.suggestionTemplate):c.searchTemplate?e.name=E.substitute(a.attributes,c.searchTemplate):(h=this._getDisplayField(c),d=c.featureLayer.getField(h),f=c.featureLayer.getDomain(h),h&&a.hasOwnProperty("attributes")&&a.attributes.hasOwnProperty(h)&&(a=a.attributes[h],f&&"codedValue"===f.type?e.name=this._getCodedName(f.codedValues,a):d&&"esriFieldTypeDate"===d.type&&!isNaN(a)?e.name=n.format(new Date(a)):e.name=a)):a.address&&c.searchTemplate?e.name=E.substitute(a.address,
c.searchTemplate):a.hasOwnProperty("name")?e.name=a.name:a.hasOwnProperty("attributes")&&"object"===typeof a.attributes&&a.attributes.LongLabel?e.name=a.attributes.LongLabel:a.hasOwnProperty("attributes")&&"object"===typeof a.attributes&&a.attributes.Match_addr?(e.name=a.attributes.Match_addr,a.attributes.Addr_type&&"POI"===a.attributes.Addr_type&&a.attributes.StAddr&&a.attributes.City?e.name+=" - "+a.attributes.StAddr+", "+a.attributes.City:a.attributes.Addr_type&&"POI"===a.attributes.Addr_type&&
a.attributes.City&&(e.name+=" - "+a.attributes.City)):a.hasOwnProperty("address")&&"string"===typeof a.address?e.name=a.address:a.hasOwnProperty("address")&&"object"===typeof a.address&&a.address.hasOwnProperty("Address")?a.address.hasOwnProperty("Match_addr")?e.name=a.address.Match_addr:a.address.hasOwnProperty("Address")&&(e.name=a.address.Address):e.feature&&e.feature.geometry&&(e.name=e.feature.geometry.x+","+e.feature.geometry.y);c.featureLayer&&e.feature&&oa(e.feature,c.featureLayer);return e}},
_getScale:function(){var a;this.map&&"function"===typeof this.map.getScale&&(a=this.map.getScale());return a},_hydrateResults:function(a,c,d,e){e=[];var f=0;if(a&&a.length)for(f;f<a.length;f++){var h=this._hydrateResult(a[f],c,d);h&&e.push(h)}return e},_containsNonLatinCharacter:function(a){for(var c=0;c<a.length;c++)if(255<a.charCodeAt(c))return!0;return!1},_setPlaceholder:function(a){var d="",e=this.sources[a];a===this._allIndex?d=this.allPlaceholder||f.widgets.Search.main.allPlaceholder:e&&e.placeholder&&
(d=e.placeholder);var h=f.widgets.Search.main.all;e&&(h=this._getSourceName(a));c.set(this.sourceNameNode,"textContent",h);c.set(this.inputNode,"placeholder",d);c.set(this.inputNode,"title",d)},_updateActiveSource:function(){var a=this.sources,c=this.activeSourceIndex,d;a&&a[c]&&(d=a[c]);d?this.set("activeSource",d):this.set("activeSource",null)},_updateVisible:function(){this.visible?this.show():this.hide()},_updateButtonMode:function(a){a?(l.toggle(this.containerNode,this.css.searchExpanded,this.expanded),
l.toggle(this.containerNode,this.css.searchCollapsed,!this.expanded),l.add(this.containerNode,this.css.hasButtonMode)):(l.remove(this.containerNode,this.css.searchExpanded),l.remove(this.containerNode,this.css.searchCollapsed),l.remove(this.containerNode,this.css.hasButtonMode))},_setDefaultActiveSourceIndex:function(a){a&&1===a.length||!this.enableSearchingAll?this.set("activeSourceIndex",0):this.set("activeSourceIndex",this._allIndex)},_setEnableSourcesMenuAttr:function(a){this._set("enableSourcesMenu",
a);this._created&&this._insertSources(this.sources)},_setEnableSearchingAllAttr:function(a){this._set("enableSearchingAll",a);this._created&&(this._setDefaultActiveSourceIndex(this.sources),this._hideMenus(),this._insertSources(this.sources))},_setSourcesAttr:function(a){this._createSourceNameMap(a).then(u.hitch(this,function(c){this._sourceNames=c;this._created&&(this._setDefaultActiveSourceIndex(a),this._hideMenus(),this._insertSources(a))}));this._set("sources",a)},_setAllPlaceholderAttr:function(a){this._set("allPlaceholder",
a);this._created&&this._setPlaceholder(this.activeSourceIndex)},_setActiveSourceIndexAttr:function(a){this._set("activeSourceIndex",a);this._updateActiveSource();this._created&&(this._setPlaceholder(a),this._hideMenus(),this._insertSources(this.sources))},_setMaxLengthAttr:function(a){this._set("maxLength",a);this._created&&c.set(this.inputNode,"maxLength",a)},_setValueAttr:function(a){this.set("magicKey",null);this.set("selectedFeatureId",null);this._set("value",a);this._created&&(c.set(this.inputNode,
"value",a),this._checkStatus())},_setVisibleAttr:function(a){this._set("visible",a);this._created&&this._updateVisible()},_setEnableButtonModeAttr:function(a){this._set("enableButtonMode",a);this._created&&this._updateButtonMode(a)},_setThemeAttr:function(a){this._created&&(l.remove(this.domNode,this.theme),l.add(this.domNode,a));this._set("theme",a)}});I("extend-esri")&&u.setObject("dijit.Search",z,F);return z})},"esri/tasks/locator":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/_base/json dojo/has ../kernel ../request ../deferredUtils ./Task ./AddressCandidate".split(" "),
function(A,z,u,x,v,p,m,y,P,I,B){A=A(I,{declaredClass:"esri.tasks.Locator",_eventMap:{"address-to-locations-complete":["addresses"],"addresses-to-locations-complete":["addresses"],"location-to-address-complete":["address"],"suggest-locations-complete":["suggestions"]},constructor:function(e){this._geocodeHandler=z.hitch(this,this._geocodeHandler);this._geocodeAddressesHandler=z.hitch(this,this._geocodeAddressesHandler);this._reverseGeocodeHandler=z.hitch(this,this._reverseGeocodeHandler);this.registerConnectEvents()},
outSpatialReference:null,setOutSpatialReference:function(e){this.outSpatialReference=e},_geocodeHandler:function(e,c,l,k,a){try{var m=e.candidates,f;c=[];var h,p=m.length,t=e.spatialReference,d;for(h=0;h<p;h++){f=m[h];if(d=f.location)d.spatialReference=t;c[h]=new B(f)}this._successHandler([c],"onAddressToLocationsComplete",l,a)}catch(q){this._errorHandler(q,k,a)}},_geocodeAddressesHandler:function(e,c,l,k,a){try{var m=e.locations;c=[];var f,h=m.length,p=e.spatialReference,t;for(f=0;f<h;f++){if(t=
m[f].location)t.spatialReference=p;c[f]=new B(m[f])}this._successHandler([c],"onAddressesToLocationsComplete",l,a)}catch(d){this._errorHandler(d,k,a)}},addressToLocations:function(e,c,l,k,a){var m,f,h,p,t,d,q,u;e.address&&(k=l,l=c,c=e.outFields,a=e.searchExtent,u=e.countryCode,m=e.magicKey,f=e.distance,q=e.categories,e.location&&this.normalization&&(h=e.location.normalize()),p=e.locationType,t=e.maxLocations,d=e.forStorage,e=e.address);a&&(a=a.shiftCentralMeridian());var B=this.outSpatialReference;
e=this._encode(z.mixin({},this._url.query,e,{f:"json",outSR:B&&v.toJson(B.toJson()),outFields:c&&c.join(",")||null,searchExtent:a&&v.toJson(a.toJson()),category:q&&q.join(",")||null,countryCode:u||null,magicKey:m||null,distance:f||null,location:h||null,locationType:p||null,maxLocations:t||null,forStorage:d||null}));var A=this._geocodeHandler,F=this._errorHandler,I=new x(P._dfdCanceller);I._pendingDfd=y({url:this._url.path+"/findAddressCandidates",content:e,callbackParamName:"callback",load:function(a,
c){A(a,c,l,k,I)},error:function(a){F(a,k,I)}});return I},suggestLocations:function(e){var c;c=new x(P._dfdCanceller);e.hasOwnProperty("location")&&this.normalization&&(e.location=e.location.normalize());e.searchExtent&&(e.searchExtent=e.searchExtent.shiftCentralMeridian());e=this._encode(z.mixin({},this._url.query,{f:"json",text:e.text,maxSuggestions:e.maxSuggestions,searchExtent:e.searchExtent&&v.toJson(e.searchExtent.toJson()),category:e.categories&&e.categories.join(",")||null,countryCode:e.countryCode||
null,location:e.location||null,distance:e.distance||null},{f:"json"}));e=y({url:this._url.path+"/suggest",content:e,callbackParamName:"callback"});c._pendingDfd=e;e.then(z.hitch(this,function(e){e=e.suggestions||[];this.onSuggestLocationsComplete(e);c.resolve(e)}),z.hitch(this,function(e){this._errorHandler(e);c.reject(e)}));return c},addressesToLocations:function(e,c,l){var k=this.outSpatialReference,a=[],m=e.categories,f=e.locationType,h=e.countryCode;u.forEach(e.addresses,function(c,d){a.push({attributes:c})});
e=this._encode(z.mixin({},this._url.query,{category:m&&m.join(",")||null,locationType:f||null,sourceCountry:h||null},{addresses:v.toJson({records:a})},{f:"json",outSR:k&&v.toJson(k.toJson())}));var p=this._geocodeAddressesHandler,t=this._errorHandler,d=new x(P._dfdCanceller);d._pendingDfd=y({url:this._url.path+"/geocodeAddresses",content:e,callbackParamName:"callback",load:function(a,e){p(a,e,c,l,d)},error:function(a){t(a,l,d)}});return d},_reverseGeocodeHandler:function(e,c,l,k,a){try{var m=new B({address:e.address,
location:e.location,score:100});this._successHandler([m],"onLocationToAddressComplete",l,a)}catch(f){this._errorHandler(f,k,a)}},locationToAddress:function(e,c,l,k){e&&this.normalization&&(e=e.normalize());var a=this.outSpatialReference;e=this._encode(z.mixin({},this._url.query,{outSR:a&&v.toJson(a.toJson()),location:e&&v.toJson(e.toJson()),distance:c,f:"json"}));var m=this._reverseGeocodeHandler,f=this._errorHandler,h=new x(P._dfdCanceller);h._pendingDfd=y({url:this._url.path+"/reverseGeocode",content:e,
callbackParamName:"callback",load:function(a,c){m(a,c,l,k,h)},error:function(a){f(a,k,h)}});return h},onSuggestLocationsComplete:function(){},onAddressToLocationsComplete:function(){},onAddressesToLocationsComplete:function(){},onLocationToAddressComplete:function(){}});p("extend-esri")&&z.setObject("tasks.Locator",A,m);return A})},"esri/tasks/AddressCandidate":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","../geometry/Point"],function(A,z,u,x,v){A=A(null,{declaredClass:"esri.tasks.AddressCandidate",
constructor:function(p){z.mixin(this,p);this.location=new v(this.location)}});u("extend-esri")&&z.setObject("tasks.AddressCandidate",A,x);return A})},"esri/styles/basic":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/has","../kernel","../Color"],function(A,z,u,x,v){function p(m,e){var c;if(m)switch(c={},c.color=new v(m.color),c.opacity=m.opacity||1,e){case "point":c.outline={color:new v(m.outline.color),width:m.outline.width};c.size=m.size;break;case "line":c.width=m.width;break;case "polygon":c.outline=
{color:new v(m.outline.color),width:m.outline.width}}return c}function m(m){if("esriGeometryPoint"===m||"esriGeometryMultipoint"===m)m="point";else if("esriGeometryPolyline"===m)m="line";else if("esriGeometryPolygon"===m||"esriGeometryMultiPatch"===m)m="polygon";return m}var y={"default":{name:"default",label:"Default",description:"Default theme for basic visualization of features.",basemapGroups:{light:"streets gray topo terrain national-geographic oceans osm gray-vector streets-vector topo-vector streets-relief-vector streets-navigation-vector".split(" "),
dark:["satellite","hybrid","dark-gray","dark-gray-vector","streets-night-vector"]},pointSchemes:{light:{primary:{color:[77,77,77,1],outline:{color:[255,255,255,.25],width:1},size:8},secondary:[{color:[226,119,40,1],outline:{color:[255,255,255,.25],width:1},size:8},{color:[255,255,255,1],outline:{color:[51,51,51,.25],width:1},size:8}]},dark:{primary:{color:[255,255,255,1],outline:{color:[92,92,92,.25],width:1},size:8},secondary:[{color:[226,119,40,1],outline:{color:[255,255,255,.25],width:1},size:8},
{color:[26,26,26,1],outline:{color:[178,178,178,.25],width:1},size:8}]}},lineSchemes:{light:{primary:{color:[77,77,77,1],width:2},secondary:[{color:[226,119,40,1],width:2},{color:[255,255,255,1],width:2}]},dark:{primary:{color:[255,255,255,1],width:2},secondary:[{color:[226,119,40,1],width:2},{color:[26,26,26,1],width:2}]}},polygonSchemes:{light:{primary:{color:[227,139,79,1],outline:{color:[255,255,255,.25],width:1},opacity:.8},secondary:[{color:[128,128,128,1],outline:{color:[255,255,255,.25],width:1},
opacity:.8},{color:[255,255,255,1],outline:{color:[128,128,128,.25],width:1},opacity:.8}]},dark:{primary:{color:[227,139,79,1],outline:{color:[92,92,92,.25],width:1},opacity:.8},secondary:[{color:[178,178,178,1],outline:{color:[92,92,92,.25],width:1},opacity:.8},{color:[26,26,26,1],outline:{color:[128,128,128,.25],width:1},opacity:.8}]}}}},P={};(function(){var m,e,c,l,k,a,n,f;for(m in y)for(l in e=y[m],c=e.basemapGroups,k=P[m]={basemaps:[].concat(c.light).concat(c.dark),point:{},line:{},polygon:{}},
c)for(a=c[l],n=0;n<a.length;n++)f=a[n],e.pointSchemes&&(k.point[f]=e.pointSchemes[l]),e.lineSchemes&&(k.line[f]=e.lineSchemes[l]),e.polygonSchemes&&(k.polygon[f]=e.polygonSchemes[l])})();var I={getAvailableThemes:function(m){var e=[],c,l,k;for(c in y)l=y[c],k=P[c],m&&-1===A.indexOf(k.basemaps,m)||e.push({name:l.name,label:l.label,description:l.description,basemaps:k.basemaps.slice(0)});return e},getSchemes:function(u){var e=u.theme,c=u.basemap,l=m(u.geometryType);u=P[e];var k;(u=(u=u&&u[l])&&u[c])&&
(k={primaryScheme:p(u.primary,l),secondarySchemes:A.map(u.secondary,function(a){return p(a,l)})});return k},cloneScheme:function(m){var e;m&&(e=z.mixin({},m),e.color&&(e.color=new v(e.color)),e.outline&&(e.outline={color:e.outline.color&&new v(e.outline.color),width:e.outline.width}));return e}};u("extend-esri")&&z.setObject("styles.basic",I,x);return I})},"widgets/PublicNotification/reviewResults":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./reviewResults.html dojo/_base/lang jimu/dijit/FeatureSetChooserForMultipleLayers dojo/dom-attr jimu/utils dojo/query dojo/dom-class dojo/Evented dojo/keys dojo/on dijit/focus dijit/form/TextBox".split(" "),
function(A,z,u,x,v,p,m,y,P,I,B,e,c,l,k){return A([z,u,x,e],{templateString:v,baseClass:"jimu-widget-public-notification-reviewResults",constructor:function(a){a&&p.mixin(this,a)},startup:function(){},postCreate:function(){this.clearBtn.innerHTML=this.nls.common.clear;y.set(this.clearBtn,"aria-label",this.nls.common.clear);this.reviewResultsDownloadBtn.innerHTML=window.jimuNls.layerInfosMenu.itemDownload;y.set(this.reviewResultsDownloadBtn,"aria-label",window.jimuNls.layerInfosMenu.itemDownload);this.addresseeTextbox.set("value",
this.addresseeLayer.title);this.formatSelect.addOption(this.formselectOptions);this._eventListners();this._createSelectTool()},_eventListners:function(){this.own(l(this.reviewResultsDownloadBtn,"keydown",p.hitch(this,function(a){a.keyCode!==c.ENTER&&a.keyCode!==c.SPACE||this._onDownloadBtnClicked()})));this.own(l(this.clearBtn,"keydown",p.hitch(this,function(a){a.keyCode!==c.ENTER&&a.keyCode!==c.SPACE||this.emit("clear")})))},_createSelectTool:function(){this._selectTool=new m({geoTypes:this.geoTypes,
map:this.map,updateSelection:!0,fullyWithin:!1},this.selectToolDiv);this._selectTool.startup();var a=I(".draw-item-btn",this._selectTool.domNode)[0];B.add(a,"esriCTselectToolDiv");a=I(".btn-clear",this._selectTool.domNode)[0];B.add(a,"hidden");this._onUnloading()},_onClearBtnClicked:function(){this.emit("clear")},_getGeoType:function(){var a;switch(this.addresseeLayer.layerObject.geometryType){case "esriGeometryPolygon":a="POLYGON";break;case "esriGeometryPolyline":a="POLYLINE";break;case "esriGeometryPoint":a=
"POINT";break;default:a="EXTENT"}return a},_onUnloading:function(){""!==this._selectTool&&null!==this._selectTool&&void 0!==this._selectTool&&this.own(l(this._selectTool,"unloading",p.hitch(this,function(){this.emit("unloadingComplete")})))},resetFeatureLayerToSelectTool:function(a){var c;c=[];c.push(a);""!==this._selectTool&&null!==this._selectTool&&void 0!==this._selectTool&&this._selectTool.setFeatureLayers(c)},_deactivateSelectTool:function(){this._selectTool&&this._selectTool.deactivate()},_onDownloadBtnClicked:function(){this.emit("onDownloadBtnClicked")},
setAccessibility:function(){this._setFirstFocusNode();this._setLastFocusNode();this.setFocus()},_setFirstFocusNode:function(){var a=I(".draw-item-btn",this._selectTool.domNode);""!==a&&null!==a&&void 0!==a&&P.initFirstFocusNode(this.domNode,a[0])},_setLastFocusNode:function(){P.initLastFocusNode(this.domNode,this.reviewResultsDownloadBtn)},setFocus:function(){P.focusFirstFocusNode(this.domNode)},setFocusOnDownloadButton:function(){k.focus(this.reviewResultsDownloadBtn)},updateDownloadBtnAriaLabel:function(a){y.set(this.reviewResultsDownloadBtn,
"aria-label",a?a+" "+this.reviewResultsDownloadBtn.innerHTML:this.reviewResultsDownloadBtn.innerHTML)}})})},"widgets/PublicNotification/_build-generate_module":function(){define(["dojo/text!./Widget.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:dijit/templates/ProgressBar.html":'\x3cdiv class\x3d"dijitProgressBar dijitProgressBarEmpty" role\x3d"progressbar"\r\n\t\x3e\x3cdiv  data-dojo-attach-point\x3d"internalProgress" class\x3d"dijitProgressBarFull"\r\n\t\t\x3e\x3cdiv class\x3d"dijitProgressBarTile" role\x3d"presentation"\x3e\x3c/div\r\n\t\t\x3e\x3cspan style\x3d"visibility:hidden"\x3e\x26#160;\x3c/span\r\n\t\x3e\x3c/div\r\n\t\x3e\x3cdiv data-dojo-attach-point\x3d"labelNode" class\x3d"dijitProgressBarLabel" id\x3d"${id}_label"\x3e\x3c/div\r\n\t\x3e\x3cspan data-dojo-attach-point\x3d"indeterminateHighContrastImage"\r\n\t\t   class\x3d"dijitInline dijitProgressBarIndeterminateHighContrastImage"\x3e\x3c/span\r\n\x3e\x3c/div\x3e\r\n',
"url:jimu/dijit/templates/SearchDistance.html":'\x3cdiv\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"cbxDiv"\x3e\x3c/div\x3e\r\n\t\x3ctable style\x3d"table-layout:fixed;width:100%;"\x3e\r\n\t\t\x3ccolgroup\x3e\r\n\t\t\t\x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n\t\t\t\x3ccol width\x3d"15px"\x3e\x3c/col\x3e\r\n\t\t\t\x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n\t\t\x3c/colgroup\x3e\r\n\t\t\x3ctbody\x3e\r\n\t\t\t\x3ctr\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"numberTextBox" data-dojo-type\x3d"dijit/form/NumberTextBox"\r\n\t\t\t\t\t data-dojo-props\x3d\'"required":true,intermediateChanges:false,constraints:{min:0,pattern:"#####0.##########"}\'\r\n\t\t\t\t\t style\x3d"width:100%;" data-dojo-attach-event\x3d"change:_onNumberTextBoxChanged" /\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cselect data-dojo-type\x3d"jimu/dijit/formSelect" data-dojo-attach-point\x3d"unitSelect"\r\n\t\t\t\t\tdata-dojo-attach-event\x3d"change:_onUnitSelectChanged" style\x3d"width:100%;"\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"MILES" selected\x3e${nls.miles}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"KILOMETERS"\x3e${nls.kilometers}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"FEET"\x3e${nls.feet}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"METERS"\x3e${nls.meters}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"YARDS"\x3e${nls.yards}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"NAUTICAL_MILES"\x3e${nls.nauticalMiles}\x3c/option\x3e\r\n\t\t\t\t\t\x3c/select\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\x3c/tbody\x3e\r\n\t\x3c/table\x3e\r\n\x3c/div\x3e',
"url:jimu/dijit/templates/FeatureSetChooserForMultipleLayers.html":'\x3cdiv class\x3d"jimu-not-selectable"\x3e\r\n  \x3cdiv class\x3d"draw-item-btn" tabindex\x3d"0"\x3e\r\n    \x3cdiv class\x3d"current-draw-item" data-dojo-attach-point\x3d"currentDrawItem"\x3e\r\n      \x3cdiv class\x3d"btn-select" data-dojo-attach-point\x3d"btnSelect"\x3e\r\n        \x3cdiv class\x3d"labels"\x3e\r\n            \x3cdiv class\x3d"feature-action" data-dojo-attach-point\x3d"geoTypeIcon"\x3e\x3c/div\x3e\r\n            \x3cdiv class\x3d"select-text"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"arrow feature-action icon-drop-down" data-dojo-attach-event\x3d"click:_onArrowClicked"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"btn-clear" data-dojo-attach-point\x3d"btnClear" tabindex\x3d"0"\x3e\r\n    \x3cdiv class\x3d"feature-action icon-clear-selection"\x3e\x3c/div\x3e\x3cdiv class\x3d"clear-text"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:esri/dijit/Search/templates/Search.html":'\x3cdiv role\x3d"presentation" class\x3d"${theme}"\x3e\r\n  \x3cdiv role\x3d"presentation" class\x3d"${css.searchGroup}" data-dojo-attach-point\x3d"containerNode"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"expandNode" class\x3d"${css.searchExpandContainer}"\x3e\r\n      \x3cdiv class\x3d"${css.searchAnimateContainer}"\x3e\r\n        \x3cdiv role\x3d"button" title\x3d"${_i18n.widgets.Search.main.searchIn}" id\x3d"${id}_menu_button" class\x3d"${css.searchBtn} ${css.searchToggle}" tabindex\x3d"0" data-dojo-attach-point\x3d"sourcesBtnNode"\x3e\r\n          \x3cspan aria-hidden\x3d"true" role\x3d"presentation" class\x3d"${css.searchToggleIcon}"\x3e\x3c/span\x3e\x3cspan class\x3d"${css.searchSourceName}" data-dojo-attach-point\x3d"sourceNameNode"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"${css.searchInputGroup}"\x3e\r\n          \x3cform data-dojo-attach-point\x3d"formNode"\x3e\r\n            \x3cinput maxlength\x3d"${maxLength}" autocomplete\x3d"off" type\x3d"text" tabindex\x3d"0" class\x3d"${css.searchInput}" value\x3d"${value}" aria-haspopup\x3d"true" id\x3d"${id}_input" data-dojo-attach-point\x3d"inputNode" role\x3d"textbox"\x3e\r\n          \x3c/form\x3e\r\n          \x3cdiv role\x3d"button" class\x3d"${css.searchClear}" tabindex\x3d"0" data-dojo-attach-point\x3d"clearNode"\x3e\x3cspan aria-hidden\x3d"true" class\x3d"${css.searchClearIcon}"\x3e\x3c/span\x3e\x3cspan aria-hidden\x3d"true" class\x3d"${css.searchSpinner}"\x3e\x3c/span\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"suggestionsNode" class\x3d"${css.searchMenu} ${css.suggestionsMenu}"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv role\x3d"button" title\x3d"${_i18n.widgets.Search.main.searchButtonTitle}" class\x3d"${css.searchBtn} ${css.searchSubmit}" tabindex\x3d"0" data-dojo-attach-point\x3d"submitNode"\x3e\r\n      \x3cspan aria-hidden\x3d"true" role\x3d"presentation" class\x3d"${css.searchIcon}"\x3e\x3c/span\x3e\r\n      \x3cspan class\x3d"${css.searchButtonText}"\x3e${_i18n.widgets.Search.main.searchButtonTitle}\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"sourcesNode" class\x3d"${css.searchMenu} ${css.sourcesMenu}"\x3e\x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"noResultsMenuNode" class\x3d"${css.searchMenu} ${css.searchNoResultsMenu}"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"${css.searchClearFloat}"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/PublicNotification/reviewResults.html":' \x3cdiv style\x3d"width: 100%;" data-dojo-attach-point\x3d"reviewResultsNode"\x3e\r\n     \x3cdiv class\x3d"esriCTHeader"\x3e\r\n     \x3cdiv class\x3d"esriCTPageTittle"\x3e${nls.reviewResults.reviewResultsLabel}\x3c/div\x3e\r\n     \x3cdiv class\x3d"esriCTPageContent"\x3e\r\n\r\n        \x3cdiv class\x3d"section"\x3e\r\n            \x3cdiv\x3e${nls.groupingLabels.addresseeSource}\x3c/div\x3e\r\n            \x3cdiv class\x3d"entryFullWidth"\x3e\r\n              \x3cdiv style\x3d"width: 100%;" aria-label\x3d"${nls.groupingLabels.addresseeSource}" data-dojo-attach-point\x3d"addresseeTextbox" data-dojo-type\x3d"dijit/form/TextBox" disabled\x3dtrue\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n\r\n          \x3cdiv class\x3d"section" style\x3d"padding-bottom:5px;"\x3e\r\n            \x3cdiv class\x3d"esriCTSelectToolWrapper"\x3e\r\n              \x3cdiv data-dojo-attach-point\x3d"selectToolDiv"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n\r\n          \x3cdiv class\x3d"section"\x3e\r\n            \x3cdiv\x3e${nls.groupingLabels.formatHeaderText}\x3c/div\x3e\r\n            \x3cdiv class\x3d"entryFullWidth"\x3e\r\n              \x3cselect aria-label\x3d"${nls.groupingLabels.formatHeaderText}" class\x3d"lastFocusNode" data-dojo-attach-point\x3d"formatSelect" data-dojo-type\x3d"jimu/dijit/formSelect"\x3e\x3c/select\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"section"\x3e\r\n            \x3cdiv id\x3d"rrNumAddresseesFound" class\x3d"hidden"\x3e\x3c/div\x3e\r\n            \x3c!-- aria-label added at runtime --\x3e\r\n            \x3cdiv class\x3d"esriCTButtonsWrapper"\x3e\r\n                \x3cdiv class\x3d"esriCTButton esriCTMargin10"\x3e\r\n                    \x3cdiv tabindex\x3d"0" role\x3d"button" data-dojo-attach-point\x3d"clearBtn" class\x3d"jimu-btn jimu-float-trailing"\r\n                    data-dojo-attach-event\x3d"onclick:_onClearBtnClicked"\x3e\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv class\x3d"esriCTButton esriCTMargin2"\x3e\r\n                    \x3cdiv tabindex\x3d"0" role\x3d"button" data-dojo-attach-point\x3d"reviewResultsDownloadBtn"\r\n                        class\x3d"jimu-btn jimu-float-trailing focusableItem" data-dojo-attach-event\x3d"onclick:_onDownloadBtnClicked"\x3e\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n     \x3c/div\x3e\r\n    \x3c/div\x3e\r\n \x3c/div\x3e',
"url:widgets/PublicNotification/Widget.html":'\x3cdiv\x3e\r\n    \x3cdiv id\x3d"activeWidgetSection" style\x3d"display:none" data-dojo-attach-point\x3d"mainPageContainer"\x3e\r\n        \x3cdiv id\x3d"sourceInputsSection"\x3e\r\n            \x3cdiv\x3e${nls.groupingLabels.searchHeaderText}\x3c/div\x3e\r\n            \x3cdiv class\x3d"section"\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"searchNode" class\x3d"search-node searchDijitFillsContainer"\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv tabindex\x3d"-1" data-dojo-attach-point\x3d"searchResultsNode" class\x3d"searchResults arcgisSearch"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3cdiv class\x3d"section" data-dojo-attach-point\x3d"drawBoxDijit"\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"drawBoxDiv"\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3cdiv class\x3d"section" data-dojo-attach-point\x3d"searchDistanceDijit" style\x3d"height:68px"\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"searchDistanceDiv" class\x3d"section entryFullWidth"\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv id\x3d"sourceInputsSectionScrim" class\x3d\'scrim hidden\'\x3e\x3c/div\x3e\r\n\r\n        \x3cdiv id\x3d"addresseeSourceSection" class\x3d"section"\x3e\r\n            \x3cdiv\x3e${nls.groupingLabels.addresseeSource}\x3c/div\x3e\r\n            \x3cdiv class\x3d"entryFullWidth"\x3e\r\n                \x3cselect aria-label\x3d"${nls.groupingLabels.addresseeSource}" data-dojo-attach-point\x3d"addresseeSelect"\r\n                    data-dojo-type\x3d"jimu/dijit/formSelect"\x3e\x3c/select\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"section"\x3e\r\n            \x3cdiv\x3e${nls.groupingLabels.formatHeaderText}\x3c/div\x3e\r\n            \x3cdiv class\x3d"entryFullWidth"\x3e\r\n                \x3cselect aria-label\x3d"${nls.groupingLabels.formatHeaderText}" class\x3d"lastFocusNode" data-dojo-attach-point\x3d"formatSelect"\r\n                    data-dojo-type\x3d"jimu/dijit/formSelect"\x3e\x3c/select\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"section"\x3e\r\n            \x3cdiv id\x3d"numAddresseesFound"\x3e\x3c/div\x3e\r\n            \x3c!-- aria-label added at runtime --\x3e\r\n            \x3cdiv class\x3d"esriCTButtonsWrapper"\x3e\r\n                \x3cdiv class\x3d"esriCTButton esriCTMargin10"\x3e\r\n                    \x3cdiv tabindex\x3d"0" role\x3d"button" data-dojo-attach-point\x3d"reviewBtn" data-dojo-attach-event\x3d"onclick:_onReviewBtnClicked" class\x3d"jimu-btn jimu-float-trailing hidden"\x3e\x3c/div\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv class\x3d"esriCTButton esriCTMargin2"\x3e\r\n                    \x3cdiv tabindex\x3d"0" role\x3d"button" data-dojo-attach-point\x3d"downloadBtn" data-dojo-attach-event\x3d"onclick:_onDownloadBtnClicked" class\x3d"jimu-btn jimu-float-trailing focusableItem hidden"\x3e\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"section"\x3e\r\n            \x3cdiv data-dojo-type\x3d"dijit/ProgressBar" class\x3d"progressbar"\r\n                data-dojo-attach-point\x3d"indeterminateProgress" id\x3d"indeterminateProgress"\x3e\x3c/div\x3e\r\n            \x3cdiv data-dojo-type\x3d"dijit/ProgressBar" class\x3d"progressbar"\r\n                data-dojo-attach-point\x3d"determinateProgress" id\x3d"downloadProgress"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3c!-- results review page starts --\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"reviewResultsContainer"\x3e\x3c/div\x3e\r\n    \x3c!-- results review page ends --\x3e\r\n    \x3cdiv id\x3d"nothingConfiguredSection" style\x3d"display:none"\x3e\r\n        \x3cdiv\x3e${nls.tooltips.nothingConfigured}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/PublicNotification/css/style.css":'.jimu-widget-public-notification .search-controls {height: 34px;}.jimu-widget-public-notification .search-node {height: 34px;}.jimu-widget-public-notification .esriCTSelectLocationDiv {margin: 0px 0px 0px 2px; float: right; min-width: 34px;}.jimu-widget-public-notification .imgBtnCell {width: 34px;}.jimu-widget-public-notification .imgBtn {cursor: pointer; width: 34px; height: 34px; border: 1px solid #57585A; border-radius: 4px; background-position: center center; background-repeat: no-repeat; position: relative;}.jimu-widget-public-notification .focusableItem:focus {border-color: rgb(81,177,254); box-shadow: rgb(81,177,254) 0px 0px 5px 0px; outline-color: rgb(77,144,254);}.jimu-widget-public-notification .arcgisSearch .searchBtn {padding: 6px;}.jimu-widget-public-notification table {width: 100%;}.jimu-widget-public-notification {min-height: 32px;}.jimu-widget-public-notification .search-node.default-width-for-openAtStart {width: 274px;}.jimu-widget-public-notification .result-item-selected {background: #eee;}.jimu-widget-public-notification .arcgisSearch .searchBtn {padding: 6px;}.jimu-widget-public-notification .arcgisSearch .searchBtn:hover,.jimu-widget-public-notification .arcgisSearch .searchBtn:focus {background-color: #485566; color: white;}.jimu-widget-public-notification.use-absolute .arcgisSearch .searchToggle {float: left;}.jimu-rtl .jimu-widget-public-notification.use-absolute .arcgisSearch .searchToggle {float: right;}.jimu-widget-public-notification.use-absolute .arcgisSearch .searchInputGroup {position: absolute; top: 0; width: auto; left: 34px; right: 34px;}.jimu-widget-public-notification.use-absolute .arcgisSearch .searchInputGroup form {overflow: hidden; z-index: 0; position: relative;}.jimu-widget-public-notification.use-absolute .arcgisSearch .searchInputGroup .searchClear {z-index: 0;}.jimu-widget-public-notification.use-absolute .arcgisSearch .searchExpandContainer {float: none;}.jimu-widget-public-notification.use-absolute .arcgisSearch .searchSubmit {float: right;}.jimu-rtl .jimu-widget-public-notification.use-absolute .arcgisSearch .searchSubmit {float: left;}.jimu-widget-public-notification .arcgisSearch .show-all-results {position: absolute; height: 25px; color: #686868; line-height: 25px; display: none; width: 237px; margin: auto; background-color: #fff; padding: 0 12px; cursor: pointer;}.jimu-widget-public-notification .arcgisSearch .searchMenu {border-radius: 0; color: #686868; font-size: 12px; padding: 0; top: 33px;}.jimu-widget-public-notification .arcgisSearch .searchMenu li.active {background-color: #d9dde0; color: #686868; font-size: 14px;}.jimu-widget-public-notification .arcgisSearch .searchMenu li {padding: 0 12px; line-height: 25px;}.jimu-widget-public-notification .arcgisSearch .searchMenu .menuHeader {background-color: #d9dde0; color: #686868; font-size: 14px; min-height: 30px; padding: 0 12px; line-height: 30px;}.jimu-widget-public-notification .section,.jimu-widget-public-notification-reviewResults .section {clear: both; padding-bottom: 12px;}.jimu-widget-public-notification .entryFullWidth,.jimu-widget-public-notification-reviewResults .entryFullWidth {margin: 4px; height: 30px;}.jimu-widget-public-notification .distance {width: calc(100% - 126px); width: 49%;}.jimu-widget-public-notification .unitsSelect {float: right; width: 120px; width: 49%;}.jimu-widget-public-notification .hidden,.jimu-widget-public-notification-reviewResults .hidden {display: none;}.jimu-widget-public-notification .sourceInputsSection {position: relative;}.jimu-widget-public-notification .scrim {position: absolute; background-color: transparent; z-index: 10;}.jimu-widget-public-notification .searchDijitFillsContainer .arcgisSearch .searchExpandContainer {float: none; width: calc(100% - 22px);}.jimu-widget-public-notification .searchDijitFillsContainer .arcgisSearch .searchInputGroup {width: calc(100% - 12px);}.jimu-widget-public-notification .searchDijitFillsContainer .arcgisSearch .searchGroup .searchInput {width: calc(100% - 13px); padding: 6px;}.jimu-widget-public-notification .searchDijitFillsContainer .arcgisSearch .hasMultipleSources .searchExpandContainer {float: none; width: calc(100% - 10px);}.jimu-widget-public-notification .searchDijitFillsContainer .arcgisSearch .hasMultipleSources .searchInputGroup {width: calc(100% - 58px);}.jimu-widget-public-notification .searchDijitFillsContainer .arcgisSearch .hasMultipleSources .searchInput {width: calc(100% - 12px); padding: 6px;}.jimu-widget-public-notification #numAddresseesFound {margin-left: 5px; margin-bottom: 12px;}.jimu-widget-public-notification .progressbar {display: none; margin-top: 40px;}.jimu-widget-public-notification .esriCTClearBoth {clear: both;}.jimu-widget-public-notification .esriCTFullWidth {width: 100%;}.jimu-widget-public-notification .switch-toggle.dijitCheckBox {height: 16px; width: 28px; border: 0 none; background: #adadad; position: relative; display: inline-block; cursor: pointer; -moz-border-radius: 10px; -webkit-border-radius: 10px; border-radius: 10px; margin-left: 2px;}.jimu-widget-public-notification .switch-toggle.dijitCheckBox:before {content: ""; background: #f8f8f8; position: absolute; padding: 0; height: 12px; width: 12px; left: auto; right: 14px; top: 2px; z-index: 1; -webkit-transition: right 0.3s; -moz-transition: right 0.3s; -o-transition: right 0.3s; transition: right 0.3s; -moz-border-radius: 50%; -webkit-border-radius: 50%; border-radius: 50%;}.jimu-widget-public-notification .switch-toggle.dijitCheckBox input {width: 100%; height: 100%; position: absolute; left: 0; z-index: 2;}.jimu-widget-public-notification .switch-toggle.dijitCheckBox.dijitCheckBoxChecked {background: #50ad4e;}.jimu-widget-public-notification .switch-toggle.dijitCheckBox.dijitCheckBoxChecked:before {right: 2px;}.jimu-widget-public-notification .esriCTButton, .jimu-widget-public-notification-reviewResults .esriCTButton {display: inline-block; max-width: 140px;}.jimu-widget-public-notification .esriCTButtonsWrapper, .jimu-widget-public-notification-reviewResults .esriCTButtonsWrapper {width: 100%; overflow: hidden; text-align: right; padding-top: 2px;}.jimu-widget-public-notification-reviewResults .esriCTHeader {height: 30px; border-bottom: 1px solid #464646; width: 100%;}.jimu-widget-public-notification-reviewResults .esriCTPageContent {width: calc(100% - 20px); margin: 20px 10px 10px 10px; display: inline-block;}.jimu-widget-public-notification-reviewResults .esriCTPageTittle {line-height: 10px; font-weight: bold; text-align: center; width: 100%; padding: 5px 3px 5px 3px; display: inline-block;}.jimu-widget-public-notification-reviewResults .esriCTselectToolDiv {margin: 0 auto;}.jimu-rtl .jimu-widget-public-notification .esriCTButtonsWrapper,.jimu-rtl .jimu-widget-public-notification-reviewResults .esriCTButtonsWrapper {text-align: left;}.jimu-rtl .jimu-widget-public-notification .esriCTMargin10,.jimu-rtl .jimu-widget-public-notification-reviewResults .esriCTMargin10 {margin-left: 10px;}.jimu-widget-public-notification .esriCTMargin10,.jimu-widget-public-notification-reviewResults .esriCTMargin10 {margin-right: 10px;}.jimu-widget-public-notification .esriCTMargin2,.jimu-widget-public-notification-reviewResults .esriCTMargin2 {margin-right: 2px;}.jimu-rtl .jimu-widget-public-notification .esriCTMargin2,.jimu-rtl .jimu-widget-public-notification-reviewResults .esriCTMargin2 {margin-left: 2px;}.jimu-widget-public-notification #rrNumAddresseesFound {margin-left: 5px; margin-bottom: 12px;}',
"*now":function(A){A(['dojo/i18n!*preload*widgets/PublicNotification/nls/Widget*["ar","bs","ca","cs","da","de","en","el","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sl","sr","sv","th","tr","zh-cn","uk","vi","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("dojo/_base/declare dojo/_base/array dojo/_base/Color dojo/_base/lang dojo/dom dojo/DeferredList dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/Evented dojo/keys dojo/on dojo/dom-attr dojo/query dojo/string dijit/_WidgetsInTemplateMixin dijit/ProgressBar esri/geometry/geometryEngineAsync esri/layers/GraphicsLayer esri/tasks/BufferParameters esri/tasks/GeometryService esri/tasks/query esri/tasks/QueryTask esri/tasks/RelationshipQuery jimu/dijit/DrawBox jimu/dijit/SearchDistance jimu/dijit/FeatureSetChooserForMultipleLayers jimu/BaseWidget jimu/LayerInfos/LayerInfos jimu/utils ./Download_Avery ./Download_CSV ./Highlighter ./labelFormatUtils ./Queryer ./SearchLayers jimu/FilterManager jimu/SelectionManager esri/layers/FeatureLayer jimu/utils esri/symbols/SimpleFillSymbol esri/symbols/SimpleLineSymbol esri/renderers/SimpleRenderer esri/graphic ./reviewResults dijit/form/CheckBox jimu/dijit/formSelect dojo/domReady!".split(" "),function(A,
z,u,x,v,p,m,y,P,I,B,e,c,l,k,a,n,f,h,w,t,d,q,J,E,L,F,ba,aa,na,Z,Ha,G,fa,M,O,R,W,K,sa,Da,ja,ia,T,oa,H){return A([aa,n,B],{baseClass:"jimu-widget-public-notification",_origin:void 0,_bufferDistanceMeters:0,_drawToolOption:{},_activeDrawToolNode:null,_formatCodeHandlers:{AVERY:"./Download_Avery",CSV:"./Download_CSV"},_formatCodeHandlerInstances:{AVERY:null,CSV:null},_bufferGeometry:null,_searchResultSymbology:{point:{lineColor:new u("aqua"),lineWidth:2,fillColor:new u([0,255,255,.1])},line:{lineColor:new u("aqua"),
lineWidth:2},polygon:{lineColor:new u("aqua"),lineWidth:2,fillColor:new u([0,255,255,.1])}},_bufferSymbology:{point:{lineColor:new u("green"),lineWidth:3,fillColor:new u([0,255,0,.1])},line:{lineColor:new u("green"),lineWidth:3},polygon:{lineColor:new u("green"),lineWidth:3,fillColor:new u([0,255,0,.1])}},_addresseeSymbology:{point:{lineColor:new u("blue"),lineWidth:2,fillColor:new u([0,0,255,.1])},line:{lineColor:new u("blue"),lineWidth:2},polygon:{lineColor:new u("blue"),lineWidth:2,fillColor:new u([0,
0,255,.1])}},_addresseeSources:[],_foundAddressees:[],_foundLabels:[],nls:null,config:null,_testConfig:null,_currentOpenPanel:"mainPage",_reviewResultsObj:null,_geoTypes:null,constructor:function(a,c){this._testConfig=c},postMixInProperties:function(){this._testConfig&&(this.nls=this._testConfig.nls,this.config=this._testConfig.config);this.nls.common={};x.mixin(this.nls.common,window.jimuNls.common)},postCreate:function(){this.inherited(arguments);this.filterManager=W.getInstance();this.selectionManager=
K.getInstance();this._activeDrawToolNode=null;this._checkDownloadBtnEnable()},startup:function(){this.inherited(arguments);this._currentOpenPanel="mainPage";this._geoTypes=this._reviewResultsObj=null;this._init()},onOpen:function(){this._searchComponent&&this._searchComponent.setFocus();this._dblClickZoom=this.map.isDoubleClickZoom},onClose:function(){this._clearAll()},destroy:function(){this._drawTool&&(this._drawTool.destroyRecursive(),this._drawTool=null);this.inherited(arguments)},_isFeatureUsedForBuffereing:function(a,
c){var d=!1;this._prevSelectedFeatures&&this._prevSelectedFeatures.bufferedFeatures&&0<this._prevSelectedFeatures.bufferedFeatures.length&&z.some(this._prevSelectedFeatures.bufferedFeatures,function(e){if(a===e._layer.id&&e.attributes[e._layer.objectIdField]===c)return d=!0});return d},_filterBufferedFeatures:function(a){var c=[],d=[];z.forEach(a,function(a){this._isFeatureUsedForBuffereing(a._layer.id,a.attributes[a._layer.objectIdField])?c.push(a):d.push(a)},this);return{bufferedFeatures:c,nonBufferedFeatures:d}},
_init:function(){var a,d,f,h=[],m;this.own(c(this.downloadBtn,"keydown",x.hitch(this,function(a){a.keyCode!==e.ENTER&&a.keyCode!==e.SPACE||this._onDownloadBtnClicked()})));this.own(c(this.reviewBtn,"keydown",x.hitch(this,function(a){a.keyCode!==e.ENTER&&a.keyCode!==e.SPACE||this._onReviewBtnClicked()})));na.getInstance(this.map,this.map.itemInfo).then(x.hitch(this,function(e){var l,n,q,t=x.clone(this.config.searchSourceSettings.search);a=this.config.searchSourceSettings.drawing.tools[0];d=z.filter(this.config.searchSourceSettings.drawing.tools.slice(1),
function(c,d){return"1"===a[d]});0<d.length&&(this._drawToolOption.map=this.map,this._drawToolOption.geoTypes=d,this._drawToolOption.showClear=!0,this._drawToolOption.keepOneGraphic=!0,this._drawTool=new L(this._drawToolOption),f=this._drawTool.domNode.childNodes[1].children,z.forEach(d,function(a){z.some(f,function(c){return c.attributes["data-geotype"].nodeValue===a?(h.push(c),!0):!1})}),h.push(f[f.length-1]),this._replaceChildren(this._drawTool.domNode.childNodes[1],h),this._drawTool.placeAt(this.drawBoxDiv),
this.own(this._drawTool.on("icon-selected",x.hitch(this,this._onDrawIconSelected))),this.own(this._drawTool.on("draw-end",x.hitch(this,this._onDrawEnd))),this.own(this._drawTool.on("clear",x.hitch(this,this._onDrawClear))),this.own(this._drawTool.on("user-clear",x.hitch(this,this._onDrawClear))));this.config.searchSourceSettings.drawing.select&&(l=y.create("div",{width:"100%"}),n=y.create("div",null,l),m=d.indexOf("LINE"),0<=m&&(d.splice(m,1),0>d.indexOf("POLYLINE")&&d.splice(m,0,"POLYLINE")),this._geoTypes=
0<d.length?d:["EXTENT"],this._selectTool=new ba({geoTypes:this._geoTypes,map:this.map,updateSelection:!0,fullyWithin:!1},n),this._selectTool.startup(),this.mapSelectionLayers=z.filter(z.map(e.getLayerInfoArray(),function(a){return a.layerObject}),function(a){return a}),q=z.filter(z.map(t.sources,function(a){return a.layerId}),function(a){return a}),this.mapSelectionLayers=z.filter(this.mapSelectionLayers,function(a){return 0<=q.indexOf(a.id)}),0<this.mapSelectionLayers.length&&this._selectTool.setFeatureLayers(this.mapSelectionLayers),
n=k(".draw-item-btn",this._selectTool.domNode)[0],this.own(c(n,"click",x.hitch(this,this._onSelectSelected))),n=k(".arrow",this._selectTool.domNode)[0],this.own(c(n,"click",x.hitch(this,this._onSelectSelected))),n=k(".btn-clear",this._selectTool.domNode)[0],this.own(c(n,"click",x.hitch(this,this._onSelectClear))),this.own(c(this._selectTool,"unloading",x.hitch(this,function(a,c,d,e,f){var h=[];!this._prevSelectedFeatures||e||f||(this._prevSelectedFeatures=null);var k={};z.forEach(this.mapSelectionLayers,
x.hitch(this,function(a){var c=a.getSelectedFeatures(),d=[];if(0<c.length){for(var e=0;e<c.length;e++)d.push(c[e].attributes[a.objectIdField]);k[a.id]={layer:a,where:a.objectIdField+" in ( "+d.join()+" )"}}}));a=[];var l=[];if(0<Object.keys(k).length)for(var m in k)l.push(k[m].layer),a.push(this._queryer.findIntersectingFeatures(null,k[m].layer.url,[k[m].layer.objectIdField],k[m].where,this.map.spatialReference));(new p(a)).then(x.hitch(this,function(a){for(var c=0;c<a.length;c++)a[c]&&1<a[c].length&&
a[c][1].features&&(a[c][1].features=z.map(a[c][1].features,function(a){a._layer=l[c];return a}),h=h.concat(a[c][1].features),this.selectionManager&&this.selectionManager.getDisplayLayer(a[c][1].features[0]._layer.id)&&this.selectionManager._updateDisplayLayer(a[c][1].features[0]._layer,a[c][1].features));this._prevSelectedFeatures=!this._bufferDistanceMeters||this._bufferDistanceMeters&&!this._prevSelectedFeatures?{bufferedFeatures:h,nonBufferedFeatures:[]}:this._filterBufferedFeatures(h);this._origin=
z.map(this._prevSelectedFeatures.bufferedFeatures,function(a){return a.geometry});this._prevSelectedFeatures&&(0<this._prevSelectedFeatures.nonBufferedFeatures.length||0<this._prevSelectedFeatures.bufferedFeatures.length)?this._doBufferSearch(this._prevSelectedFeatures.nonBufferedFeatures):this._clearAll();0===h.length&&(this._prevSelectedFeatures=null)}))}))),y.place(l,this.drawBoxDiv,"last"));t.map=this.map;this._searchComponent=new R(t,this.appConfig.portalUrl,e,y.create("div",null,this.searchNode),
this);this._searchComponent.searchDijit().then(x.hitch(this,function(a){this._searchDijit=a;this.own(c(a,"search-results",x.hitch(this,this._onSearchResults)));this.own(c(a,"clear-search",x.hitch(this,this._onClearSearch)));1===this._searchComponent.sources.length?Z.initFirstFocusNode(this.domNode,this._searchComponent._searchDijit.inputNode):Z.initFirstFocusNode(this.domNode,this._searchComponent._searchDijit.sourcesBtnNode);this.openAtStartAysn=!0;Da.isAutoFocusFirstNodeWidget(this)&&Z.focusFirstFocusNode(this.domNode)}));
a=this.config.addresseeSourceSettings.sources[0];this._addresseeSources=z.filter(this.config.addresseeSourceSettings.sources.slice(1),function(c,d){return"1"===a[d]});z.forEach(this._addresseeSources,function(a,c){z.some(e._operLayers,function(d){return a.name===d.title&&d.popupInfo&&d.popupInfo.description?(a.labelLineTemplates=M.convertPopupToLabelSpec(d.popupInfo),a.labelLineTemplates.expressionInfos=d.popupInfo.expressionInfos,a.labelLineTemplates.parsedExpressions=M.parseArcadeExpressions(d.popupInfo.expressionInfos),
a.url=d.url,a.useRelatedRecords&&(a.labelLineTemplates.relationships=this._createRelationshipQueries(d)),this.addresseeSelect.addOption({value:c,label:a.name,id:d.id}),!0):!1},this)},this)}));0<this.addresseeSelect.options.length?(I.set("activeWidgetSection","display",""),this.own(this.addresseeSelect.on("change",x.hitch(this,this._updateAddresseesFromBufferGeometry))),this._queryer=new O(this.map,this.config.searchSourceSettings.geometryServiceURL),this._bufferLayer=new w,this.map.addLayer(this._bufferLayer),
this._highlighter=new fa(100),this._createSearchDistanceDisplay(),a=this.config.notificationSettings.labelFormats[0],z.filter(this.config.notificationSettings.labelFormats.slice(1),x.hitch(this,function(c,d){var e="1"===a[d];e&&this.formatSelect.addOption({value:d,label:"\x3cspan"+(c.hint?' title\x3d"'+c.hint+'"':"")+"\x3e"+c.name+"\x3c/span\x3e"});return e})),this.reviewBtn.innerHTML=this.nls.reviewButtonLabel,this.downloadBtn.innerHTML=window.jimuNls.layerInfosMenu.itemDownload,l.set(this.downloadBtn,
"aria-label",window.jimuNls.layerInfosMenu.itemDownload),this.resize()):I.set("nothingConfiguredSection","display","block")},_createSearchDistanceDisplay:function(a){var d=!1,e,f,h,k=[],l=!1;this._searchDistance?d=this._searchDistance.isEnabled():y.empty(this.searchDistanceDiv);this._searchDistanceSource=a;a="undefined"===typeof this._searchDistanceSource?this.config.searchSourceSettings.drawing.buffer:this.config.searchSourceSettings.search.sources[this._searchDistanceSource].buffer;e=a.bufferUnitsMenu[0];
f=z.filter(a.bufferUnitsMenu.slice(1),function(a,c){return"1"===e[c]});this._searchDistance||(this._searchDistance=new F({distance:a.bufferDistance,unit:a.bufferUnits}),this._allUnitOptions=x.clone(this._searchDistance.unitSelect.options),l=!0);h=this._allUnitOptions;z.forEach(f,function(a){z.some(h,function(c){return c.value===a?(k.push(c),!0):!1},this)},this);0<k.length&&this._searchDistance.unitSelect.set("options",k);l?this._searchDistance.placeAt(this.searchDistanceDiv):(this._searchDistance.setDistance(a.bufferDistance),
this._searchDistance.setUnit(a.bufferUnits));d?this._searchDistance.enable():this._searchDistance.disable();this._updateDisplayedBuffer(this._searchDistance.getData());l&&(this.own(this._searchDistance.numberTextBox.on("keyup",x.hitch(this,this._onBufferDistanceKeyup))),this.own(c(this._searchDistance,"change",x.hitch(this,this._onSearchDistanceChanged))))},_updateDisplayedBuffer:function(a){this._bufferDistanceMeters=0;a&&a.isEnabled&&0<=a.meters&&(this._bufferDistanceMeters=a.meters);Array.isArray(this._origin)&&
0<this._origin.length&&(this._prevSelectedFeatures&&0<this._prevSelectedFeatures.bufferedFeatures.length&&this._prevSelectedFeatures.nonBufferedFeatures?this._doBufferSearch(this._prevSelectedFeatures.nonBufferedFeatures):this._doBufferSearch())},_replaceChildren:function(a,c){for(;a.firstChild;)a.removeChild(a.firstChild);z.forEach(c,function(c){a.appendChild(c)})},_createRelationshipQueries:function(a){var c=!1,d={},e=/\d+/,f;if(f=a.popupInfo.description.match(/\{relationships\/\d+\//gm))c=!0,z.forEach(f,
function(c){var f=c.match(e)[0];d.hasOwnProperty(f)||(c=new E,c.outFields=["*"],c.relationshipId=f,c.returnGeometry=!1,d[f]={operLayer:a,relatedQuery:c})});return c?d:null},_enableSourceInputs:function(a){var c=v.byId("sourceInputsSectionScrim");a?m.add(c,"hidden"):(a=P.getMarginBox(v.byId("sourceInputsSection")),P.setMarginBox(c,a),m.remove(c,"hidden"))},_doBufferSearch:function(a){this._onStartBuffer();(!this._origin||this._origin&&0>=this._origin.length)&&a&&0<a.length&&this._unionNonBufferdFeatures(null,
a);this._queryer.createBufferFromGeometries(this._origin,this._bufferDistanceMeters).then(x.hitch(this,function(c){a&&0<a.length?this._unionNonBufferdFeatures(c,a):(this._bufferGeometry=c,Z.featureAction.zoomTo(this.map,[this._bufferGeometry]),this._updateAddresseesFromBufferGeometry())}),x.hitch(this,function(a){this._onEndBuffer();console.log(a)}))},_unionNonBufferdFeatures:function(a,c){var d;c=z.map(c,function(a){return a.geometry});this._queryer.createBufferFromGeometries(c,0).then(x.hitch(this,
function(c){a?(d=[a].concat(c),this._queryer.createUnionOfGeometries(d).then(x.hitch(this,function(a){this._onBufferAndUnionComplete(a)}),x.hitch(this,function(a){this._onEndBuffer();console.log(a)}))):this._onBufferAndUnionComplete(c)}),x.hitch(this,function(a){this._onEndBuffer();console.log(a)}))},_onBufferAndUnionComplete:function(a){this._bufferGeometry=a;Z.featureAction.zoomTo(this.map,[this._bufferGeometry]);this._updateAddresseesFromBufferGeometry()},_getExpressionByLayerURL:function(a){var c=
"",d;for(d in this.map._layers)if(this.map._layers[d].url===a){c=this.filterManager.getFilterExp(d);break}return c},_updateAddresseesFromBufferGeometry:function(){this._onStartBuffer();if(this._bufferGeometry){this.indeterminateProgress.set({value:Number.POSITIVE_INFINITY});I.set(this.indeterminateProgress.domNode,"display","block");this._createAndAddGraphic(this._bufferGeometry,this._bufferSymbology,this._bufferLayer);var a=this._getExpressionByLayerURL(this._addresseeSources[this.addresseeSelect.value].url);
this._queryer.find(this._bufferGeometry,this._addresseeSources[this.addresseeSelect.value].url,["*"],"addressee",a).then(x.hitch(this,function(a){a.features&&Array.isArray(a.features)&&0<a.features.length?(this._foundAddressees=a.features,I.set(this.indeterminateProgress.domNode,"display","none"),this._highlighter.highlightFeatures(this._foundAddressees,x.hitch(this,this._createAndAddGraphic),this._addresseeSymbology,this._bufferLayer,x.hitch(this,this._setProgressPercentage))):this._activeDrawToolNode&&
(this._activeDrawToolNode.focus(),this._activeDrawToolNode=null);this._onEndBuffer()}),x.hitch(this,function(a){this._onEndBuffer();console.log(a)}))}else this._onEndBuffer()},_setProgressPercentage:function(a){0>=a?(this.determinateProgress.set({value:0}),I.set(this.determinateProgress.domNode,"display","block")):100<=a?(this.determinateProgress.set({value:100}),I.set(this.determinateProgress.domNode,"display","none")):this.determinateProgress.set({value:a})},_createAndAddGraphic:function(a,c,d){(a=
this._highlighter.createGraphic(a,c))&&d.add(a)},_onBufferDistanceKeyup:function(a){a.keyCode===e.ENTER&&this._updateDisplayedBuffer(this._searchDistance.getData())},_onSearchDistanceChanged:function(a){var c;c="undefined"===typeof this._searchDistanceSource?this.config.searchSourceSettings.drawing.buffer:this.config.searchSourceSettings.search.sources[this._searchDistanceSource].buffer;c.bufferDistance=a.distance;c.bufferUnits=a.unit;this._updateDisplayedBuffer(a)},_onSearchResults:function(a){var c=
a.results,d=a.activeSourceIndex;this._clearAll();0<a.numResults&&c&&M.objEach(c,function(a,c){a&&0<a.length&&(this._origin=[a[0].feature.geometry],this._createAndAddGraphic(a[0].feature,this._searchResultSymbology,this.map.graphics),this._createSearchDistanceDisplay("all"===d?c:d),this._doBufferSearch())},this)},_onClearSearch:function(){this._clearAll()},_onDrawIconSelected:function(a){this._selectTool&&this._selectTool.isActive()&&this._selectTool.deactivate();this._activeDrawToolNode=a;this.map.disableDoubleClickZoom();
this.map.navigationManager.setImmediateClick(!0);this.map.setInfoWindowOnClick(!1);this._clearAll();this._createSearchDistanceDisplay()},_onDrawEnd:function(a){this._dblClickZoom&&this.map.enableDoubleClickZoom();this.map.navigationManager.setImmediateClick(!1);this._origin=[a.geometry];this._doBufferSearch()},_onDrawClear:function(){this.map.setInfoWindowOnClick(!0);this._clearAll()},_onSelectSelected:function(){this._onSelectClear()},_onSelectClear:function(){this._clearAll();this._createSearchDistanceDisplay()},
_onStartBuffer:function(){this._enableSourceInputs(!1);this._clearBufferGraphics();this.indeterminateProgress.set({value:Number.POSITIVE_INFINITY});I.set(this.indeterminateProgress.domNode,"display","block")},_onEndBuffer:function(){this._enableSourceInputs(!0);I.set(this.indeterminateProgress.domNode,"display","none");this._checkDownloadBtnEnable()},_clearAll:function(){this._origin=void 0;this._prevSelectedFeatures=null;this._foundAddressees=[];this._foundLabels=[];this._bufferGeometry=null;this._clearSelections();
this.map.graphics.clear();this._drawTool&&this._drawTool.drawLayer&&this._drawTool.drawLayer.clear();this._clearBufferGraphics();this._checkDownloadBtnEnable()},_clearSelections:function(){z.forEach(this.mapSelectionLayers,function(a){a.clearSelection()})},_clearBufferGraphics:function(){this._foundAddressees=[];this._foundLabels=[];this._bufferLayer&&this._bufferLayer.clear();this._checkDownloadBtnEnable()},_checkDownloadBtnEnable:function(){0<this._addresseeSources.length&&(this.indeterminateProgress.set({value:Number.POSITIVE_INFINITY}),
I.set(this.indeterminateProgress.domNode,"display","block"),M.createLabelsFromFeatures(this._foundAddressees,this._addresseeSources[this.addresseeSelect.value].labelLineTemplates,this._getSelectedAddresseeLayer(),this.map).then(x.hitch(this,function(c){var d=v.byId("numAddresseesFound"),e="",f=v.byId("rrNumAddresseesFound");this._foundLabels=c;0<this._foundLabels.length?(e=a.substitute(this.nls.numAddresseesFound,{count:this._foundLabels.length}),m.remove(this.downloadBtn,"hidden"),this.config.addresseeSourceSettings.hasOwnProperty("showReviewButton")&&
this.config.addresseeSourceSettings.showReviewButton&&m.remove(this.reviewBtn,"hidden"),l.set(this.downloadBtn,"aria-label",e+" "+this.downloadBtn.innerHTML),Z.initLastFocusNode(this.domNode,this.downloadBtn),this.downloadBtn.focus()):(m.add(this.downloadBtn,"hidden"),m.add(this.reviewBtn,"hidden"),Z.initLastFocusNode(this.domNode,this.formatSelect.domNode));d.innerHTML=e;""!==f&&null!==f&&void 0!==f&&(""!==e&&null!==e&&void 0!==e?(f.innerHTML=e,l.set(f,"aria-label",e),m.remove(f,"hidden"),this._reviewResultsObj.updateDownloadBtnAriaLabel(e)):
(m.add(f,"hidden"),this._reviewResultsObj.updateDownloadBtnAriaLabel()));I.set(this.indeterminateProgress.domNode,"display","none")})))},_onDownloadBtnClicked:function(){var a,c;c=x.clone(this.config.notificationSettings.labelPageOptions);a="reviewResultsPage"===this._currentOpenPanel?this.config.notificationSettings.labelFormats[this._reviewResultsObj.formatSelect.value+1]:this.config.notificationSettings.labelFormats[this.formatSelect.value+1];switch(a.labelSpec.type){case "AVERY":this._formatCodeHandlerInstances[a.labelSpec.type]=
new Ha;c.guidance.printSuggestion=this.nls.tooltips.printSuggestion;break;case "CSV":this._formatCodeHandlerInstances[a.labelSpec.type]=new G}this._doSave(this._formatCodeHandlerInstances[a.labelSpec.type],a.labelSpec,c)},_doSave:function(a,c,d){var e,f;if(a&&0!==this._foundLabels.length){f=this._foundLabels;e=this._addresseeSources[this.addresseeSelect.value].name;if(d.hasOwnProperty("addCSVHeader")&&d.addCSVHeader&&"CSV"===c.type){var h=[];h.push(this._addresseeSources[this.addresseeSelect.value].labelLineTemplates.csvHeaderRow);
f=h.concat(f)}this.determinateProgress.set({value:0});I.set(this.determinateProgress.domNode,"display","block");console.log("Downloading ",f.length," labels");setTimeout(x.hitch(this,function(){a.save(f,e,c,d,this.domNode,this.determinateProgress).then(x.hitch(this,function(a){console.log("PDF document(s) "+(a?"":"not ")+"created");this.determinateProgress.set({value:100});I.set(this.determinateProgress.domNode,"display","none")}))}),10)}},_getResultGraphicsLayer:function(){return this._bufferLayer},
_getDisplayTaxParcelGraphicsLayer:function(){var a;a=this._getMainParcelFeatureLayerId();return this.map.getLayer("displayLayer_of_"+a)},_getMainParcelFeatureLayer:function(){var a;a=this._getMainParcelFeatureLayerId();return this.map.getLayer(a)},_getMainParcelFeatureLayerId:function(){var a;this.addresseeSelect&&(a=this.addresseeSelect.getOptions(this.addresseeSelect.value).id);return a},_clearMainFeatureLayerSelection:function(){this._getMainParcelFeatureLayer().clearSelection()},_onReviewBtnClicked:function(){this._reviewResultsObj=
null;y.empty(this.reviewResultsContainer);this._reviewResultsObj=new H({nls:this.nls,config:this.config,formselectOptions:this.formatSelect.getOptions(),addresseeLayer:this._getSelectedAddresseeLayer(),map:this.map,parentNode:this.domNode,geoTypes:this._geoTypes});this._reviewResultsObj.placeAt(this.reviewResultsContainer);this._reviewResultsObj.startup();this.own(c(this._reviewResultsObj,"unloadingComplete",x.hitch(this,function(){this._showAndClearDisplayLayerOfTaxParcels();this._addNewResultFeaturesIntoBufferLayer();
this._checkDownloadBtnEnable();this._reviewResultsObj.setFocusOnDownloadButton()})));this.own(c(this._reviewResultsObj,"onDownloadBtnClicked",x.hitch(this,function(){this._onDownloadBtnClicked()})));this.own(c(this._reviewResultsObj,"clear",x.hitch(this,function(){m.add(this.downloadBtn,"hidden");m.add(this.reviewBtn,"hidden");this._showPanel("mainPage");this._deactivateSelectTool();this._deactivateReviewSelectTool();this._clearLayers();this._clearAll()})));this._showPanel("reviewResultsPage");this._deactivateSelectTool();
this._clearLayers();this._onSelectionComplete();this._selectFeaturesInMainResultFeatureLayer()},_deactivateReviewSelectTool:function(){""!==this._reviewResultsObj&&null!==this._reviewResultsObj&&void 0!==this._reviewResultsObj&&this._reviewResultsObj._deactivateSelectTool()},_showPanel:function(a){var c;this._currentOpenPanel&&(c=this._getNodeByName(this._currentOpenPanel),m.add(c,"hidden"));c=this._getNodeByName(a);m.remove(c,"hidden");this._lastOpenPanel=this._currentOpenPanel;this._currentOpenPanel=
a;this._supportAccessibility()},_getNodeByName:function(a){var c;switch(a){case "mainPage":c=this.mainPageContainer;break;case "reviewResultsPage":c=this.reviewResultsContainer}return c},_supportAccessibility:function(){1===this._searchComponent.sources.length?Z.initFirstFocusNode(this.domNode,this._searchComponent._searchDijit.inputNode):Z.initFirstFocusNode(this.domNode,this._searchComponent._searchDijit.sourcesBtnNode);Z.focusFirstFocusNode(this.domNode);Z.initLastFocusNode(this.domNode,this.formatSelect.domNode)},
_getSelectedAddresseeLayer:function(){var a,c=this.addresseeSelect.getOptions(this.addresseeSelect.value).label,d=this.addresseeSelect.getOptions(this.addresseeSelect.value).id;na.getInstance(this.map,this.map.itemInfo).then(x.hitch(this,function(e){z.some(e._operLayers,x.hitch(this,function(e){c===e.title&&d===e.id&&(a=e)}))}));return a},_selectFeaturesInMainResultFeatureLayer:function(){var a;a=this._getWhereClause();var c=new q;c.where=a;this._getMainParcelFeatureLayer().selectFeatures(c,sa.SELECTION_NEW)},
_getWhereClause:function(){var a;a=[];var c;c=this._getMainParcelFeatureLayer();z.forEach(this._foundAddressees,x.hitch(this,function(d){a.push(d.attributes[c.objectIdField])}));return c.objectIdField+" IN ("+a.join()+")"},_showAndClearResultGraphicsLayer:function(){var a=this._getResultGraphicsLayer();a.show();a.clear()},_showAndClearDisplayLayerOfTaxParcels:function(){var a=this._getDisplayTaxParcelGraphicsLayer();""!==a&&null!==a&&void 0!==a&&(a.show(),a.clear())},_clearLayers:function(){this._showAndClearResultGraphicsLayer();
this._showAndClearDisplayLayerOfTaxParcels();this._clearMainFeatureLayerSelection();this._clearSelectedFeaturesWebGL();this._clearDrawGraphics();this._clearSelections();this.map.graphics.clear()},_clearSelectedFeaturesWebGL:function(){var a=this._getMainParcelFeatureLayer();""!==a&&null!==a&&void 0!==a&&a.hasOwnProperty("_selectedFeaturesWebGL")&&(a._selectedFeaturesWebGL={})},_hookFLToSelectTool:function(){var a=this._getMainParcelFeatureLayer();this._reviewResultsObj.resetFeatureLayerToSelectTool(a)},
_onSelectionComplete:function(){var a=this._getMainParcelFeatureLayer(),d=this.own(c(a,"selection-complete",x.hitch(this,function(){d[0].remove();this._hookFLToSelectTool();this._addNewResultFeaturesIntoBufferLayer();this._checkDownloadBtnEnable();this._reviewResultsObj.setAccessibility()})))},_deactivateSelectTool:function(){this._selectTool&&this._selectTool.deactivate()},_addNewResultFeaturesIntoBufferLayer:function(){var a;this._foundAddressees=[];this._bufferLayer.clear();a=this._getMainParcelFeatureLayer();
var c=a.getSelectedFeatures();a._selectedFeaturesWebGL={};z.forEach(c,x.hitch(this,function(c){a._selectedFeaturesWebGL[c.attributes[a.objectIdField]]=c;var d=this._highlighter.createGraphic(c,this._addresseeSymbology);d&&(d.setAttributes(c.attributes),this._bufferLayer.add(d),this._foundAddressees.push(d))}))},_clearDrawGraphics:function(){this._drawTool&&this._drawTool.drawLayer&&this._drawTool.drawLayer.clear()},resize:function(){"reviewResultsPage"===this._currentOpenPanel?this._reviewResultsObj.setFocus():
Z.focusFirstFocusNode(this.domNode)}})});