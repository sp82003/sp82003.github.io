// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"esri/dijit/util/busyIndicator":function(){define("dijit/registry dojo/_base/lang dojo/_base/window dojo/dom dojo/dom-construct dojox/widget/Standby require".split(" "),function(v,l,e,f,m,q,t){var p={_defaultStandbyParams:{image:t.toUrl("../images/loading-throb.gif"),color:"#fff",opacity:.75,duration:200},create:function(a){if(a=this._normalizeParams(a))return a=new q(p._toStandbyParams(a)),m.place(a.domNode,e.doc.body),p._createHandle(a)},_normalizeParams:function(a){if(a){if(a.target)return a;
if("string"===typeof a){var b=v.byId(a);a=b?b.domNode:f.byId(a)}else a=a.domNode?a.domNode:f.byId(a);if(a)return{target:a}}},_toStandbyParams:function(a){a.imageUrl&&(a.image=a.imageUrl);a.backgroundColor&&(a.color=a.backgroundColor);a.backgroundOpacity&&(a.opacity=a.backgroundOpacity);a.fadeDuration&&(a.duration=a.fadeDuration);return l.mixin({},p._defaultStandbyParams,a)},_createHandle:function(a){return{show:function(){a&&a.show()},hide:function(){a&&a.hide()},destroy:function(){a&&(a.destroy(),
a=null)}}}};return p})},"dojox/widget/Standby":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/array dojo/_base/event dojo/_base/sniff dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/window dojo/_base/window dojo/_base/fx dojo/fx dijit/_Widget dijit/_TemplatedMixin dijit/registry".split(" "),function(v,l,e,f,m,q,t,p,a,b,x,n,r,d,y,w,z){v.experimental("dojox.widget.Standby");return l("dojox.widget.Standby",[y,w],{image:require.toUrl("dojox/widget/Standby/images/loading.gif").toString(),
imageText:"Please Wait...",text:"Please wait...",centerIndicator:"image",target:"",color:"#C0C0C0",duration:500,zIndex:"auto",opacity:.75,templateString:'\x3cdiv\x3e\x3cdiv style\x3d"display: none; opacity: 0; z-index: 9999; position: absolute; cursor:wait;" dojoAttachPoint\x3d"_underlayNode"\x3e\x3c/div\x3e\x3cimg src\x3d"${image}" style\x3d"opacity: 0; display: none; z-index: -10000; position: absolute; top: 0px; left: 0px; cursor:wait;" dojoAttachPoint\x3d"_imageNode"\x3e\x3cdiv style\x3d"opacity: 0; display: none; z-index: -10000; position: absolute; top: 0px;" dojoAttachPoint\x3d"_textNode"\x3e\x3c/div\x3e\x3c/div\x3e',
_underlayNode:null,_imageNode:null,_textNode:null,_centerNode:null,_displayed:!1,_resizeCheck:null,_started:!1,_parent:null,startup:function(a){if(!this._started){if("string"===typeof this.target){var u=z.byId(this.target);this.target=u?u.domNode:q.byId(this.target)}this.text&&(this._textNode.innerHTML=this.text);"image"===this.centerIndicator?(this._centerNode=this._imageNode,t.set(this._imageNode,"src",this.image),t.set(this._imageNode,"alt",this.imageText)):this._centerNode=this._textNode;b.set(this._underlayNode,
{display:"none",backgroundColor:this.color});b.set(this._centerNode,"display","none");this.connect(this._underlayNode,"onclick","_ignore");this.domNode.parentNode&&this.domNode.parentNode!=n.body()&&n.body().appendChild(this.domNode);7==m("ie")&&(this._ieFixNode=p.create("div"),b.set(this._ieFixNode,{opacity:"0",zIndex:"-1000",position:"absolute",top:"-1000px"}),n.body().appendChild(this._ieFixNode));this.inherited(arguments)}},show:function(){this._displayed||(this._anim&&(this._anim.stop(),delete this._anim),
this._displayed=!0,this._size(),this._disableOverflow(),this._fadeIn())},hide:function(){if(this._displayed)try{this._anim&&(this._anim.stop(),delete this._anim),this._size()}catch(u){console.error(u)}finally{this._fadeOut(),this._displayed=!1,null!==this._resizeCheck&&(clearInterval(this._resizeCheck),this._resizeCheck=null)}},isVisible:function(){return this._displayed},onShow:function(){},onHide:function(){},uninitialize:function(){this._displayed=!1;this._resizeCheck&&clearInterval(this._resizeCheck);
b.set(this._centerNode,"display","none");b.set(this._underlayNode,"display","none");7==m("ie")&&this._ieFixNode&&(n.body().removeChild(this._ieFixNode),delete this._ieFixNode);this._anim&&(this._anim.stop(),delete this._anim);this._centerNode=this._textNode=this._imageNode=this.target=null;this.inherited(arguments)},_size:function(){if(this._displayed){var u=t.get(n.body(),"dir");u&&(u=u.toLowerCase());var g,d=this._scrollerWidths(),h=this.target,k=b.get(this._centerNode,"display");b.set(this._centerNode,
"display","block");var c=a.position(h,!0);if(h===n.body()||h===n.doc)c=x.getBox(),c.x=c.l,c.y=c.t;var l=a.getMarginBox(this._centerNode);b.set(this._centerNode,"display",k);this._ieFixNode&&(g=-this._ieFixNode.offsetTop/1E3,c.x=Math.floor((c.x+.9)/g),c.y=Math.floor((c.y+.9)/g),c.w=Math.floor((c.w+.9)/g),c.h=Math.floor((c.h+.9)/g));var e=b.get(h,"zIndex"),r=k=e;if("auto"===this.zIndex)if("auto"!=e)k=parseInt(k,10),r=parseInt(r,10);else{var f=h;if(f&&f!==n.body()&&f!==n.doc)for(f=h.parentNode,g=-1E5;f&&
f!==n.body();)(e=b.get(f,"zIndex"))&&"auto"!==e&&(e=parseInt(e,10),g<e&&(g=e,k=e+1,r=e+1)),f=f.parentNode}else k=parseInt(this.zIndex,10),r=parseInt(this.zIndex,10);b.set(this._centerNode,"zIndex",r);b.set(this._underlayNode,"zIndex",k);if((k=h.parentNode)&&k!==n.body()&&h!==n.body()&&h!==n.doc){f=c.h;r=c.w;h=a.position(k,!0);this._ieFixNode&&(g=-this._ieFixNode.offsetTop/1E3,h.x=Math.floor((h.x+.9)/g),h.y=Math.floor((h.y+.9)/g),h.w=Math.floor((h.w+.9)/g),h.h=Math.floor((h.h+.9)/g));h.w-=k.scrollHeight>
k.clientHeight&&0<k.clientHeight?d.v:0;h.h-=k.scrollWidth>k.clientWidth&&0<k.clientWidth?d.h:0;"rtl"===u&&(m("opera")?(c.x+=k.scrollHeight>k.clientHeight&&0<k.clientHeight?d.v:0,h.x+=k.scrollHeight>k.clientHeight&&0<k.clientHeight?d.v:0):m("ie")?h.x+=k.scrollHeight>k.clientHeight&&0<k.clientHeight?d.v:0:m("webkit"));h.w<c.w&&(c.w-=h.w);h.h<c.h&&(c.h-=h.h);var y=h.y,p=h.y+h.h,q=c.y,v=c.y+f,u=h.x;g=h.x+h.w;var e=c.x,w=c.x+r;if(v>y&&q<y)c.y=h.y,f-=y-q,c.h=f<h.h?f:c.h-2*(k.scrollWidth>k.clientWidth&&
0<k.clientWidth?d.h:0);else if(q<p&&v>p)c.h=p-q;else if(v<=y||q>=p)c.h=0;if(w>u&&e<u)c.x=h.x,r-=u-e,c.w=r<h.w?r:c.w-2*(k.scrollHeight>k.clientHeight&&0<k.clientHeight?d.w:0);else if(e<g&&w>g)c.w=g-e;else if(w<=u||e>=g)c.w=0}0<c.h&&0<c.w?(b.set(this._underlayNode,{display:"block",width:c.w+"px",height:c.h+"px",top:c.y+"px",left:c.x+"px"}),d=["borderRadius","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"],this._cloneStyles(d),m("ie")||(d="MozBorderRadius MozBorderRadiusTopleft MozBorderRadiusTopright MozBorderRadiusBottomleft MozBorderRadiusBottomright WebkitBorderRadius WebkitBorderTopLeftRadius WebkitBorderTopRightRadius WebkitBorderBottomLeftRadius WebkitBorderBottomRightRadius".split(" "),
this._cloneStyles(d,this)),d=c.h/2-l.h/2,k=c.w/2-l.w/2,c.h>=l.h&&c.w>=l.w?b.set(this._centerNode,{top:d+c.y+"px",left:k+c.x+"px",display:"block"}):b.set(this._centerNode,"display","none")):(b.set(this._underlayNode,"display","none"),b.set(this._centerNode,"display","none"));if(null===this._resizeCheck){var z=this;this._resizeCheck=setInterval(function(){z._size()},100)}}},_cloneStyles:function(a){e.forEach(a,function(a){b.set(this._underlayNode,a,b.get(this.target,a))},this)},_fadeIn:function(){var a=
this,g=r.animateProperty({duration:a.duration,node:a._underlayNode,properties:{opacity:{start:0,end:a.opacity}}}),b=r.animateProperty({duration:a.duration,node:a._centerNode,properties:{opacity:{start:0,end:1}},onEnd:function(){a.onShow();delete a._anim}});this._anim=d.combine([g,b]);this._anim.play()},_fadeOut:function(){var a=this,g=r.animateProperty({duration:a.duration,node:a._underlayNode,properties:{opacity:{start:a.opacity,end:0}},onEnd:function(){b.set(this.node,{display:"none",zIndex:"-1000"})}}),
n=r.animateProperty({duration:a.duration,node:a._centerNode,properties:{opacity:{start:1,end:0}},onEnd:function(){b.set(this.node,{display:"none",zIndex:"-1000"});a.onHide();a._enableOverflow();delete a._anim}});this._anim=d.combine([g,n]);this._anim.play()},_ignore:function(a){a&&f.stop(a)},_scrollerWidths:function(){var d=p.create("div");b.set(d,{position:"absolute",opacity:0,overflow:"hidden",width:"50px",height:"50px",zIndex:"-100",top:"-200px",padding:"0px",margin:"0px"});var g=p.create("div");
b.set(g,{width:"200px",height:"10px"});d.appendChild(g);n.body().appendChild(d);g=a.getContentBox(d);b.set(d,"overflow","scroll");var e=a.getContentBox(d);n.body().removeChild(d);return{v:g.w-e.w,h:g.h-e.h}},_setTextAttr:function(a){this.text=this._textNode.innerHTML=a},_setColorAttr:function(a){b.set(this._underlayNode,"backgroundColor",a);this.color=a},_setImageTextAttr:function(a){t.set(this._imageNode,"alt",a);this.imageText=a},_setImageAttr:function(a){t.set(this._imageNode,"src",a);this.image=
a},_setCenterIndicatorAttr:function(a){this.centerIndicator=a;"image"===a?(this._centerNode=this._imageNode,b.set(this._textNode,"display","none")):(this._centerNode=this._textNode,b.set(this._imageNode,"display","none"))},_setTargetAttr:function(a){if("string"===typeof a){var d=z.byId(a);this._set("target",d?d.domNode:q.byId(a))}else this._set("target",a)},_disableOverflow:function(){if(this.target===n.body()||this.target===n.doc){this._overflowDisabled=!0;var a=n.body();this._oldOverflow=a.style&&
a.style.overflow?b.get(a,"overflow"):"";if(m("ie")&&!m("quirks")){if(a.parentNode&&a.parentNode.style&&a.parentNode.style.overflow)this._oldBodyParentOverflow=a.parentNode.style.overflow;else try{this._oldBodyParentOverflow=b.get(a.parentNode,"overflow")}catch(g){this._oldBodyParentOverflow="scroll"}b.set(a.parentNode,"overflow","hidden")}b.set(a,"overflow","hidden")}},_enableOverflow:function(){if(this._overflowDisabled){delete this._overflowDisabled;var a=n.body();m("ie")&&!m("quirks")&&(a.parentNode.style.overflow=
this._oldBodyParentOverflow,delete this._oldBodyParentOverflow);b.set(a,"overflow",this._oldOverflow);if(m("webkit")){var d=p.create("div",{style:{height:"2px"}});a.appendChild(d);setTimeout(function(){a.removeChild(d)},0)}delete this._oldOverflow}}})})},"widgets/Visibility/js/PrivilegeUtil":function(){define("dojo/_base/declare dojo/_base/lang jimu/portalUtils jimu/portalUrlUtils jimu/Role esri/lang".split(" "),function(v,l,e,f,m,q){var t=null,p=v([],{userRole:null,userPortalUrl:null,portalAnalysis:null,
portalSelf:null,portalUrl:null,_isServiceAvailable:!1,constructor:function(a){this.portalUrl=a},_clearLoadedInfo:function(){this.portalUrl=this.portalSelf=this.userPortalUrl=this.userRole=null},loadPrivileges:function(a){this.portalSelf=this.userPortalUrl=this.userRole=null;this._isServiceAvailable=!1;a&&(this.portalUrl=a);a=e.getPortal(this.portalUrl);return a.haveSignIn()?this._loadUserInfo(a):this._signIn(a)},getPortalUrl:function(a){return a?f.getStandardPortalUrl(a):this.portalUrl?f.getStandardPortalUrl(this.portalUrl):
f.getStandardPortalUrl(this.appConfig.portalUrl)},_privilegeLoaded:function(){return null!==this.portalSelf},getUserPortal:function(){return this._privilegeLoaded()?this.getPortalUrl(this.userPortalUrl):null},_signIn:function(a){return a.loadSelfInfo().then(l.hitch(this,function(a){var b=e.getPortal(a.portalHostname);return null===b?!1:b.signIn().then(l.hitch(this,function(a){return this._loadUserInfo(b,a)}),function(){return!1})}),function(){return!1})},_loadUserInfo:function(a){return a.loadSelfInfo().then(l.hitch(this,
function(a){this.userPortalUrl=a.urlKey?a.urlKey+"."+a.customBaseUrl:this.portalUrl;return a&&a.user?(this.userRole=new m({id:a.user.roleId?a.user.roleId:a.user.role,role:a.user.role}),a.user.privileges&&this.userRole.setPrivileges(a.user.privileges),this.portalSelf=a,!0):!1}),function(){return!1})},_canPerformElevationAnalysis:function(){this.portalSelf&&(this._isServiceAvailable=q.isDefined(this.portalSelf.helperServices.elevation));return this.canPerformAnalysis()&&this._isServiceAvailable},canPerformAnalysis:function(){var a=
!1;this.userRole&&(this.userRole.isAdmin()||this.userRole.isPublisher())?a=!0:this.userRole&&this.userRole.isCustom()&&(a=this.userRole.canCreateItem()&&this.userRole.canPublishFeatures()&&this.userRole.canUseSpatialAnalysis());this.portalSelf&&this.portalSelf.isPortal&&(a=a&&q.isDefined(this.portalSelf.helperServices.analysis)&&q.isDefined(this.portalSelf.helperServices.analysis.url));return a}});p.getInstance=function(a){null===t&&(t=new p(a));return t};return p})},"widgets/Visibility/js/symbologySettings":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/html dojo/on ./ColorPickerEditor jimu/BaseWidget dijit/_WidgetsInTemplateMixin dojo/text!../templates/symbologySettings.html dojo/_base/lang dojo/Evented dojo/dom-class dojo/dom-attr dojo/query dojo/keys dojo/dom dijit/registry jimu/utils dijit/focus jimu/dijit/formSelect jimu/dijit/SymbolChooser".split(" "),
function(v,l,e,f,m,q,t,p,a,b,x,n,r,d,y,w,z,u){return v([q,t,b],{baseClass:"jimu-widget-visibility-symbologySettings",templateString:p,selectedSettings:{},colorPickerNodes:[],constructor:function(d){a.mixin(this,d)},startup:function(){if(!this.config.hasOwnProperty("symbology"))var g={visibleSectionOutlineColor:{color:"#000000",transparency:1,type:"esriSLSSolid"},visibleSectionFillColor:{color:"#00ff00",transparency:.5,type:"esriSFSSolid"},nonVisibleSectionOutlineColor:{color:"#000000",transparency:1,
type:"esriSLSSolid"},nonVisibleSectionFillColor:{color:"#ff0000",transparency:.5,type:"esriSFSSolid"}};this.colorPickerNodes=r(".colorPicker",this.domNode);l.forEach(this.colorPickerNodes,a.hitch(this,function(a){a=new m({nls:this.nls,type:x.contains(a,"Line")?"line":"fill"},a);a.setValues({color:g?g[a.id].color:this.config.symbology[a.id].color,transparency:g?g[a.id].transparency:this.config.symbology[a.id].transparency});a.startup();a.dropdown.set("value",g?g[a.id].type:this.config.symbology[a.id].type)}));
var b=r(".jimu-color-pickerPopup",this.domNode);l.forEach(b,a.hitch(this,function(g){this.own(f(g,"keydown",a.hitch(this,function(a){a.keyCode!==d.ENTER&&a.keyCode!==d.SPACE||a.currentTarget.click()})))}));this.onSettingsChanged()},postCreate:function(){this.inherited(arguments);this._handleClickEvents();this.visibleSectionSettingsButton.click()},_handleClickEvents:function(){this.own(f(this.visibleSectionSettingsButton,"click",a.hitch(this,function(){this._openCloseNodes(this.visibleSectionSettingsButton,
this.visibleSectionContainer)})));this.own(f(this.nonVisibleSectionSettingsButton,"click",a.hitch(this,function(){this._openCloseNodes(this.nonVisibleSectionSettingsButton,this.nonVisibleSectionContainer)})));this.own(f(this.visibleSectionSettingsButton,"keydown",a.hitch(this,function(a){a.keyCode!==d.ENTER&&a.keyCode!==d.SPACE||this._openCloseNodes(this.visibleSectionSettingsButton,this.visibleSectionContainer)})));this.own(f(this.nonVisibleSectionSettingsButton,"keydown",a.hitch(this,function(a){a.keyCode!==
d.ENTER&&a.keyCode!==d.SPACE||this._openCloseNodes(this.nonVisibleSectionSettingsButton,this.nonVisibleSectionContainer)})))},_openCloseNodes:function(d,b){var g=r(".container",this.domNode),k=r(".esriCTSettingsButtonIcon",this.domNode),c=!1;this.validInputs()&&(d&&x.contains(d,"esriCTLabelSettingsRightButton")&&(c=!0),l.forEach(g,a.hitch(this,function(a){e.addClass(a,"esriCTGroupHidden")})),l.forEach(k,a.hitch(this,function(d,c){e.removeClass(d,"esriCTLabelSettingsDownButton");e.addClass(d,"esriCTLabelSettingsRightButton");
n.set(d,"aria-expanded","false");c===k.length-1&&setTimeout(a.hitch(this,function(){this._setLastFocusNode()}),100)})),c?(e.removeClass(b,"esriCTGroupHidden"),e.removeClass(d,"esriCTLabelSettingsRightButton"),e.addClass(d,"esriCTLabelSettingsDownButton"),n.set(d,"aria-expanded","true"),d=r(".jimu-color-picker",b),d.length&&u.focus(d[0])):u.focus(d))},onClose:function(){if(!this.validInputs())return!1;this.onSettingsChanged();this._openCloseNodes()},onSettingsChanged:function(){l.forEach(this.colorPickerNodes,
a.hitch(this,function(a){var d={color:w.byId(a.id).getValues().color,transparency:w.byId(a.id).getValues().transparency,type:w.byId(a.id).dropdown.getValue()};this.selectedSettings[a.id]=d}));this.emit("settingsChanged",this.selectedSettings)},validInputs:function(){var a=!0;l.some(this.colorPickerNodes,function(d){if(!w.byId(d.id).validateSpinner())return a=!1,!0},this);return a},_setLastFocusNode:function(){if(x.contains(this.nonVisibleSectionSettingsButton,"esriCTLabelSettingsDownButton")){var a=
r(".dijit",y.byId("nonVisibleSectionFillColor").lastElementChild)[0];z.initLastFocusNode(this.refDomNode,a)}else z.initLastFocusNode(this.refDomNode,this.nonVisibleSectionSettingsButton)}})})},"widgets/Visibility/js/ColorPickerEditor":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/Color dojo/on dojo/query dojo/_base/html dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!../templates/ColorPickerEditor.html dijit/form/HorizontalSlider jimu/dijit/ColorPickerPopup dijit/form/NumberSpinner".split(" "),
function(v,l,e,f,m,q,t,p,a,b,x,n,r){return v([p,a,b],{_defaultColor:"#485566",templateString:x,nls:null,postCreate:function(){this.colorPicker=new r({color:this._defaultColor,tabindex:0,"aria-label":this.nls.colorPicker},this.colorPicker);this.colorPicker.startup();this.slider=new n({name:"slider",value:100,minimum:0,maximum:100,discreteValues:101,intermediateChanges:!0,showButtons:!1,style:"display: inline-block;","aria-label":this.nls.transparency},this.sliderBar);this.slider.startup();var a=[],
b,f="esriSLSDash esriSLSDashDot esriSLSDashDotDot esriSLSDot esriSLSLongDash esriSLSLongDashDot esriSLSNull esriSLSShortDash esriSLSShortDashDot esriSLSShortDashDotDot esriSLSShortDot esriSLSSolid".split(" "),m="esriSFSBackwardDiagonal esriSFSCross esriSFSDiagonalCross esriSFSForwardDiagonal esriSFSHorizontal esriSFSNull esriSFSSolid esriSFSVertical".split(" ");"line"===this.type?l.forEach(f,e.hitch(this,function(d){b={value:d,label:this.nls.lineStyles[d]};a.push(b)})):l.forEach(m,e.hitch(this,function(d){b=
{value:d,label:this.nls.fillStyles[d]};a.push(b)}));this.dropdown.addOption(a);this.inherited(arguments)},startup:function(){this.own(m(this.slider,"change",e.hitch(this,function(a){!1===this._isSameVal()&&this.spinner.setValue(a)})));this.own(m(this.spinner,"change",e.hitch(this,function(a){a<=this.slider.maximum&&this.slider.setValue(a)})));this._stylePolyfill();this.inherited(arguments)},_isSameVal:function(){return this.slider.getValue()===this.spinner.getValue()},getValues:function(){var a=null,
b=null;(b=this.colorPicker.getColor())&&b.toHex&&(a=b.toHex());b=this.spinner.getValue()/100;return{color:a,transparency:b}},setValues:function(a){if("object"===typeof a||"string"===typeof a)this.colorPicker.setColor(new f(a.color)),a.transparency="undefined"===typeof a.transparency?0:100*a.transparency,this.slider.setValue(a.transparency),this.spinner.setValue(a.transparency)},_stylePolyfill:function(){var a=q(".dijitSliderLeftBumper",this.domNode)[0];a&&a.parentNode&&t.setStyle(a.parentNode,"background-color",
"#24b5cc")},validateSpinner:function(){var a=!0;this.spinner.isValid()||(this._shake(this.spinner.domNode,16),this.spinner.focus(),a=!1);return a},_shake:function(a,b){function d(){if(15>e){a.style.transform="translate(0px, 0px)";b-=n;var h=g(-b,b),k=g(-b,b);a.style.transform="translate("+h+"px, "+k+"px)";e+=1;requestAnimationFrame(d)}15<=e&&(a.style.transform="translate(0, 0)",f._shakingElements.splice(f._shakingElements.indexOf(a),1))}var e=1,n=b/15,g=function(a,k){return Math.floor(Math.random()*
(k-a+1))+a};this._shakingElements||(this._shakingElements=[]);if(-1===this._shakingElements.indexOf(a)){this._shakingElements.push(a);var f=this;d()}}})})},"jimu/dijit/ColorPickerPopup":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/_base/lang dojo/_base/html dojo/on dojo/_base/Color dijit/TooltipDialog dijit/popup jimu/dijit/ColorPalette jimu/utils".split(" "),function(v,l,e,f,m,q,t,p,a,b,x){return v([l,e],{baseClass:"jimu-color-pickerPopup",declaredClass:"jimu.dijit.ColorPickerPopup",
templateString:'\x3cdiv class\x3d"jimu-color-picker"\x3e\x3c/div\x3e',_isTooltipDialogOpened:!1,color:null,showLabel:!1,around:null,_ENABLE:!0,recordUID:"",postCreate:function(){this.inherited(arguments);this._createTooltipDialog(this.domNode);this._hideTooltipDialog()},destroy:function(){a.close(this.tooltipDialog);this.picker.destroy();this.tooltipDialog.destroy();this.inherited(arguments)},enable:function(){this._ENABLE=!0;m.removeClass(this.domNode,"disable")},disable:function(){this._ENABLE=
!1;m.addClass(this.domNode,"disable")},isPartOfPopup:function(a){var b=this.tooltipDialog.domNode;return a===b||m.isDescendant(a,b)},hideTooltipDialog:function(){this._hideTooltipDialog()},showTooltipDialog:function(){this._showTooltipDialog()},initUI:function(){this.picker.initUI()},isOpen:function(){return this._isTooltipDialogOpened},_showTooltipDialog:function(){a.open({parent:this.getParent(),popup:this.tooltipDialog,around:this.around?this.around:this.domNode,orient:this.orient});this._isTooltipDialogOpened=
!0},_hideTooltipDialog:function(){a.hide(this.tooltipDialog);this._isTooltipDialogOpened=!1},_createTooltipDialog:function(){var a=m.create("div");this.tooltipDialog=new p({content:a});m.addClass(this.tooltipDialog.domNode,"jimu-color-picker-popup-dialog");var e=new b({appearance:{showTransparent:!1,showColorPalette:!0,showCoustom:!0,showColorPickerOK:!0,showColorPickerApply:!0,showCoustomRecord:!0,closeDialogWhenChange:!0},recordUID:this.recordUID,onChange:f.hitch(this,function(a){a&&(a=new t(a),
this.setColor(a),this.onChange(a))})});e.placeAt(a);e.startup();this.own(q(e,"close",f.hitch(this,function(){this._hideTooltipDialog()})));this.own(q(e,"change-style",f.hitch(this,function(){this._hideTooltipDialog();this._showTooltipDialog()})));this.own(q(this.domNode,"click",f.hitch(this,function(a){a.stopPropagation();a.preventDefault();this._isTooltipDialogOpened?this._hideTooltipDialog():!1!==this._ENABLE&&this._showTooltipDialog()})));this.own(q(document,"click",f.hitch(this,function(a){this.isPartOfPopup(a.srcElement||
a.target)||this._hideTooltipDialog()})));this.picker=e},setColor:function(a){if(a instanceof t){null===this.color&&!0===this.showLabel&&this._changeLabel(a);var b=a.toHex();this.color=a;m.setStyle(this.domNode,"backgroundColor",b);this.picker&&(this.picker.refreshRecords(),this.picker.setColor(b,!1,!0));this.showLabel&&this._changeLabel(this.color)}},getColor:function(){return this.color},_changeLabel:function(a){m.empty(this.domNode);m.create("span",{innerHTML:a.toHex(),className:"color-label",style:{color:x.invertColor(a.toHex())}},
this.domNode)},onChange:function(a){a&&this.showLabel&&this._changeLabel(a)},changeColor:function(){this.picker&&this.picker.changeColor();this.showLabel&&this._changeLabel(this.color)},setTitle:function(a){this.domNode.title=a},getTooltipDialog:function(){return this.tooltipDialog||null}})})},"widgets/Visibility/setting/_build-generate_module":function(){define(["dojo/text!./Setting.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:widgets/Visibility/templates/ColorPickerEditor.html":'\x3cdiv class\x3d"esriCTColorPickerEditor"\x3e\r\n  \x3cdiv class\x3d"colorPicker" data-dojo-attach-point\x3d"colorPicker"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"esriCTSliderWrapper"\x3e\r\n    \x3cdiv class\x3d"esriCTSliderbar" data-dojo-attach-point\x3d"sliderBar"\x3e\r\n      \x3col data-dojo-type\x3d"dijit/form/HorizontalRuleLabels" style\x3d"height:2.5em;" container\x3d"topDecoration"\x3e\r\n        \x3cli\x3e${nls.transparency}\x3c/li\x3e\r\n        \x3cli\x3e\x3c/li\x3e\r\n      \x3c/ol\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cinput type\x3d"text" data-dojo-type\x3d"dijit/form/NumberSpinner" value\x3d"0" data-dojo-attach-point\x3d"spinner"\r\n    data-dojo-props\x3d"smallDelta:10,intermediateChanges:true,constraints: {min:0,max:100}" aria-label\x3d"${nls.transparency}"\x3e\r\n  \x3cdiv class\x3d"esriCTOutFillSection"\x3e\r\n    \x3clabel for\x3d"${id}_select"\x3e${nls.style}\x3c/label\x3e\r\n    \x3cselect class\x3d"noResize" data-dojo-type\x3d"jimu/dijit/formSelect" aria-label\x3d"${nls.style}" data-dojo-attach-point\x3d"dropdown" /\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/Visibility/templates/symbologySettings.html":'\x3cdiv\x3e\r\n       \x3c!-- Visible Section DropDown --\x3e\r\n       \x3cdiv class\x3d"esriCTSettingsRow"\x3e\r\n        \x3cdiv class\x3d"esriCTLabelSettingsRightButton esriCTSettingsButtonIcon esriCTPointer"\r\n          title\x3d"${nls.visibleSectionButtonLabel}" data-dojo-attach-point\x3d"visibleSectionSettingsButton"\r\n          role\x3d"button" aria-label\x3d"${nls.visibleSectionButtonLabel}" tabindex\x3d"0" aria-expanded \x3d"false"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"esriCTInputLabelSettings esriCTEllipsis esriCTSubTitle" title\x3d"${nls.visibleSectionLabel}"\x3e\r\n          ${nls.visibleSectionLabel}\x3c/div\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3c!-- Visible Section Color Pickers --\x3e\r\n      \x3cdiv class\x3d"container esriCTGroupHidden" data-dojo-attach-point\x3d"visibleSectionContainer"\x3e\r\n        \x3cdiv class\x3d"esriCTEllipsis" title\x3d"${nls.outline}"\x3e${nls.outline}\x3c/div\x3e\r\n        \x3cdiv class\x3d"colorPicker Line" id\x3d"visibleSectionOutlineColor"\r\n          data-dojo-attach-point\x3d"visibleAreaOutlineColorPicker"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"esriCTEllipsis" title\x3d"${nls.fill}"\x3e${nls.fill}\x3c/div\x3e\r\n        \x3cdiv class\x3d"colorPicker Fill" id\x3d"visibleSectionFillColor"\r\n          data-dojo-attach-point\x3d"visibleAreaFillColorPicker"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3c!-- Non-visible Section DropDown --\x3e\r\n      \x3cdiv class\x3d"esriCTSettingsRow"\x3e\r\n        \x3cdiv class\x3d"esriCTLabelSettingsRightButton esriCTSettingsButtonIcon esriCTPointer"\r\n        title\x3d"${nls.nonVisibleSectionButtonLabel}" data-dojo-attach-point\x3d"nonVisibleSectionSettingsButton"\r\n        role\x3d"button" aria-label\x3d"${nls.nonVisibleSectionButtonLabel}" tabindex\x3d"0" aria-expanded \x3d"false"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"esriCTInputLabelSettings esriCTEllipsis esriCTSubTitle" title\x3d"${nls.nonVisibleSectionLabel}"\x3e${nls.nonVisibleSectionLabel}\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3c!-- Non-visible Section --\x3e\r\n      \x3cdiv class\x3d"container esriCTGroupHidden" data-dojo-attach-point\x3d"nonVisibleSectionContainer"\x3e\r\n        \x3cdiv class\x3d"esriCTEllipsis" title\x3d"${nls.outline}"\x3e${nls.outline}\x3c/div\x3e\r\n        \x3cdiv class\x3d"colorPicker Line" id\x3d"nonVisibleSectionOutlineColor" data-dojo-attach-point\x3d"nonVisibleAreaOutlineColorPicker"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"esriCTEllipsis" title\x3d"${nls.fill}"\x3e${nls.fill}\x3c/div\x3e\r\n        \x3cdiv class\x3d"colorPicker Fill" id\x3d"nonVisibleSectionFillColor" data-dojo-attach-point\x3d"nonVisibleAreaFillColorPicker"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e   \r\n\x3c/div\x3e',
"url:widgets/Visibility/setting/Setting.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"tabDiv"\x3e\r\n    \x3cdiv\x3e\r\n      \x3cdiv class\x3d"esriCTTabs" data-dojo-attach-point\x3d"lineOfSightTab"\x3e\r\n  \x3cdiv class\x3d"url-section"\x3e\r\n    \x3cdiv class\x3d"label jimu-float-leading" title\x3d"${nls.portalURL}"\x3e${nls.portalURL}\x3c/div\x3e\r\n    \x3cdiv class\x3d"service-browser jimu-float-trailing"\x3e\r\n      \x3ctable cellpadding\x3d"0" cellspacing\x3d"0" style\x3d"width:100%;border-collapse:collapse;"\x3e\r\n        \x3ctbody\x3e\r\n          \x3ctr\x3e\r\n            \x3ctd style\x3d"width:auto;"\x3e\r\n              \x3cdiv data-dojo-attach-point\x3d"urlTextBox" data-dojo-type\x3d"dijit/form/ValidationTextBox" data-dojo-props\x3d\'required:true, spellcheck:false, regExp: dojox.validate.regexp.url\'\r\n                style\x3d"width:100%;height:35px;padding-top:0px;"\x3e\x3c/div\x3e\r\n            \x3c/td\x3e\r\n            \x3ctd style\x3d"width:75px;"\x3e\r\n              \x3cdiv data-dojo-attach-point\x3d"setButton" class\x3d"jimu-btn jimu-float-trailing"\x3e${nls.setTask}\x3c/div\x3e\r\n            \x3c/td\x3e\r\n          \x3c/tr\x3e\r\n        \x3c/tbody\x3e\r\n      \x3c/table\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"error-section hide-section" data-dojo-attach-point\x3d"errorNode"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"esriCTWrapper"\x3e\r\n    \x3cdiv class\x3d"esriCTDijitWrapper" style\x3d"padding: 5px 0px 5px 0px;"\x3e\r\n      \x3cinput class\x3d"switch-toggle" data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"angleUnits" checked\x3d"false" /\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"esriCTLabel"\x3e${nls.defaultMilsForAnglesLabel}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"esriCTWrapper"\x3e\r\n    \x3cdiv class\x3d"esriCTLabel"\x3e${nls.defaultObserverHeightLabel}\x3c/div\x3e\r\n    \x3cdiv class\x3d"esriCTDijitWrapper"\x3e\r\n      \x3cdiv style\x3d"width: 100%"\x3e\r\n        \x3cselect style\x3d"width: 250px" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"observerHeightUnit"\x3e\r\n        \x3c/select\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"esriCTWrapper"\x3e\r\n    \x3cdiv class\x3d"esriCTLabel"\x3e${nls.defaultObservableDistanceLabel}\x3c/div\x3e\r\n    \x3cdiv class\x3d"esriCTDijitWrapper"\x3e\r\n      \x3cdiv style\x3d"width: 100%"\x3e\r\n        \x3cselect style\x3d"width: 250px" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"observableDistanceUnit"\x3e\r\n        \x3c/select\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"esriCTWrapper"\x3e\r\n    \x3cdiv class\x3d"opLayerlabelSettings"\x3e${nls.selectOperationalLayerLabel}\x3c/div\x3e\r\n          \x3cselect class\x3d"opLayerSelectSettings" data-dojo-attach-point\x3d"opLayerList"\r\n            aria-label\x3d"selectOpLayerLabel"\x3e\x3c/select\x3e\r\n          \x3cdiv title\x3d"${nls.helpIconTooltip}" class\x3d"jimu-icon helpBtn" data-dojo-attach-point\x3d"helpBtn"\r\n            aria-label\x3d"${nls.helpIconTooltip}" tabindex\x3d"0" role\x3d"tooltip"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"esriCTTabs" data-dojo-attach-point\x3d"symbologyTab"\x3e\r\n       \x3cdiv data-dojo-attach-point\x3d"symbologySettingsNode"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/Visibility/setting/css/style.css":'.jimu-widget-visibility-setting {height: 100%; overflow: hidden; font-size: 14px;}.jimu-widget-visibility-setting .dijitReset .dijitInputInner {padding-top: 6px !important;}.jimu-popup .title-label {font-size: inherit;}.jimu-widget-visibility-setting .section.common-property {overflow: hidden;}.jimu-widget-visibility-setting .url-section {position: relative; height: 40px;}.jimu-widget-visibility-setting .url-section .label {left: 0; top: 5px; height: 36px; width: 100%; position: relative; top: 50%; -ms-transform: translateY(-50%); -webkit-transform: translateY(-50%); transform: translateY(-50%);}.jimu-widget-visibility-setting .service-browser {width: 100%; padding-bottom: 10px;}.jimu-widget-visibility-setting .error-section {color: red; padding-left: 4px;}.jimu-rtl .jimu-widget-visibility-setting .error-section {padding-right: 14px;}.jimu-widget-visibility-setting .hide-section {visibility: hidden;}.jimu-widget-visibility-setting .jimu-widget-setting-gp-detail {overflow: hidden; position: relative; height: 100%;}.jimu-widget-visibility-setting .nav-pane {width: 250px; height: 100%; overflow-x: hidden; overflow-y: auto;}.claro .jimu-widget-visibility-setting .nav-pane .dijitTitlePaneTitleClosed,.jimu-widget-visibility-setting .nav-pane .nav-pane-node {background-color: #fafafc; border: 1px solid #d2dae2; border-radius: 4px;}.claro .jimu-widget-visibility-setting .nav-pane .dijitTitlePaneTitleClosed,.jimu-widget-visibility-setting .nav-pane .nav-pane-node,.claro .jimu-widget-visibility-setting .nav-pane .dijitTitlePaneTitleOpen {margin-top: 10px; height: 35px;}.jimu-widget-visibility-setting .nav-pane .nav-pane-node {padding: 7px; vertical-align: middle;}.jimu-widget-visibility-setting .nav-pane .link-action-node {cursor: pointer;}.jimu-widget-visibility-setting .nav-pane .link-action-node span {white-space: nowrap;}.jimu-widget-visibility-setting .nav-pane .param-node {padding: 5px 5px 5px 15px; border-top: 1px solid #d2dae2;}.claro .jimu-widget-visibility-setting .nav-pane .dijitTitlePaneContentInner {padding: 0;}.jimu-widget-visibility-setting .link-action-node.jimu-state-active {background-color: #e3ecf2; border-left: 3px solid #15A4FA; padding-left: 12px;}.jimu-widget-visibility-setting .nav-pane .dijitTitlePaneContentOuter {border-radius: 0 0 4px 4px;}.claro .jimu-widget-visibility-setting .nav-pane .dijitTitlePaneTitleOpen {background-color: #6f7e95; color: #fff; border: 1px solid #6f7e95; border-radius: 4px 4px 0 0; background-image: linear-gradient(#6f7e95 0%, #6f7e95 100%);}.claro .jimu-widget-visibility-setting .nav-pane .dijitTitlePaneTitleFocus {margin-top: 7px;}.claro .jimu-widget-visibility-setting .nav-pane .dijitTitlePaneTitleOpen .dijitArrowNode {background-image: url("images/focusArrow.png");}.jimu-widget-visibility-setting .setting-pane {overflow-x: hidden; overflow-y: auto; height: 100%; width: 685px;}.jimu-widget-visibility-setting .field {position: relative; overflow: hidden;}.jimu-widget-visibility-setting .field label {width: 115px; display: inline-block; overflow: hidden; text-overflow: ellipsis;}.jimu-widget-visibility-setting .common-property .field {height: 36px; margin-top: 10px;}.jimu-widget-visibility-setting .common-property .field label {position: relative; top: 50%; -ms-transform: translateY(-50%); -webkit-transform: translateY(-50%); transform: translateY(-50%);}.jimu-widget-visibility-setting .common-property .field label.visibleLabel {position: relative; top: 20%; -ms-transform: translateY(-50%); -webkit-transform: translateY(-50%); transform: translateY(-50%);}.jimu-widget-visibility-setting .common-property .jimu-checkbox {width: 115px;}.jimu-widget-visibility-setting .common-property .jimu-checkbox.visibleCheck {width: 20px; margin-left: 0;}.jimu-widget-visibility-setting .common-property .field .common-input {position: absolute; left: 115px; right: 10px; top: 0px; bottom: 0px; width: auto}.jimu-widget-visibility-setting .special-property .field {height: 20px; margin-top: 5px;}.jimu-widget-visibility-setting .special-property .jimu-gp-editor-base {display: block;}.jimu-widget-visibility-setting .special-property .input-label {margin: 10px 0px; display: inline-block;}.jimu-widget-visibility-setting .special-property .change-editor {margin: 10px; text-decoration: underline; cursor: pointer;}.jimu-widget-visibility-setting .jimu-widget-setting-gp-param .jimu-symbol-chooser {margin-left: 100px;}.jimu-rtl .jimu-widget-visibility-setting .jimu-widget-setting-gp-param .jimu-symbol-chooser {margin-left: 0; margin-right: 100px;}.jimu-widget-visibility-setting .jimu-widget-setting-gp-param .jimu-renderer-chooser .jimu-symbol-chooser {margin-left: 50px;}.jimu-rtl .jimu-widget-visibility-setting .jimu-widget-setting-gp-param .jimu-renderer-chooser .jimu-symbol-chooser {margin-left: 0; margin-right: 50px;}.jimu-widget-visibility-setting .jimu-widget-visibility-setting-layer-order {width: 100%; height: auto; margin-top: 10px;}.jimu-widget-visibility-setting .layer-node {overflow: hidden; margin-top: 10px;}.jimu-widget-visibility-setting .layer-node .order {float: left;}.jimu-widget-visibility-setting .layer-node .label {float: left;}.jimu-widget-visibility-setting .layer-node .order-btn {cursor: pointer;}.jimu-widget-visibility-setting .layer-node:first-child .up {color: rgba(0, 0, 0, 0.4);}.jimu-widget-visibility-setting .layer-node:last-child .down {color: rgba(0, 0, 0, 0.4);}.jimu-widget-visibility-setting .jimu-widget-setting-gp-options {width: 100%; height: auto; margin-top: 10px;}.jimu-widget-visibility-setting .jimu-widget-setting-gp-options .field {margin-top: 10px; height: 36px;}.jimu-widget-visibility-setting .jimu-widget-setting-gp-options .field label {width: auto;}.jimu-widget-visibility-setting .jimu-widget-setting-gp-options .field .option-help-label {position: relative; top: 50%; -ms-transform: translateY(-50%); -webkit-transform: translateY(-50%); transform: translateY(-50%);}.jimu-widget-visibility-setting .jimu-widget-setting-gp-options .field .option-help-url {position: absolute; left: 115px; right: 10px; top: 0px; bottom: 0px; width: auto;}.jimu-gp-editor-chooser .editor-node {display: inline-block; width: 165px; margin-left: 15px;}.jimu-gp-editor-chooser .editor-node .node-box {width: 100%; height: 105px; line-height: 105px; border: 1px solid #D4DCE3; text-align: center; position: relative; cursor: pointer;}.jimu-gp-editor-chooser img {vertical-align: middle;}.jimu-gp-editor-chooser .editor-node .node-label {display: inline-block; margin-top: 10px; width: 100%; text-align: center; overflow: hidden;}.jimu-gp-editor-chooser .editor-node.jimu-state-selected .node-box {border: 2px solid #15A4FA;}.jimu-rtl .jimu-widget-visibility-setting .url-section .label {right: 0;}.jimu-rtl .jimu-widget-visibility-setting .common-property .field .common-input {right: 115px; left: 10px;}.jimu-rtl .jimu-widget-visibility-setting .jimu-widget-setting-gp-options .field .option-help-url {left: 10px; right: 115px;}.jimu-widget-visibility-setting .param-node {border-left: 0; border-right: 0; position: relative;}.jimu-widget-visibility-setting .param-node .action-group {position: absolute; width: 5px; height: 20px; left: 5px; top: 5px; background-image: none; background-repeat: no-repeat; background-position: -22px -101px; cursor: move;}.jimu-widget-visibility-setting .dojoDndItemOver .action-group {background-image: url(images/ago_sprite.png);}.jimu-widget-visibility-setting .dojoDndItemOver .action-group:hover {background-position: -38px -101px;}.jimu-rtl .jimu-widget-visibility-setting .param-node .action-group {left: auto; right: 5px;}.dojoDndAvatarHeader {display: none;}.dojoDndAvatarItem {display: block;}.jimu-widget-visibility-setting .switch-toggle-group {padding: 5px;}.jimu-widget-visibility-setting .switch-toggle-group .checkbox-inline {padding-left: 36px; vertical-align: top;}.jimu-widget-visibility-setting .switch-toggle-group .switch-toggle.dijitCheckBox {margin-left: -36px;}.jimu-widget-visibility-setting .switch-toggle.dijitCheckBox {height: 16px; width: 28px; border: 0 none; background: #adadad; position: relative; float: left; cursor: pointer; -moz-border-radius: 10px; -webkit-border-radius: 10px; border-radius: 10px;}.jimu-rtl .jimu-widget-visibility-setting .switch-toggle.dijitCheckBox {float: left;}.jimu-widget-visibility-setting .switch-toggle.dijitCheckBox:before {content: ""; background: #f8f8f8; position: absolute; padding: 0; height: 12px; width: 12px; left: auto; right: 14px; top: 2px; z-index: 1; -webkit-transition: right 0.3s; -moz-transition: right 0.3s; -o-transition: right 0.3s; transition: right 0.3s; -moz-border-radius: 50%; -webkit-border-radius: 50%; border-radius: 50%;}.jimu-widget-visibility-setting .switch-toggle.dijitCheckBox input {width: 100%; height: 100%; position: absolute; left: 0; z-index: 2;}.jimu-widget-visibility-setting .switch-toggle.dijitCheckBox.dijitCheckBoxChecked {background: #50ad4e;}.jimu-widget-visibility-setting .switch-toggle.dijitCheckBox.dijitCheckBoxChecked:before {right: 2px;}.jimu-widget-visibility-setting .esriCTWrapper {width: 100%; overflow: hidden; padding: 5px 5px;}.jimu-widget-visibility-setting .esriCTLabel {width: 30%; padding: 5px 10px 5px 0px; word-break: break-word; float: left; font-size: 14px;}.jimu-widget-visibility-setting .esriCTDijitWrapper {width: 70%; float: right;}.jimu-rtl .jimu-widget-visibility-setting .esriCTLabel {float: right;}.jimu-rtl .jimu-widget-visibility-setting .esriCTDijitWrapper {float: left;}.jimu-rtl .jimu-widget-visibility-setting .switch-toggle.dijitCheckBox {float: right}.jimu-widget-visibility-setting .opLayerSelectSettings {height: 30px; color: #7d7d7d; padding: 0 5px 0 5px; font-size: 13px; width: 56%; font-family: \'Avenir Medium\'; margin: 7px 0px 20px 0px;}.jimu-widget-visibility-setting .helpBtn {background: url(./images/help_black.png); background-repeat: no-repeat; background-color: transparent; width: 16px; height: 16px; vertical-align: middle; margin-left: 5px;}.jimu-rtl .jimu-widget-visibility-setting .helpBtn {margin-right: 5px;}.jimu-widget-visibility-setting .helpBtn:hover {background: url(./images/help_black_hover.png);}.jimu-widget-visibility-setting .esriCTTabs {padding: 10px;}.jimu-widget-visibility-symbologySettings .esriCTSettingsRow {width: 100%; display: inline-flex;}.jimu-widget-visibility-symbologySettings .esriCTLabelSettingsRightButton {background: url("../../images/arrow-right_black.png") no-repeat;}.jimu-rtl .jimu-widget-visibility-symbologySettings .esriCTLabelSettingsRightButton {transform: rotate(180deg);}.jimu-widget-visibility-symbologySettings .esriCTLabelSettingsRightButton:hover {background: url("../../images/arrow-right_black_hover.png") no-repeat;}.jimu-widget-visibility-symbologySettings .esriCTSettingsButtonIcon {margin-top: 13px; height: 16px; width: 16px;}.jimu-rtl .jimu-widget-visibility-symbologySettings .esriCTSettingsButtonIcon {margin: 10px 0px 0px 5px;}.jimu-widget-visibility-symbologySettings .esriCTPointer {cursor: pointer;}.jimu-widget-visibility-symbologySettings .esriCTInputLabelSettings {float: left; line-height: 28px; padding: 5px 0px 0px 0px;}.jimu-widget-visibility-symbologySettings .esriCTEllipsis {overflow: hidden; text-overflow: ellipsis; white-space: nowrap;}.jimu-widget-visibility-symbologySettings .esriCTSubTitle {font-weight: bold;}.jimu-widget-visibility-symbologySettings .esriCTGroupHidden {display: none;}.jimu-widget-visibility-symbologySettings .esriCTLabelSettingsDownButton {background: url("../../images/arrow-down_black.png") no-repeat; margin-top: 15px;}.jimu-rtl .jimu-widget-visibility-symbologySettings .esriCTLabelSettingsDownButton {margin: 15px 0px 0px 5px;}.jimu-widget-visibility-symbologySettings .esriCTLabelSettingsDownButton:hover {background: url("../../images/arrow-down_black_hover.png") no-repeat;}.jimu-widget-visibility-setting .esriCTColorPickerEditor .esriCTSliderWrapper {width: 235px; display: inline-block; margin: 5px;}.jimu-widget-visibility-setting .esriCTColorPickerEditor .dijitSlider {width: 100%;}.jimu-widget-visibility-setting .esriCTColorPickerEditor {padding-top: 5px; padding-bottom: 8px;}.jimu-widget-visibility-setting .esriCTColorPickerEditor .jimu-color-picker {display: inline-block; width: 25px; height: 25px;}.jimu-widget-visibility-setting .esriCTColorPickerEditor .dijitSpinner.dijitNumberTextBox.dijitValidationTextBox {width: 70px; height: 30px;}.jimu-widget-visibility-setting .esriCTColorPickerEditor .dijitSlider .dijitSliderImageHandleH {top: -10px; width: 20px; height: 20px;}.jimu-widget-visibility-setting .esriCTColorPickerEditor .dijitSliderImageHandleH {top: -7px;}.jimu-widget-visibility-setting .esriCTColorPickerEditor .dijitSliderImageHandle.dijitSliderImageHandleH {background-image: url("../../images/sliderball.svg"); background-position: 0 0;}.jimu-widget-visibility-setting .esriCTColorPickerEditor .dijitSliderThumbHover {background-image: url("../../images/sliderball.svg"); background-position: 0 0;}.jimu-widget-visibility-setting .esriCTColorPickerEditor .dijitSlider .dijitSliderProgressBarH,.jimu-widget-visibility-setting .esriCTColorPickerEditor .dijitSlider .dijitSliderLeftBumper {border-color: #000; background-color: #000; background-image: -webkit-linear-gradient(top, #000 0px, #000 1px, rgba(255, 255, 255, 0) 2px); background-image: -o-linear-gradient(top, #000 0px, #000 1px, rgba(255, 255, 255, 0) 2px); background-image: linear-gradient(top, #000 0px, #000 1px, rgba(255, 255, 255, 0) 2px);}.jimu-widget-visibility-setting .esriCTColorPickerEditor .dijitSlider .dijitSliderRemainingBarH,.jimu-widget-visibility-setting .esriCTColorPickerEditor .dijitSlider .dijitSliderRightBumper {border-color: #d7d7d7; background-color: #d7d7d7;}.jimu-widget-visibility-setting.tabs .esriCTColorPickerEditor .trans {font-family: "Avenir Light"; font-size: 12px; padding: 0 10px 0 20px; letter-spacing: 0.33px;}.jimu-widget-visibility-setting.tabs .esriCTColorPickerEditor .esriCTSliderbar {width: 60px;}.dijitRuleLabelH {left: -12%;}.jimu-widget-visibility-setting .esriCTOutFillSection {vertical-align: bottom; display: -ms-inline-grid; display: -moz-inline-grid; display: inline-flex; flex-direction: column;}',
"*now":function(v){v(['dojo/i18n!*preload*widgets/Visibility/setting/nls/Setting*["ar","bs","ca","cs","da","de","en","el","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sl","sr","sv","th","tr","zh-cn","uk","vi","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/on dojo/dom-attr dojo/query dojo/keys dojo/Deferred dijit/_WidgetsInTemplateMixin jimu/BaseWidgetSetting jimu/dijit/Message esri/dijit/util/busyIndicator ../js/PrivilegeUtil dojo/_base/array jimu/LayerStructure jimu/utils dojo/_base/kernel dojo/dom-style jimu/dijit/TabContainer3 ../js/symbologySettings dojo/dom-construct dijit/form/ValidationTextBox".split(" "),function(v,l,e,f,m,q,t,p,a,b,x,n,r,d,y,w,z,u,g,A,h){return v([b,a],{baseClass:"jimu-widget-visibility-setting",
hasError:!1,postMixInProperties:function(){this.inherited(arguments);l.mixin(this.nls,window.jimuNls.common);l.mixin(this.nls,window.jimuNls.units)},postCreate:function(){this._createSettings();this._initTabs();window.isRTL&&"ar"===z.locale?u.set(this.helpBtn,"transform","rotateY(180deg)"):u.set(this.helpBtn,"transform","");var a=[],c;d.forEach("meters kilometers miles feet yards nauticalMiles".split(" "),l.hitch(this,function(k){c={value:k,label:this.nls.units[k]};a.push(c)}));this.observerHeightUnit.addOption(a);
this.observableDistanceUnit.addOption(l.clone(a));this.observerHeightUnit.set("value","meters");this.observableDistanceUnit.set("value","kilometers");this._populateLayerSelect(this._getAllMapLayers(),this.opLayerList);this._setSelectedOption(this.opLayerList,this.config.operationalLayer?this.config.operationalLayer.name:"")},startup:function(){this.inherited(arguments);this.own(f(this.urlTextBox,"keypress",l.hitch(this,this.urlChanged)));this.own(f(this.setButton,"click",l.hitch(this,this.setButtonClicked)));
this.setConfig(this.config);this.busyIndicator=n.create({target:this.domNode.parentNode,backgroundOpacity:0});this.config.operationalLayer||(this.config.operationalLayer={});this.config.operationalLayer.hasOwnProperty("name")||""!==this.config.operationalLayer.name||(this.opLayerList.value="");this._startValidationProcess()},urlChanged:function(a){this._diasableOk();e.remove(this.setButton,"jimu-state-disabled");a.charOrCode===t.ENTER&&this._startValidationProcess()},setButtonClicked:function(){this._startValidationProcess()},
setConfig:function(a){var c=this.appConfig.portalUrl;a.portalUrl&&(c=a.portalUrl);this.urlTextBox.set("value",c,!1);a.hasOwnProperty("defaultObserverHeightUnit")&&this.observerHeightUnit.set("value",a.defaultObserverHeightUnit);a.hasOwnProperty("defaultObservableDistanceUnit")&&this.observableDistanceUnit.set("value",a.defaultObservableDistanceUnit);a.hasOwnProperty("defaultAngleUnits")&&this.angleUnits.setValue(a.defaultAngleUnits)},getConfig:function(){var a={};if(this.hasError)return!1;this._symbologySettingsInstance.onSettingsChanged();
for(var c in this._currentSettings)a[c]=this._currentSettings[c];return{portalUrl:this.urlTextBox.get("value"),defaultObserverHeightUnit:this.observerHeightUnit.get("value"),defaultObservableDistanceUnit:this.observableDistanceUnit.get("value"),defaultAngleUnits:this.angleUnits.getValue(),operationalLayer:{name:this.opLayerList.value},symbology:a}},validateUrl:function(a){var c=new p;this.privilegeUtil=r.getInstance(a);this.privilegeUtil.loadPrivileges(a).then(l.hitch(this,function(){c.resolve(this._validatePrivileges())}),
l.hitch(this,function(){this._showError();c.reject()}));return c.promise},_configurePortalURL:function(a){var c=new p;a&&this.validateUrl(a).then(l.hitch(this,function(a){a?c.resolve():c.reject()}),l.hitch(this,function(){c.reject()}));return c.promise},_startValidationProcess:function(){if(this.urlTextBox.isValid()){this.busyIndicator.show();var a=this.urlTextBox.get("value");this._configurePortalURL(a).then(l.hitch(this,function(){e.add(this.setButton,"jimu-state-disabled");e.add(this.errorNode,
"hide-section");this._enableOk();this.busyIndicator.hide()}),l.hitch(this,function(){this.busyIndicator.hide();this._showError(this.nls.portalURLError)}))}else this.busyIndicator.hide(),this._showError(this.nls.portalURLError)},_validatePrivileges:function(){return this.privilegeUtil._canPerformElevationAnalysis()?!0:!1},_showError:function(a){a||(a=this.nls.privilegeError,this.privilegeUtil._isServiceAvailable||(a=this.nls.noServiceError));new x({message:a});m.set(this.errorNode,"innerHTML",a);e.remove(this.errorNode,
"hide-section");this._diasableOk()},_enableOk:function(){var a=q(".button-container")[0];a&&a.children&&3<a.children.length&&(e.remove(a.children[0],"jimu-state-disabled"),this.hasError=!1)},_diasableOk:function(){var a=q(".button-container")[0];a&&a.children&&3<a.children.length&&(e.add(a.children[0],"jimu-state-disabled"),this.hasError=!0)},_populateLayerSelect:function(a,c){var b=document.createElement("option");b.value="";b.innerHTML="";b.selected=!0;c.appendChild(b);d.forEach(a,l.hitch(this,
function(a){if(a.url&&"Feature Layer"===a.type&&a.capabilities.includes("Create,Delete,Query,Update,Editing")){var b=document.createElement("option");b.value=a.name;b.innerHTML=w.sanitizeHTML(a.name);b.selected=!1;c.appendChild(b)}}))},_getAllMapLayers:function(){var a=[];y.getInstance().traversal(function(b){"undefined"!==typeof b._layerInfo.layerObject.type&&-1===b._layerInfo.layerObject.type.indexOf("tile")&&"esriGeometryPolygon"===b._layerInfo.layerObject.geometryType&&a.push(b._layerInfo.layerObject)});
return a},_setSelectedOption:function(a,b){for(var c=0;c<a.options.length;c++)if(a.options[c].value===b){a.selectedIndex=c;break}},_initTabs:function(){this.tab=new g({tabs:[{title:this.nls.lineOfSightTabTitle,content:this.lineOfSightTab},{title:this.nls.symbologyTabTitle,content:this.symbologyTab}],style:"{height:100%}"});this.own(f(this.tab,"tabChanged",l.hitch(this,function(){this.tab.containerNode.scrollTop=0})));this.tab.placeAt(this.tabDiv)},_createSettings:function(){this._symbologySettingsInstance=
new A({nls:this.nls,config:this.config,appConfig:this.appConfig},h.create("div",{},this.symbologySettingsNode));this.own(this._symbologySettingsInstance.on("settingsChanged",l.hitch(this,function(a){this._currentSettings=a})));this._symbologySettingsInstance.startup()}})});